(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{373:function(e,t,a){},593:function(e,t,a){},594:function(e,t,a){"use strict";a.r(t);var n=a(2),r=a(0),i=a.n(r),s=a(26),c=a.n(s),o=(a(373),a(27)),l=a(34),u=a(3),p=a.n(u),d=a(5),h=a(10),m=a(11),j=a(13),b=a(12),x=a(655),f=a(629),v=a(638),g=a(653),O=a(639),w=a(654),y=a(641),k=a(323),C=a(631),S=a(84),D=a.n(S),P=a(89),I=function(e,t){var a={name:{pattern:/^[ A-Za-z\xC0-\xC2\xC8-\xCA\xCC\xCD\xD2-\xD4\xD9\xDA\xDD\xE0-\xE3\xE8-\xEA\xEC\xED\xF2-\xF5\xF9\xFA\xFD]+$/,status:!1},email:{pattern:/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/,status:!1},phone:{pattern:/^\d{10}$/,status:!1},ssn:{pattern:/^\d{5}$/,status:!1}},n={name:!1,email:!1,phone:!1,ssn:!1};switch(e){case"name":n.name=null===a.name.pattern.exec(t);break;case"email":n.email=null===a.email.pattern.exec(t);break;case"phone":n.phone=null===a.phone.pattern.exec(t);break;case"ssn":n.ssn=null===a.ssn.pattern.exec(t)}return n},E=a(14),F=a.n(E),N=function(){var e=Object(d.a)(p.a.mark((function e(t,a){var n,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={email:t,password:a},e.prev=1,e.next=4,F.a.post("".concat("","/login"),n,{withCredentials:!0});case 4:return r=e.sent,e.abrupt("return",r.data);case 8:if(e.prev=8,e.t0=e.catch(1),401!==e.t0.response.status){e.next=12;break}return e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,a){return e.apply(this,arguments)}}(),A=a(623),T=a(628),L=a(625),M=a(627),_=a(626),W=function(e){Object(j.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).handleDialogClose=function(){e.props.close(!1,"error")},e}return Object(m.a)(a,[{key:"render",value:function(){return Object(n.jsxs)(A.a,{open:this.props.open,onClose:this.handleDialogClose,"aria-describedby":"alert-dialog-description",children:[Object(n.jsxs)(L.a,{children:[Object(n.jsx)(_.a,{id:"form-dialog-title",children:"Error"}),Object(n.jsx)(M.a,{id:"alert-dialog-description",children:this.props.error})]}),Object(n.jsx)(T.a,{children:Object(n.jsx)(f.a,{onClick:this.handleDialogClose,color:"primary",children:"Got it!"})})]})}}]),a}(r.Component),U=a(630),H=function(e){Object(j.a)(a,e);var t=Object(b.a)(a);function a(){return Object(h.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){return Object(n.jsx)(A.a,{open:this.props.open,"aria-describedby":"alert-dialog-description",PaperProps:{style:{backgroundColor:"transparent",boxShadow:"none"}},children:Object(n.jsx)(L.a,{children:Object(n.jsx)(U.a,{size:60,style:{color:"white"}})})})}}]),a}(r.Component),q=a(29),B=a.n(q),R=function(e){var t=document.cookie.match("(^|;)\\s*"+e+"\\s*=\\s*([^;]+)");return t?t.pop():""};function G(e){document.cookie=e+"=; expires = Thu, 01 Jan 1970 00:00:00 GMT;"}var z=function(){var e=Object(d.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!R("connect.sid")){e.next=12;break}return e.prev=2,e.next=5,F.a.post("".concat("","/isLogin"),{},{withCredentials:!0});case 5:return t=e.sent,e.abrupt("return",t.data);case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}}(),V=a(8),Y=a(634),K=a(635),$=a(633),J=a(300),Z=a.n(J),Q=a(322),X=a(636),ee=function(){var e=Object(d.a)(p.a.mark((function e(t){var a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={symptoms:t},e.prev=1,e.next=4,F.a.post("".concat("","/disease/findDiseases"),a);case 4:if(!(n=e.sent).data.length){e.next=9;break}return e.abrupt("return",n.data);case 9:return e.abrupt("return",te());case 10:e.next=16;break;case 12:if(e.prev=12,e.t0=e.catch(1),400!==e.t0.response.status&&500!==e.t0.response.status){e.next=16;break}return e.abrupt("return",te());case 16:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}(),te=function(){var e=Object(d.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.a.post("".concat("","/medicalServices/general-checkup"),{});case 2:return t=e.sent,e.abrupt("return",[{id:t.data.id,disease:"No known disease found",descriptions:"Sorry. We have never encountered any disease with this combination of symptoms.",medical_service:t.data.name,price:t.data.price}]);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ae=a(661),ne=function(e){Object(j.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={searchInput:"",listOfSymptom:[],checkedListOfSymptom:[],checkedListOfSymptomID:[],filteredListOfSymptom:e.props.symptom,loading:!1},e.handleDialogClose=Object(d.a)(p.a.mark((function t(){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({searchInput:"",listOfSymptom:[],checkedListOfSymptom:[],checkedListOfSymptomID:[],filteredListOfSymptom:[],loading:!1});case 2:e.props.close(!1,"symptoms");case 3:case"end":return t.stop()}}),t)}))),e.handleDiseasePredict=Object(d.a)(p.a.mark((function t(){var a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.setState({loading:!0});case 3:return t.next=5,ee(e.state.checkedListOfSymptomID);case 5:return a=t.sent,t.next=8,e.props.disease(a);case 8:return t.prev=8,t.next=11,e.setState({loading:!1});case 11:return t.finish(8);case 12:case"end":return t.stop()}}),t,null,[[0,,8,12]])}))),e.handleSearch=function(){var t=Object(d.a)(p.a.mark((function t(a){var n,r;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.target.value,t.next=3,e.setState({searchInput:n});case 3:if(!e.state.searchInput){t.next=9;break}return r=e.props.symptom.filter((function(t){return t.name.toLowerCase().includes(e.state.searchInput.toLowerCase())})),t.next=7,e.setState({filteredListOfSymptom:r});case 7:t.next=11;break;case 9:return t.next=11,e.setState({filteredListOfSymptom:[]});case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handleChipClick=function(){var t=Object(d.a)(p.a.mark((function t(a){var n,r,i;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.props.symptom.find((function(e){return e.id===a.id})),r=e.state.checkedListOfSymptom,i=e.state.checkedListOfSymptomID,r.includes(n)||(r.push(n),i.push(n.id)),t.next=6,e.setState({checkedListOfSymptom:r,checkedListOfSymptomID:i});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handleChipDelete=function(){var t=Object(d.a)(p.a.mark((function t(a){var n,r,i,s;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.state.checkedListOfSymptom,r=e.state.checkedListOfSymptomID,i=n.find((function(e){return e.id===a.id})),(s=n.indexOf(i))>-1&&(n.splice(s,1),r.splice(s,1)),t.next=7,e.setState({checkedListOfSymptom:n,checkedListOfSymptomID:r});case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handleSave=Object(d.a)(p.a.mark((function t(){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.handleDiseasePredict();case 2:return t.next=4,e.handleDialogClose();case 4:case"end":return t.stop()}}),t)}))),e}return Object(m.a)(a,[{key:"render",value:function(){var e=this,t=this.props.classes;return Object(n.jsxs)(i.a.Fragment,{children:[Object(n.jsxs)(A.a,{fullWidth:!0,open:this.props.open,onClose:this.handleDialogClose,"aria-describedby":"alert-dialog-description",children:[Object(n.jsx)(_.a,{id:"form-dialog-title",children:"Symptom Log"}),Object(n.jsxs)(L.a,{children:[Object(n.jsx)(M.a,{id:"alert-dialog-description",children:"What's your symptoms babe?"}),Object(n.jsxs)(C.a,{container:!0,spacing:3,children:[Object(n.jsx)(C.a,{item:!0,xs:!0,className:t.root,children:this.state.checkedListOfSymptom.map((function(a){return Object(n.jsx)("span",{style:{margin:"0.5rem 0"},children:Object(n.jsx)(ae.a,{clickable:!0,color:"secondary",label:Object(n.jsx)(P.a,{element:"p",variant:"body2",style:{whiteSpace:"normal"},children:a.name}),onDelete:function(){return e.handleChipDelete(a)},onClick:function(){return e.handleChipDelete(a)},className:t.chip})},a.id)}))}),Object(n.jsx)(C.a,{item:!0,xs:12,children:Object(n.jsx)(g.a,{required:!0,fullWidth:!0,autoFocus:!0,name:"Symptom",variant:"outlined",id:"Symptom",label:"Symptom",value:this.state.searchInput,onChange:this.handleSearch})}),Object(n.jsx)(C.a,{item:!0,xs:!0,className:t.root,children:this.state.filteredListOfSymptom.map((function(a){return Object(n.jsx)("span",{style:{margin:"0.5rem 0"},children:Object(n.jsx)(ae.a,{clickable:!0,color:"primary",label:Object(n.jsx)(P.a,{element:"p",variant:"body2",style:{whiteSpace:"normal"},children:a.name}),onClick:function(){return e.handleChipClick(a)},className:t.chip})},a.id)}))})]})]}),Object(n.jsx)(T.a,{children:Object(n.jsx)(f.a,{onClick:this.handleSave,color:"primary",align:"right",children:"Save"})})]}),Object(n.jsx)(H,{open:this.state.loading})]})}}]),a}(r.Component),re=Object(V.a)((function(e){return{root:{display:"flex",justifyContent:"center",flexWrap:"wrap",listStyle:"none",padding:e.spacing(.5),margin:0},chip:{margin:e.spacing(.5),height:"100%"}}}),{withTheme:!0})(ne),ie=a(36),se=function(e){Object(j.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).handleDialogClose=function(){e.props.close(!1)},e}return Object(m.a)(a,[{key:"render",value:function(){return Object(n.jsxs)(A.a,{open:this.props.open,onClose:this.handleDialogClose,"aria-describedby":"alert-dialog-description",children:[Object(n.jsxs)(L.a,{children:[Object(n.jsx)(_.a,{id:"form-dialog-title",children:this.props.disease?this.props.disease.charAt(0).toUpperCase()+this.props.disease.slice(1):""}),this.props.descriptions,Object(n.jsx)($.a,{style:{marginTop:"2rem"}}),Object(n.jsx)(_.a,{id:"form-dialog-title",children:"Suggested Treatment"}),this.props.medical_service," - ",this.props.price]}),Object(n.jsx)(T.a,{children:Object(n.jsx)(f.a,{onClick:this.handleDialogClose,color:"primary",children:"Got it!"})})]})}}]),a}(r.Component),ce=function(e){Object(j.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={diseaseInfoDialog:!1,diseaseInfo:null},e.handleDialogClose=function(){e.props.close(!1,"disease")},e.handleInfoDialogClose=function(){var t=Object(d.a)(p.a.mark((function t(a){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({diseaseInfoDialog:a});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handleChipClick=function(){var t=Object(d.a)(p.a.mark((function t(a){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({diseaseInfoDialog:!0,diseaseInfo:a});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(m.a)(a,[{key:"render",value:function(){var e=this,t=this.props.classes;return Object(n.jsxs)(i.a.Fragment,{children:[Object(n.jsxs)(A.a,{open:this.props.open,onClose:this.handleDialogClose,"aria-describedby":"alert-dialog-description",children:[Object(n.jsxs)(L.a,{children:[Object(n.jsx)(_.a,{id:"form-dialog-title",children:"Possible Disease"}),Object(n.jsx)(M.a,{id:"alert-dialog-description",children:this.props.diseaseList.map((function(a){return Object(n.jsx)(ae.a,{clickable:!0,label:a.disease,color:"primary",className:t.chip,onClick:function(){return e.handleChipClick(a)}})}))})]}),Object(n.jsx)(T.a,{children:Object(n.jsx)(f.a,{onClick:this.handleDialogClose,color:"primary",children:"Got it!"})})]}),Object(n.jsx)(se,Object(ie.a)({open:this.state.diseaseInfoDialog,close:this.handleInfoDialogClose},this.state.diseaseInfo))]})}}]),a}(r.Component),oe=Object(V.a)((function(e){return{chip:{margin:e.spacing(.5)}}}),{withTheme:!0})(ce),le=function(){var e=Object(d.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F.a.post("".concat("","/symptom/all"));case 3:return t=e.sent,e.abrupt("return",t.data);case 7:if(e.prev=7,e.t0=e.catch(0),500!==e.t0.response.status){e.next=11;break}return e.abrupt("return",null);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),ue=a(301),pe=a.n(ue),de=a(166),he=a.n(de),me=a(637),je=a(167),be=a.n(je),xe=a(302),fe=a.n(xe),ve=function(e){Object(j.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={anchorEl:null,symptomList:[],symptomsDialog:!1,loading:!1,diseaseList:[],diseaseDialog:!1},e.handleMenuClick=function(t){e.setState({anchorEl:t.currentTarget})},e.handleMenuClose=function(){e.setState({anchorEl:null})},e.handleDiseasePredict=Object(d.a)(p.a.mark((function t(){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e.setState({loading:!0}),t.next=4,e.getAllSymptom();case 4:return t.next=6,e.setState({symptomsDialog:!0});case 6:return t.prev=6,e.setState({loading:!1}),t.finish(6);case 9:case"end":return t.stop()}}),t,null,[[0,,6,9]])}))),e.handleDialogClose=function(){var t=Object(d.a)(p.a.mark((function t(a,n){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("symptoms"!==n){t.next=5;break}return t.next=3,e.setState({symptomsDialog:a});case 3:t.next=8;break;case 5:if("disease"!==n){t.next=8;break}return t.next=8,e.setState({diseaseDialog:a});case 8:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),e.getAllSymptom=Object(d.a)(p.a.mark((function t(){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,le().then((function(t){e.setState({symptomList:t})}));case 2:case"end":return t.stop()}}),t)}))),e.getDisease=function(){var t=Object(d.a)(p.a.mark((function t(a){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({diseaseList:a,diseaseDialog:!0});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(m.a)(a,[{key:"render",value:function(){var e=this.props.classes;return Object(n.jsxs)(i.a.Fragment,{children:[Object(n.jsx)(Y.a,{position:"static",color:"primary",elevation:0,className:e.appBar,children:Object(n.jsxs)(K.a,{className:e.toolbar,children:[Object(n.jsx)(P.a,{variant:"h6",color:"inherit",noWrap:!0,className:e.toolbarTitle,component:o.b,to:"/",children:"IU Hospital"}),Object(n.jsx)(f.a,{color:"inherit",className:e.link,startIcon:Object(n.jsx)(Z.a,{}),onClick:this.handleMenuClick,children:"Click here!"}),Object(n.jsxs)(Q.a,{id:"simple-menu",anchorEl:this.state.anchorEl,keepMounted:!0,open:Boolean(this.state.anchorEl),onClose:this.handleMenuClose,children:[Object(n.jsxs)(X.a,{component:o.b,to:"/",children:[Object(n.jsx)(me.a,{children:Object(n.jsx)(he.a,{fontSize:"small"})}),Object(n.jsx)(P.a,{variant:"inherit",children:"Home"})]}),Object(n.jsx)($.a,{variant:"inset"}),Object(n.jsxs)(X.a,{component:o.b,to:"/login",children:[Object(n.jsx)(me.a,{children:Object(n.jsx)(pe.a,{fontSize:"small"})}),Object(n.jsx)(P.a,{variant:"inherit",children:"Login"})]}),Object(n.jsx)($.a,{variant:"inset"}),Object(n.jsxs)(X.a,{component:o.b,to:"/register",children:[Object(n.jsx)(me.a,{children:Object(n.jsx)(fe.a,{fontSize:"small"})}),Object(n.jsx)(P.a,{variant:"inherit",children:"Register"})]}),Object(n.jsx)($.a,{variant:"inset"}),Object(n.jsxs)(X.a,{onClick:this.handleDiseasePredict,children:[Object(n.jsx)(me.a,{children:Object(n.jsx)(be.a,{fontSize:"small"})}),Object(n.jsx)(P.a,{variant:"inherit",children:"Predict Disease"})]})]})]})}),Object(n.jsx)(re,{open:this.state.symptomsDialog,close:this.handleDialogClose,symptom:this.state.symptomList,disease:this.getDisease}),Object(n.jsx)(oe,{open:this.state.diseaseDialog,close:this.handleDialogClose,diseaseList:this.state.diseaseList}),Object(n.jsx)(H,{open:this.state.loading})]})}}]),a}(r.Component),ge=Object(V.a)((function(e){return{appBar:{borderBottom:"1px solid ".concat(e.palette.divider)},toolbar:{flexWrap:"wrap"},toolbarTitle:{flexGrow:1,textDecoration:"none"},link:{margin:e.spacing(1,1.5)}}}),{withTheme:!0})(ve),Oe=function(e){Object(j.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={email:{value:"",hasError:!1},password:{value:""},rememberMe:!0,errorDialog:!1,errorMessage:"",loginStatus:!1,loading:!1},e.handleDialogClose=function(){var t=Object(d.a)(p.a.mark((function t(a,n){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("error"!==n){t.next=3;break}return t.next=3,e.setState({errorDialog:a});case 3:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),e.handleEmailInput=function(t){var a=I("email",t.target.value);e.setState({email:{value:t.target.value,hasError:a.email,error:a.email?"Invalid email address":""}})},e.handlePasswordInput=function(t){e.setState({password:{value:t.target.value}})},e.handleRememberMe=function(t){e.setState({rememberMe:t.target.checked})},e.handleSubmit=function(){var t=Object(d.a)(p.a.mark((function t(a){var n,r,i,s;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),n=e.state,r=n.email,n.password,i=n.rememberMe,r.hasError&&e.setState({errorDialog:!0,errorMessage:"Invalid email address"}),r.hasError){t.next=18;break}return i&&""!==r.value?localStorage.email=r.value:localStorage.removeItem("email"),t.prev=5,t.next=8,e.setState({loading:!0});case 8:return t.next=10,N(e.state.email.value,e.state.password.value);case 10:return t.next=12,z();case 12:(s=t.sent)?e.props.history.push("/".concat(s.role)):e.setState({errorDialog:!0,errorMessage:"Email address/Password is incorrect. Please try again."});case 14:return t.prev=14,t.next=17,e.setState({loading:!1});case 17:return t.finish(14);case 18:case"end":return t.stop()}}),t,null,[[5,,14,18]])})));return function(e){return t.apply(this,arguments)}}(),e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=Object(d.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.setState({loading:!0}),e.next=4,z();case 4:(t=e.sent)&&this.props.history.push("/".concat(t.role));case 6:return e.prev=6,this.setState({loading:!1}),e.finish(6);case 9:localStorage.email&&""!==localStorage.email&&this.setState({email:{value:localStorage.email}});case 10:case"end":return e.stop()}}),e,this,[[0,,6,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.classes;return Object(n.jsxs)(i.a.Fragment,{children:[Object(n.jsx)(ge,{}),Object(n.jsxs)(C.a,{container:!0,className:e.root,children:[Object(n.jsx)(v.a,{}),Object(n.jsx)(C.a,{item:!0,xs:!1,sm:4,md:7,className:e.image}),Object(n.jsx)(C.a,{item:!0,xs:12,sm:8,md:5,component:k.a,elevation:6,square:!0,children:Object(n.jsxs)("div",{className:e.paper,children:[Object(n.jsx)(x.a,{className:e.avatar,children:Object(n.jsx)(D.a,{})}),Object(n.jsx)(P.a,{component:"h1",variant:"h5",children:" Login "}),Object(n.jsxs)("form",{className:e.form,onSubmit:this.handleSubmit,children:[Object(n.jsxs)(C.a,{container:!0,spacing:2,children:[Object(n.jsx)(C.a,{item:!0,xs:12,children:Object(n.jsx)(g.a,{variant:"outlined",id:"email",label:"Email Address",name:"email",autoComplete:"email",required:!0,fullWidth:!0,value:this.state.email.value,error:this.state.email.hasError,onChange:this.handleEmailInput})}),Object(n.jsx)(C.a,{item:!0,xs:12,children:Object(n.jsx)(g.a,{variant:"outlined",id:"password",label:"Password",name:"password",type:"password",autoComplete:"current-password",required:!0,fullWidth:!0,value:this.state.password.value,onChange:this.handlePasswordInput})})]}),Object(n.jsx)(O.a,{control:Object(n.jsx)(w.a,{color:"primary",checked:this.state.rememberMe}),label:"Remember me",onChange:this.handleRememberMe}),Object(n.jsx)(f.a,{fullWidth:!0,variant:"contained",color:"primary",type:"submit",className:e.submit,children:"Login"}),Object(n.jsxs)(C.a,{container:!0,children:[Object(n.jsx)(C.a,{item:!0,xs:!0,children:Object(n.jsx)(y.a,{component:o.b,to:"/forgetPassword",children:Object(n.jsx)(P.a,{variant:"body2",align:"left",children:"Forgot password"})})}),Object(n.jsx)(C.a,{item:!0,xs:!0,children:Object(n.jsx)(y.a,{component:o.b,to:"/register",children:Object(n.jsx)(P.a,{variant:"body2",align:"right",children:"Don't have an account?"})})})]})]})]})})]}),Object(n.jsx)(W,{open:this.state.errorDialog,close:this.handleDialogClose,error:this.state.errorMessage}),Object(n.jsx)(H,{open:this.state.loading})]})}}]),a}(r.Component),we=B()((function(e){return{root:{height:"100%"},image:{backgroundImage:"url(https://images.unsplash.com/photo-1551076805-e1869033e561?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=2980&q=80)",backgroundRepeat:"no-repeat",backgroundColor:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[900],backgroundSize:"cover",backgroundPosition:"center"},paper:{margin:e.spacing(8,4),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}),{withTheme:!0})(Oe),ye=a(644),ke=function(){var e=Object(d.a)(p.a.mark((function e(t){var a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={email:t},e.prev=1,e.next=4,F.a.post("".concat("","/checkEmailExist"),a);case 4:return n=e.sent,e.abrupt("return",n.data.emailExist);case 8:if(e.prev=8,e.t0=e.catch(1),500!==e.t0.response.status){e.next=12;break}return e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),Ce=function(){var e=Object(d.a)(p.a.mark((function e(t,a,n,r,i,s,c){var o,l,u;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o={name:t,email:a,password:n,phone:r,gender:i,dob:s,ssn:c,patientID:""},e.prev=1,e.next=4,F.a.post("".concat("","/patient/create"),o);case 4:return u=e.sent,o.patientID=u.data[0].id,e.next=8,F.a.post("".concat("","/register"),o);case 8:return l=e.sent,e.abrupt("return",l.data.registerStatus);case 12:e.prev=12,e.t0=e.catch(1),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t,a,n,r,i,s,c){return e.apply(this,arguments)}}(),Se=a(94),De=a(47),Pe=a(652),Ie=function(){var e=Object(d.a)(p.a.mark((function e(t){var a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={phone:t},e.prev=1,e.next=4,F.a.post("".concat("","/checkPhoneExist"),a);case 4:return n=e.sent,e.abrupt("return",n.data.phoneExist);case 8:if(e.prev=8,e.t0=e.catch(1),500!==e.t0.response.status){e.next=12;break}return e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),Ee=function(e){Object(j.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={name:{value:"",hasError:!1,error:""},gender:{value:""},email:{value:"",hasError:!1,error:""},phone:{value:"",hasError:!1,error:""},SSN:{value:"",hasError:!1,error:""},DOB:{value:new Date},password:{value:""},confirmedPassword:{value:"",hasError:!1,error:""},registerStatus:!1,errorDialog:!1,errorMessage:"",loading:!1},e.handleNameInput=function(t){var a=I("name",t.target.value);e.setState({name:{value:t.target.value,hasError:a.name,error:a.name?"Are you a daughter of Elon Musk?":""}})},e.handleGenderInput=function(t){e.setState({gender:{value:t.target.value}})},e.handleEmailInput=function(t){var a=I("email",t.target.value);e.setState({email:{value:t.target.value,hasError:a.email,error:a.email?"Invalid email address":""}})},e.handlePhoneInput=function(t){var a=I("phone",t.target.value);e.setState({phone:{value:t.target.value,hasError:a.phone,error:a.phone?"Must have 10 numbers":""}})},e.handleSSNInput=function(){var t=Object(d.a)(p.a.mark((function t(a){var n;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=I("ssn",a.target.value),t.next=3,e.setState({SSN:{value:a.target.value,hasError:n.ssn,error:n.ssn?"5 numbers and no character":""}});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handleDOBInput=function(){var t=Object(d.a)(p.a.mark((function t(a){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({DOB:{value:a}});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handlePasswordInput=function(t){e.setState({password:{value:t.target.value}})},e.handleConfirmedPasswordInput=function(t){var a=t.target.value===e.state.password.value;e.setState({confirmedPassword:{value:t.target.value,hasError:!a,error:a?"":"Password doesn't match."}})},e.handleDialogClose=function(){var t=Object(d.a)(p.a.mark((function t(a,n){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("error"!==n){t.next=3;break}return t.next=3,e.setState({errorDialog:a});case 3:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),e.handleSubmit=Object(d.a)(p.a.mark((function t(){var a,n,r,i;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a={dialogMessage:"",dialogHasError:!1},n=e.state.email,t.prev=2,t.next=5,e.setState({loading:!0});case 5:return t.next=7,ke(e.state.email.value);case 7:return r=t.sent,t.next=10,Ie(e.state.phone.value);case 10:return i=t.sent,t.next=13,e.setState({email:n});case 13:return t.prev=13,t.next=16,e.setState({loading:!1});case 16:return t.finish(13);case 17:return e.state.name.hasError?(a.dialogHasError=!0,a.dialogMessage="The given name is invalid. Name must not contain numbers and special characters."):e.state.email.hasError?(a.dialogHasError=!0,a.dialogMessage="The given email is invalid. Please input the valid email"):e.state.phone.hasError?(a.dialogHasError=!0,a.dialogMessage="Phone number is invalid. Phone number must contain 10 numbers."):e.state.SSN.hasError?(a.dialogHasError=!0,a.dialogMessage="The social security number is wrong. Please try again."):e.state.confirmedPassword.hasError?(a.dialogHasError=!0,a.dialogMessage="Please confirm the password again. Confirmed password should be the same with password."):r?(a.dialogHasError=!0,a.dialogMessage="This email is registered. Please change email or recover password."):i&&(a.dialogHasError=!0,a.dialogMessage="This phone number is registered. Please use another phone number"),t.next=20,e.setState({errorDialog:a.dialogHasError,errorMessage:a.dialogMessage});case 20:if(a.dialogHasError){t.next=32;break}return t.prev=21,t.t0=e,t.next=25,Ce(e.state.name.value,e.state.email.value,e.state.password.value,e.state.phone.value,e.state.gender.value,e.state.DOB.value,e.state.SSN.value);case 25:t.t1=t.sent,t.t2={loading:!0,registerStatus:t.t1},t.t0.setState.call(t.t0,t.t2);case 28:return t.prev=28,t.next=31,e.setState({loading:!1});case 31:return t.finish(28);case 32:case"end":return t.stop()}}),t,null,[[2,,13,17],[21,,28,32]])}))),e}return Object(m.a)(a,[{key:"render",value:function(){var e=this.props.classes;return Object(n.jsxs)(i.a.Fragment,{children:[Object(n.jsx)(ge,{}),Object(n.jsxs)(ye.a,{maxWidth:"xs",children:[Object(n.jsx)(v.a,{}),Object(n.jsxs)("div",{className:e.paper,children:[Object(n.jsx)(x.a,{className:e.avatar,children:Object(n.jsx)(D.a,{})}),Object(n.jsx)(P.a,{component:"h1",variant:"h5",gutterBottom:!0,children:"Sign up"}),this.state.registerStatus?Object(n.jsxs)(P.a,{component:"p",variant:"body1",align:"center",children:["Register Successful ",Object(n.jsx)("br",{}),"Click ",Object(n.jsx)("span",{children:" "}),Object(n.jsx)(y.a,{component:o.b,to:"/login",children:"here"}),Object(n.jsx)("span",{children:" "})," to login"]}):Object(n.jsxs)("form",{className:e.form,children:[Object(n.jsxs)(C.a,{container:!0,spacing:2,children:[Object(n.jsx)(C.a,{item:!0,xs:12,sm:9,children:Object(n.jsx)(g.a,{autoComplete:"name",name:"Name",variant:"outlined",required:!0,fullWidth:!0,id:"Name",label:"Name",autoFocus:!0,value:this.state.name.value,error:this.state.name.hasError,helperText:this.state.name.error,onChange:this.handleNameInput})}),Object(n.jsx)(C.a,{item:!0,xs:12,sm:3,children:Object(n.jsxs)(g.a,{required:!0,fullWidth:!0,autoFocus:!0,select:!0,autoComplete:"Gender",name:"Gender",variant:"outlined",id:"Gender",label:"Sex",value:this.state.gender.value,onChange:this.handleGenderInput,children:[Object(n.jsx)(X.a,{value:"male",children:"M"},"M"),Object(n.jsx)(X.a,{value:"female",children:"F"},"F")]})}),Object(n.jsx)(C.a,{item:!0,xs:12,sm:6,children:Object(n.jsx)(g.a,{autoComplete:"ssn",name:"SSN",variant:"outlined",required:!0,fullWidth:!0,id:"SSN",label:"SSN",autoFocus:!0,value:this.state.SSN.value,error:this.state.SSN.hasError,helperText:this.state.SSN.error,onChange:this.handleSSNInput})}),Object(n.jsx)(C.a,{item:!0,xs:12,sm:6,children:Object(n.jsx)(De.a,{utils:Se.a,children:Object(n.jsx)(Pe.a,{disableFuture:!0,variant:"inline",inputVariant:"outlined",label:"Date of Birth",format:"dd/MM/yyyy",openTo:"year",views:["year","month","date"],value:this.state.DOB.value,InputAdornmentProps:{position:"end"},onChange:this.handleDOBInput})})}),Object(n.jsx)(C.a,{item:!0,xs:12,sm:6,children:Object(n.jsx)(g.a,{variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",value:this.state.email.value,error:this.state.email.hasError,helperText:this.state.email.error,onChange:this.handleEmailInput})}),Object(n.jsx)(C.a,{item:!0,xs:12,sm:6,children:Object(n.jsx)(g.a,{variant:"outlined",required:!0,fullWidth:!0,id:"phone",label:"Phone Number",name:"phone",autoComplete:"phone",value:this.state.phone.value,error:this.state.phone.hasError,helperText:this.state.phone.error,onChange:this.handlePhoneInput})}),Object(n.jsx)(C.a,{item:!0,xs:12,children:Object(n.jsx)(g.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",value:this.state.password.value,error:this.state.password.hasError,helperText:this.state.password.error,onChange:this.handlePasswordInput})}),Object(n.jsx)(C.a,{item:!0,xs:12,children:Object(n.jsx)(g.a,{variant:"outlined",required:!0,fullWidth:!0,name:"confirmedPassword",label:"Confirmed Password Again",type:"password",id:"ConfirmedPassword",autoComplete:"current-password",value:this.state.confirmedPassword.value,error:this.state.confirmedPassword.hasError,helperText:this.state.confirmedPassword.error,onChange:this.handleConfirmedPasswordInput})})]}),Object(n.jsx)(f.a,{className:e.submit,fullWidth:!0,variant:"contained",color:"primary",onClick:this.handleSubmit,children:"Sign Up"}),Object(n.jsx)(C.a,{container:!0,justify:"flex-end",children:Object(n.jsx)(C.a,{item:!0,children:Object(n.jsx)(y.a,{component:o.b,to:"/login",children:Object(n.jsx)(P.a,{variant:"body2",align:"right",children:"Already have an account? Sign in"})})})})]})]})]}),Object(n.jsx)(W,{open:this.state.errorDialog,close:this.handleDialogClose,error:this.state.errorMessage}),Object(n.jsx)(H,{open:this.state.loading})]})}}]),a}(r.Component),Fe=Object(V.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}}),{withTheme:!0})(Ee),Ne=a(70),Ae=a(52),Te=a(646),Le=a(650),Me=a(649),_e=a(645),We=a(647),Ue=a(648),He=function(){var e=Object(d.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F.a.post("".concat("","/medicalServices/all"),{withCredentials:!0});case 3:return t=e.sent,e.abrupt("return",t.data);case 7:if(e.prev=7,e.t0=e.catch(0),500!==e.t0.response.status){e.next=11;break}return e.abrupt("return",null);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),qe=a(40),Be=a(659),Re=B()((function(e){return{icon:{},iconContainer:{width:"24px",height:"24px"}}}))((function(e){e.classes;var t=Object(r.useState)(0),a=Object(qe.a)(t,2),i=a[0],s=a[1];Object(r.useEffect)((function(){Object(d.a)(p.a.mark((function t(){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=i,t.next=1===t.t0?3:2===t.t0?6:9;break;case 3:return t.next=5,e.sortTools.updateCriteria("add",e.columnID,"asc");case 5:return t.abrupt("break",11);case 6:return t.next=8,e.sortTools.updateCriteria("add",e.columnID,"dsc");case 8:return t.abrupt("break",11);case 9:return t.next=11,e.sortTools.updateCriteria("del",e.columnID);case 11:return t.next=13,e.sortTools.sort();case 13:case"end":return t.stop()}}),t)})))()}),[i]);var c=function(){var e=Object(d.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s((function(e){return(e+1)%3}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.jsx)(Be.a,{active:1===i||2===i,direction:2===i?"dsc":"asc",onClick:c,children:e.children})})),Ge=a(177),ze=a(657),Ve=a(303),Ye=a.n(Ve),Ke=a(20),$e=B()((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:Object(Ne.a)({flexGrow:1,display:"none"},e.breakpoints.up("sm"),{display:"block"}),search:Object(Ne.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(Ke.c)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(Ke.c)(e.palette.common.white,.25)},marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(1),width:"auto"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(Ne.a)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("sm"),{width:"12ch","&:focus":{width:"20ch"}})}}))((function(e){var t=e.classes,a=Object(r.useState)(""),i=Object(qe.a)(a,2),s=i[0],c=i[1],o=Object(r.useState)(),l=Object(qe.a)(o,2),u=l[0],h=l[1];Object(r.useEffect)((function(){Object(d.a)(p.a.mark((function t(){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.loadingHandle(!0);case 2:return t.t0=h,t.next=5,e.defaultRows();case 5:return t.t1=t.sent,t.next=8,(0,t.t0)(t.t1);case 8:case"end":return t.stop()}}),t)})))()}),[]),Object(r.useEffect)((function(){Object(d.a)(p.a.mark((function t(){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!u){t.next=4;break}return e.updateRowHandle(u),t.next=4,e.loadingHandle(!1);case 4:case"end":return t.stop()}}),t)})))()}),[u]);var m=function(){var t=Object(d.a)(p.a.mark((function t(a){var n,r;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=[],e.columns.map((function(e){console.log(e.id);var t=u.filter((function(t){return(t[e.id]+"").toLowerCase().includes(s.toLowerCase())}));n=[].concat(Object(Ge.a)(n),Object(Ge.a)(t)),console.log(t,n)})),r=n.reduce((function(e,t){return e.includes(t)?e:[].concat(Object(Ge.a)(e),[t])}),[]),t.next=5,e.updateRowHandle(r);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),j=function(){var e=Object(d.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(13!==t.keyCode){e.next=3;break}return e.next=3,m(t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b=function(){var e=Object(d.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c(t.target.value);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsxs)(K.a,{children:[Object(n.jsx)(P.a,{className:t.title,variant:"h6",color:"primary",noWrap:!0,children:e.title}),Object(n.jsxs)("div",{className:t.search,children:[Object(n.jsx)("div",{className:t.searchIcon,children:Object(n.jsx)(Ye.a,{onClick:m})}),Object(n.jsx)(ze.a,{placeholder:"Search\u2026",classes:{root:t.inputRoot,input:t.inputInput},inputProps:{"aria-label":"search"},value:s,onChange:b,onKeyDown:j})]})]})})),Je=function(){var e=Object(d.a)(p.a.mark((function e(){var t,a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={patientID:null,practitionerID:null},e.next=3,z();case 3:return a=e.sent,e.prev=4,"patient"===a.role?t.patientID=a.patientID:"practitioner"===a.role&&(t.practitionerID=a.practitionerID),e.next=8,F.a.post("".concat("","/").concat(a.role,"/appointments/all"),{},{withCredentials:!0});case 8:return n=e.sent,e.abrupt("return",n.data);case 12:return e.prev=12,e.t0=e.catch(4),console.log(e.t0),e.abrupt("return",[]);case 16:case"end":return e.stop()}}),e,null,[[4,12]])})));return function(){return e.apply(this,arguments)}}(),Ze=[{id:"id",label:"ID",align:"center",compareFn:function(e,t,a){var n=e.id-t.id;return"asc"===a?n:-n}},{id:"name",label:"Name",compareFn:function(e,t,a){var n=e.name.toUpperCase()>t.name.toUpperCase()?1:-1;return"asc"===a?n:-n}},{id:"price",label:"Price",compareFn:function(e,t,a){var n=+e.price.slice(1)-+t.price.slice(1);return"asc"===a?n:-n}},{id:"department",label:"Department",align:"right",compareFn:function(e,t,a){var n=e.department.toUpperCase()>t.department.toUpperCase()?1:-1;return"asc"===a?n:-n}}],Qe=function(e){Object(j.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={medicalServiceList:[],sortColumns:[],loading:!1},e.sortTools={sort:e.sort.bind(Object(Ae.a)(e)),updateCriteria:e.updateSortColumns.bind(Object(Ae.a)(e))},e.handleLoading=function(){var t=Object(d.a)(p.a.mark((function t(a){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({loading:a});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(m.a)(a,[{key:"sort",value:function(){var e=Object(d.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state.medicalServiceList,console.log(this.state.sortColumns),this.state.sortColumns.forEach((function(e){t.sort((function(t,a){return Ze.find((function(t){return t.id===e.key})).compareFn(t,a,e.dir)}))})),e.next=5,this.setState({medicalServiceList:t});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateSortColumns",value:function(){var e=Object(d.a)(p.a.mark((function e(t,a){var n,r,i=arguments;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>2&&void 0!==i[2]?i[2]:"",r=(r=this.state.sortColumns).filter((function(e){return e.key!==a})),"add"===t&&r.splice(1,0,{key:a,dir:n}),r.length||r.push({key:"id",dir:"asc"}),e.next=7,this.setState({sortColumns:r});case 7:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"updateRowHandle",value:function(){var e=Object(d.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setState({medicalServiceList:t});case 2:return e.next=4,this.sort();case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return Object(n.jsxs)(i.a.Fragment,{children:[Object(n.jsx)($e,{columns:Ze,updateRowHandle:this.updateRowHandle.bind(this),defaultRows:He,loadingHandle:this.handleLoading.bind(this),title:"Medical Services"}),Object(n.jsx)(_e.a,{children:Object(n.jsxs)(Te.a,{size:"medium",stickyHeader:!0,children:[Object(n.jsx)(We.a,{children:Object(n.jsx)(Ue.a,{children:Ze.map((function(t){return Object(n.jsx)(Me.a,{align:t.align,children:Object(n.jsx)(Re,{sortTools:e.sortTools,columnID:t.id,children:t.label})},t.id)}))})}),Object(n.jsx)(Le.a,{children:this.state.medicalServiceList.map((function(e){return Object(n.jsx)(Ue.a,{hover:!0,children:Ze.map((function(t){return Object(n.jsx)(Me.a,{align:t.align,children:e[t.id]},t.id)}))},e.id)}))})]})}),Object(n.jsx)(H,{open:this.state.loading})]})}}]),a}(r.Component),Xe=function(e){Object(j.a)(a,e);var t=Object(b.a)(a);function a(){return Object(h.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=Object(d.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null!==sessionStorage.getItem("redirect")&&(this.props.history.push(sessionStorage.redirect),sessionStorage.removeItem("redirect"));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.classes;return Object(n.jsxs)(i.a.Fragment,{children:[Object(n.jsx)(v.a,{}),Object(n.jsx)(ge,{}),Object(n.jsxs)(ye.a,{maxWidth:"sm",component:"main",className:e.heroContent,children:[Object(n.jsx)(P.a,{component:"h1",variant:"h3",align:"center",color:"textPrimary",gutterBottom:!0,children:"Treatment in the best hospital of Vietnam"}),Object(n.jsx)(P.a,{component:"p",variant:"h6",align:"center",color:"textSecondary",children:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Asperiores aspernatur assumenda beatae cum dicta dignissimos doloremque doloribus eum exercitationem facilis fuga mollitia neque numquam odio officiis pariatur placeat provident quo rem, rerum sint tempore, veniam vitae. Alias corporis enim iure officia omnis optio perferendis perspiciatis, reiciendis velit veniam. Atque ipsam iusto necessitatibus omnis quasi similique veniam voluptatem. Atque doloribus ducimus est nam omnis quae quo ut? Animi deleniti ex expedita hic laboriosam modi officia, optio repellat reprehenderit sapiente. Atque consequatur cum dolore doloremque ducimus eius nemo obcaecati, quaerat soluta voluptatum?"})]}),Object(n.jsx)(ye.a,{maxWidth:"xs",children:Object(n.jsxs)(C.a,{container:!0,children:[Object(n.jsx)(C.a,{item:!0,xs:!0,children:Object(n.jsx)(y.a,{component:o.b,to:"/login",children:Object(n.jsx)(P.a,{variant:"body1",align:"center",children:"Book now!"})})}),Object(n.jsx)(C.a,{item:!0,xs:!0,children:Object(n.jsx)(y.a,{component:o.b,to:"/register",children:Object(n.jsx)(P.a,{variant:"body1",align:"center",children:"I'm new here!"})})})]})})]})}}]),a}(r.Component),et=Object(V.a)((function(e){return{"@global":{ul:{margin:0,padding:0,listStyle:"none"}},heroContent:{padding:e.spacing(8,0,6)},cardHeader:{backgroundColor:"light"===e.palette.type?e.palette.grey[200]:e.palette.grey[700]},cardPricing:{display:"flex",justifyContent:"center",alignItems:"baseline",marginBottom:e.spacing(2)},footer:Object(Ne.a)({borderTop:"1px solid ".concat(e.palette.divider),marginTop:e.spacing(8),paddingTop:e.spacing(3),paddingBottom:e.spacing(3)},e.breakpoints.up("sm"),{paddingTop:e.spacing(6),paddingBottom:e.spacing(6)})}}),{withTheme:!0})(Xe),tt=function(){var e=Object(d.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F.a.post("".concat("","/forgetPassword"),{email:t});case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),500!==e.t0.response.status){e.next=9;break}return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}(),at=function(){var e=Object(d.a)(p.a.mark((function e(t,a){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F.a.post("".concat("","/resetPassword"),{email:t,password:a});case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),500!==e.t0.response.status){e.next=9;break}return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t,a){return e.apply(this,arguments)}}(),nt=function(){var e=Object(d.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(d.a)(p.a.mark((function e(a,n){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F.a.post("".concat("","/verify-jwt"),{jwtToken:t});case 3:r=e.sent,a(r.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),n(e.t0.response.data.error);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,a){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),rt=function(e){Object(j.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={email:{value:"",hasError:!1,error:""},errorDialog:!1,errorMessage:"",done:!1,loading:!1},e.handleEmailInput=function(t){var a=I("email",e.state.email.value);e.setState({email:{value:t?t.target.value:e.state.email.value,hasError:a.email,error:a.email?"Invalid email address":""}})},e.handleDialogClose=function(){var t=Object(d.a)(p.a.mark((function t(a,n){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("error"!==n){t.next=3;break}return t.next=3,e.setState({errorDialog:a,errorMessage:""});case 3:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),e.handleSubmit=function(){var t=Object(d.a)(p.a.mark((function t(a){var n;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),n={dialogMessage:"",dialogHasError:!1},e.state.email.hasError&&(n.dialogHasError=!0,n.dialogMessage="The given email is invalid. Please input the valid email"),e.setState({dialogHasError:n.dialogHasError,dialogMessage:n.dialogMessage}),n.dialogHasError){t.next=20;break}return e.setState({done:!0}),t.prev=6,t.next=9,e.setState({loading:!0});case 9:return t.next=11,tt(e.state.email.value);case 11:t.next=16;break;case 13:t.prev=13,t.t0=t.catch(6),console.log(t.t0);case 16:return t.prev=16,t.next=19,e.setState({loading:!1});case 19:return t.finish(16);case 20:case"end":return t.stop()}}),t,null,[[6,13,16,20]])})));return function(e){return t.apply(this,arguments)}}(),e.backToForm=function(t){t.preventDefault(),e.setState({done:!1})},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this.props.classes;return Object(n.jsxs)(i.a.Fragment,{children:[Object(n.jsxs)(ye.a,{maxWidth:"xs",children:[Object(n.jsx)(v.a,{}),Object(n.jsxs)("div",{className:e.paper,children:[Object(n.jsx)(x.a,{className:e.avatar,children:Object(n.jsx)(D.a,{})}),Object(n.jsx)(P.a,{component:"h1",variant:"h5",gutterBottom:!0,children:"Password Recovery"}),this.state.done?Object(n.jsxs)(P.a,{component:"p",variant:"body1",align:"justify",children:["You should soonly receive an email containing a link to reset password. If you have not received an email, it may not be a registered one. Click ",Object(n.jsx)("span",{children:" "}),Object(n.jsx)(y.a,{href:"",onClick:this.backToForm,children:"here"}),Object(n.jsx)("span",{children:" "})," to enter another one."]}):Object(n.jsxs)("div",{children:[Object(n.jsx)(P.a,{component:"p",variant:"subtitle2",children:"Enter your email address to receive reset password link"}),Object(n.jsxs)("form",{className:e.form,onSubmit:this.handleSubmit,children:[Object(n.jsx)(C.a,{container:!0,spacing:2,children:Object(n.jsx)(C.a,{item:!0,xs:12,children:Object(n.jsx)(g.a,{variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",value:this.state.email.value,error:this.state.email.hasError,helperText:this.state.email.error,onChange:this.handleEmailInput})})}),Object(n.jsx)(f.a,{className:e.submit,fullWidth:!0,variant:"contained",color:"primary",type:"submit",children:"Submit"})]})]})]})]}),Object(n.jsx)(H,{open:this.state.loading}),Object(n.jsx)(W,{open:this.state.errorDialog,close:this.handleDialogClose,error:this.state.errorMessage})]})}}]),a}(r.Component),it=Object(V.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}}),{withTheme:!0})(rt),st=a(304),ct=a.n(st),ot=B()({root:{backgroundColor:"#2b252d",color:"#fffbfb",whiteSpace:"nowrap",fontWeight:"bold",flex:0},item:{padding:"1rem 10rem"}})((function(e){var t=[Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(C.a,{item:!0,style:{marginRight:"1rem"},children:"Fork me on"}),Object(n.jsx)(C.a,{item:!0,children:Object(n.jsx)(y.a,{target:"_blank",color:"inherit",href:"https://github.com/tidunguyen/hms-PERN",children:Object(n.jsx)(ct.a,{})})})]}),Object(n.jsx)(n.Fragment,{children:"Copyright \xa9 2020"}),"International University - VNUHCM"],a=e.classes;return Object(n.jsx)(C.a,{component:"footer",container:!0,justify:"space-evenly",alignItems:"center",xs:12,className:a.root,children:t.map((function(e){return Object(n.jsx)(C.a,{item:!0,container:!0,className:a.item,alignItems:"center",xs:4,wrap:"nowrap",justify:"center",children:e})}))})})),lt=a(660),ut=B()({root:{flex:1}})((function(e){var t=e.classes,a=e.children;return Object(n.jsx)(lt.a,{component:"main",className:t.root,children:a})})),pt=function(e){Object(j.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(h.a)(this,a);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))).state={button:{open:!1,error:""},password:{value:"",reenter:{hasError:!1,error:""}},mess:"",email:"",messOnly:!1,loading:!1},e.handleReenterPassword=function(t){var a=e.state.password;t.target.value!==a.value?a.reenter={hasError:!0,error:"Reentered password does not match"}:a.reenter={hasError:!1,error:""},e.setState({password:a})},e.handleEnterPassword=function(t){var a=e.state.password;a.value=t.target.value,e.setState({password:a})},e.handleDialogClose=function(){e.setState({button:{open:!1,error:""}})},e.handleSubmit=function(){var t=Object(d.a)(p.a.mark((function t(a){var r;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),r={dialogMessage:"",dialogHasError:!1},e.state.password.reenter.hasError&&(r.dialogHasError=!0,r.dialogMessage=e.state.password.reenter.error),e.setState({button:{open:r.dialogHasError,error:r.dialogMessage}}),r.dialogHasError){t.next=20;break}return t.prev=5,t.next=8,e.setState({loading:!0});case 8:return t.next=10,at(e.state.email,e.state.password.value);case 10:e.setState({messOnly:!0,mess:Object(n.jsxs)(n.Fragment,{children:["You have successfully changed your password. ",Object(n.jsx)("br",{}),Object(n.jsxs)(P.a,{component:"p",variant:"body1",align:"center",children:["Click ",Object(n.jsx)("span",{children:" "}),Object(n.jsx)(o.b,{to:"/login",children:"here"}),Object(n.jsx)("span",{children:" "})," to login"]})]})}),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(5),console.log(t.t0);case 16:return t.prev=16,t.next=19,e.setState({loading:!1});case 19:return t.finish(16);case 20:case"end":return t.stop()}}),t,null,[[5,13,16,20]])})));return function(e){return t.apply(this,arguments)}}(),e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=Object(d.a)(p.a.mark((function e(){var t,a,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((t=new URLSearchParams(window.location.search)).has("token")){e.next=5;break}this.props.history.push("/"),e.next=20;break;case 5:return e.prev=5,this.setState({loading:!0}),e.next=9,nt(t.get("token"));case 9:a=e.sent,this.setState({email:a.email,mess:"Enter new password"}),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(5),r="Token Has Expired"===e.t0?Object(n.jsxs)(n.Fragment,{children:["It seems like your token has expired after 10 minutes. Please go back to ",Object(n.jsx)("span",{children:" "}),Object(n.jsx)(o.b,{to:"/forgetPassword",children:"forget password page"}),Object(n.jsx)("span",{children:" "})," to request a new email with a valid token."]}):"Error: ".concat(e.t0),this.setState({mess:r,messOnly:!0});case 17:return e.prev=17,this.setState({loading:!1}),e.finish(17);case 20:case"end":return e.stop()}}),e,this,[[5,13,17,20]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.classes;return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(ut,{children:Object(n.jsxs)(ye.a,{maxWidth:"xs",children:[Object(n.jsx)(v.a,{}),Object(n.jsxs)("div",{className:e.paper,children:[Object(n.jsx)(x.a,{className:e.avatar,children:Object(n.jsx)(D.a,{})}),Object(n.jsx)(P.a,{component:"h1",variant:"h5",gutterBottom:!0,children:"Password Recovery"}),this.state.messOnly?Object(n.jsx)(P.a,{component:"p",variant:"body1",align:"justify",children:this.state.mess}):Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(P.a,{component:"p",variant:"subtitle2",children:this.state.mess}),Object(n.jsxs)("form",{className:e.form,onSubmit:this.handleSubmit,children:[Object(n.jsx)(C.a,{container:!0,spacing:2,children:Object(n.jsx)(C.a,{item:!0,xs:12,children:Object(n.jsx)(g.a,{variant:"outlined",required:!0,fullWidth:!0,label:"New Password",type:"password",value:this.state.password.value,onChange:this.handleEnterPassword})})}),Object(n.jsx)(C.a,{container:!0,spacing:2,children:Object(n.jsx)(C.a,{item:!0,xs:12,children:Object(n.jsx)(g.a,{variant:"outlined",required:!0,fullWidth:!0,label:"Reenter New Password",type:"password",onChange:this.handleReenterPassword,error:this.state.password.reenter.hasError,helperText:this.state.password.reenter.error})})}),Object(n.jsx)(f.a,{className:e.submit,fullWidth:!0,variant:"contained",color:"primary",type:"submit",children:"Submit"}),Object(n.jsxs)(A.a,{open:this.state.button.open,onClose:this.handleDialogClose,"aria-describedby":"alert-dialog-description",children:[Object(n.jsx)(L.a,{children:Object(n.jsx)(M.a,{id:"alert-dialog-description",children:this.state.button.error})}),Object(n.jsx)(T.a,{children:Object(n.jsx)(f.a,{onClick:this.handleDialogClose,color:"primary",children:"Got it!"})})]})]})]})]}),Object(n.jsx)(H,{open:this.state.loading})]})}),Object(n.jsx)(ot,{})]})}}]),a}(r.Component),dt=Object(V.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}}),{withTheme:!0})(pt),ht={get:function(){var e=Object(d.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F.a.post("".concat("","/user/account/get"),{},{withCredentials:!0});case 3:return t=e.sent,e.abrupt("return",Promise.resolve(t.data));case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),update:function(){var e=Object(d.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F.a.post("".concat("","/user/account/update"),t,{withCredentials:!0});case 3:return e.abrupt("return",0);case 6:return e.prev=6,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",-1);case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()},mt=B()({page_404:{margin:"30px auto",background:"#fff"},four_zero_four:{fontSize:"50px",fontFamily:'"Arvo", serif'},four_zero_four_bg:{backgroundImage:"url(https://im4.ezgif.com/tmp/ezgif-4-f89390835a1b.gif)",backgroundRepeat:"no-repeat",height:"400px",backgroundPosition:"center"},link_404:{color:"inherit",textDecoration:"none"},constant_box_404:{margin:"-50px 20px 50px 20px",fontFamily:'"Arvo", serif'}})((function(e){var t=e.classes;return Object(n.jsx)(ye.a,{maxWidth:"sm",children:Object(n.jsxs)(C.a,{container:!0,direction:"column",spacing:2,children:[Object(n.jsxs)(C.a,{item:!0,children:[Object(n.jsx)(P.a,{className:t.four_zero_four_bg}),Object(n.jsxs)(P.a,{component:"h1",variant:"h5",align:"center",children:[e.code," ",Object(n.jsx)("br",{})," ",e.mess]})]}),Object(n.jsx)(C.a,{item:!0,children:Object(n.jsx)(P.a,{align:"center",children:"Hi, I'm Cat the Detective. Don't you dare hack my website!"})}),Object(n.jsx)(f.a,{component:o.b,to:"/",variant:"text",color:"primary",children:"Go Home"})]})})})),jt=function(e){var t=Object(r.useState)("loading"),a=Object(qe.a)(t,2),i=a[0],s=a[1],c=e.authorize;return Object(r.useEffect)((function(){Object(d.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c();case 3:return e.next=5,s("authorized");case 5:e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(0),e.next=11,s("forbidden");case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))()}),[]),"loading"===i?Object(n.jsx)(H,{open:!0}):"forbidden"===i?Object(n.jsx)(mt,{code:403,mess:"Forbidden"}):e.children},bt=a(7),xt=a(640),ft=a(662),vt=a(632),gt=a(306),Ot=a.n(gt),wt=a(311),yt=a.n(wt),kt=a(599),Ct=a(651),St=a(173),Dt=a.n(St),Pt=a(128),It=a.n(Pt),Et=a(305),Ft=a.n(Et),Nt=a(174),At=a.n(Nt),Tt=a(175),Lt=a.n(Tt),Mt=[{id:"Dashboard",link:"/admin/dashboard",icon:Object(n.jsx)(Dt.a,{})},{id:"Practitioner",link:"/admin/practitioner",icon:Object(n.jsx)(It.a,{})},{id:"Patient",link:"/admin/patient",icon:Object(n.jsx)(Ft.a,{})},{id:"Appointment",link:"/admin/appointment",icon:Object(n.jsx)(At.a,{})},{id:"Services",link:"/admin/medicalService",icon:Object(n.jsx)(Lt.a,{})}],_t=[{id:"Dashboard",link:"/practitioner/dashboard",icon:Object(n.jsx)(Dt.a,{})},{id:"Appointment",link:"/practitioner/appointment",icon:Object(n.jsx)(At.a,{})},{id:"Services",link:"/practitioner/medicalService",icon:Object(n.jsx)(Lt.a,{})}],Wt=[{id:"Dashboard",link:"/patient/dashboard",icon:Object(n.jsx)(Dt.a,{})},{id:"Practitioner",link:"/patient/practitioner",icon:Object(n.jsx)(It.a,{})},{id:"Appointment",link:"/patient/appointment",icon:Object(n.jsx)(At.a,{})},{id:"Services",link:"/patient/medicalService",icon:Object(n.jsx)(Lt.a,{})}],Ut=function(e){Object(j.a)(a,e);var t=Object(b.a)(a);function a(){return Object(h.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){var e="admin"!==this.props.type?"practitioner"!==this.props.type?Wt:_t:Mt;return Object(n.jsx)("div",{children:e.map((function(e){return Object(n.jsxs)(kt.a,{button:!0,component:o.b,to:e.link,children:[Object(n.jsx)(me.a,{children:e.icon}),Object(n.jsx)(Ct.a,{primary:e.id})]})}))})}}]),a}(r.Component),Ht=function(){var e=Object(d.a)(p.a.mark((function e(t,a){var n,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={email:t,password:a},e.prev=1,e.next=4,F.a.post("".concat("","/logout"),n,{withCredentials:!0});case 4:return r=e.sent,e.abrupt("return",r.data);case 8:if(e.prev=8,e.t0=e.catch(1),401!==e.t0.response.status){e.next=12;break}return e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,a){return e.apply(this,arguments)}}(),qt=a(308),Bt=a.n(qt),Rt=a(310),Gt=a.n(Rt),zt=function(){var e=Object(d.a)(p.a.mark((function e(t){var a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={newPassword:t},e.prev=1,e.next=4,F.a.post("".concat("","/user/changePassword"),a,{withCredentials:!0});case 4:n=e.sent,console.log(n.data),e.next=12;break;case 8:if(e.prev=8,e.t0=e.catch(1),500!==e.t0.response.status){e.next=12;break}return e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),Vt=function(e){Object(j.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={password:{value:null},confirmedPassword:{value:null,hasError:!1,error:null},errorDialog:!1,errorMessage:null,loading:!1},e.handleDialogClose=function(){e.props.close(!1,"changePassword")},e.handleSubDialogClose=Object(d.a)(p.a.mark((function t(){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({errorDialog:!1});case 2:case"end":return t.stop()}}),t)}))),e.handleSave=Object(d.a)(p.a.mark((function t(){var a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a={dialogMessage:"",dialogHasError:!1},e.state.confirmedPassword.hasError&&(a.dialogHasError=!0,a.dialogMessage="Please confirm the password again. Confirmed password should be the same with password."),t.next=4,e.setState({errorDialog:a.dialogHasError,errorMessage:a.dialogMessage});case 4:if(a.dialogHasError){t.next=14;break}return t.prev=5,t.next=8,e.setState({loading:!0});case 8:return t.next=10,zt(e.state.password.value);case 10:return t.prev=10,t.next=13,e.setState({loading:!1});case 13:return t.finish(10);case 14:e.handleDialogClose();case 15:case"end":return t.stop()}}),t,null,[[5,,10,14]])}))),e.handlePasswordInput=function(){var t=Object(d.a)(p.a.mark((function t(a){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({password:{value:a.target.value}});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handleConfirmedPasswordInput=function(){var t=Object(d.a)(p.a.mark((function t(a){var n;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=a.target.value===e.state.password.value,e.setState({confirmedPassword:{value:a.target.value,hasError:!n,error:n?"":"Password doesn't match."}});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(m.a)(a,[{key:"render",value:function(){return Object(n.jsxs)(i.a.Fragment,{children:[Object(n.jsxs)(A.a,{open:this.props.open,onClose:this.handleDialogClose,"aria-labelledby":"form-dialog-title",children:[Object(n.jsx)(_.a,{id:"form-dialog-title",children:"Change Password"}),Object(n.jsx)(L.a,{children:Object(n.jsxs)(C.a,{container:!0,spacing:2,children:[Object(n.jsx)(C.a,{item:!0,xs:12,children:Object(n.jsx)(M.a,{children:"To change password, please input new password below."})}),Object(n.jsx)(C.a,{item:!0,xs:12,children:Object(n.jsx)(g.a,{required:!0,fullWidth:!0,variant:"outlined",name:"password",label:"Password",type:"password",id:"password",value:this.state.password.value,onChange:this.handlePasswordInput})}),Object(n.jsx)(C.a,{item:!0,xs:12,children:Object(n.jsx)(g.a,{required:!0,fullWidth:!0,variant:"outlined",name:"confirmedPassword",label:"Confirmed Password Again",type:"password",id:"confirmedPassword",value:this.state.confirmedPassword.value,error:this.state.confirmedPassword.hasError,helperText:this.state.confirmedPassword.error,onChange:this.handleConfirmedPasswordInput})})]})}),Object(n.jsx)(T.a,{children:Object(n.jsx)(f.a,{onClick:this.handleSave,color:"primary",children:"Save"})})]}),Object(n.jsx)(W,{open:this.state.errorDialog,close:this.handleSubDialogClose,error:this.state.errorMessage}),Object(n.jsx)(H,{open:this.state.loading})]})}}]),a}(r.Component),Yt=a(309),Kt=a.n(Yt),$t=a(307),Jt=a.n($t),Zt=function(e){Object(j.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={anchorEl:null,barOpen:!1,redirect:null,loading:!1,symptomList:[],symptomsDialog:!1,diseaseList:[],diseaseDialog:!1,changePasswordDialog:!1},e.handleDrawer=function(){e.setState({barOpen:!e.state.barOpen})},e.handleMenuClick=function(t){e.setState({anchorEl:t.currentTarget})},e.handleMenuClose=function(){e.setState({anchorEl:null})},e.handleChangePassword=Object(d.a)(p.a.mark((function t(){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({changePasswordDialog:!0});case 2:case"end":return t.stop()}}),t)}))),e.handleLogout=Object(d.a)(p.a.mark((function t(){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return G("connect.sid"),t.prev=1,e.setState({loading:!0}),t.next=5,Ht();case 5:return t.prev=5,e.setState({loading:!1}),t.finish(5);case 8:e.setState({redirect:"/login"});case 9:case"end":return t.stop()}}),t,null,[[1,,5,8]])}))),e.handleDiseasePredict=Object(d.a)(p.a.mark((function t(){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e.setState({loading:!0}),t.next=4,e.getAllSymptom();case 4:return t.next=6,e.setState({symptomsDialog:!0});case 6:return t.prev=6,e.setState({loading:!1}),t.finish(6);case 9:case"end":return t.stop()}}),t,null,[[0,,6,9]])}))),e.handleDialogClose=function(){var t=Object(d.a)(p.a.mark((function t(a,n){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("symptoms"!==n){t.next=5;break}return t.next=3,e.setState({symptomsDialog:a});case 3:t.next=13;break;case 5:if("disease"!==n){t.next=10;break}return t.next=8,e.setState({diseaseDialog:a});case 8:t.next=13;break;case 10:if("changePassword"!==n){t.next=13;break}return t.next=13,e.setState({changePasswordDialog:a});case 13:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),e.getAllSymptom=Object(d.a)(p.a.mark((function t(){var a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,le();case 2:return a=t.sent,t.next=5,e.setState({symptomList:a});case 5:case"end":return t.stop()}}),t)}))),e.getDisease=function(){var t=Object(d.a)(p.a.mark((function t(a){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({diseaseList:a,diseaseDialog:!0});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(m.a)(a,[{key:"render",value:function(){var e=this.props.classes;return this.state.redirect?Object(n.jsx)(l.a,{to:"/"}):Object(n.jsxs)(i.a.Fragment,{children:[Object(n.jsx)(Y.a,{position:"absolute",className:Object(bt.a)(e.appBar,this.state.barOpen&&e.appBarShift),children:Object(n.jsxs)(K.a,{className:e.toolbar,children:[Object(n.jsx)(xt.a,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:this.handleDrawer,className:Object(bt.a)(e.menuButton,this.state.barOpen&&e.menuButtonHidden),children:Object(n.jsx)(Ot.a,{})}),Object(n.jsx)(P.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,className:e.title,display:"inline",children:"Dashboard"}),Object(n.jsx)(f.a,{color:"inherit",className:e.link,onClick:this.handleMenuClick,children:Object(n.jsx)(Jt.a,{})}),Object(n.jsxs)(Q.a,{keepMounted:!0,id:"simple-menu",anchorEl:this.state.anchorEl,open:Boolean(this.state.anchorEl),onClose:this.handleMenuClose,children:[Object(n.jsxs)(X.a,{component:o.b,to:"/",children:[Object(n.jsx)(me.a,{children:Object(n.jsx)(he.a,{fontSize:"small"})}),Object(n.jsx)(P.a,{variant:"inherit",children:"Home"})]}),Object(n.jsx)($.a,{variant:"inset"}),Object(n.jsxs)(X.a,{onClick:this.handleDiseasePredict,children:[Object(n.jsx)(me.a,{children:Object(n.jsx)(be.a,{fontSize:"small"})}),Object(n.jsx)(P.a,{variant:"inherit",children:"Predict Disease"})]}),Object(n.jsx)($.a,{variant:"inset"}),Object(n.jsxs)(o.b,{to:"/account",style:{textDecoration:"none",color:"initial"},children:[Object(n.jsxs)(X.a,{children:[Object(n.jsx)(me.a,{children:Object(n.jsx)(Bt.a,{fontSize:"small"})}),Object(n.jsx)(P.a,{variant:"inherit",children:"My Account"})]}),Object(n.jsx)($.a,{variant:"inset"})]}),Object(n.jsxs)(X.a,{onClick:this.handleChangePassword,children:[Object(n.jsx)(me.a,{children:Object(n.jsx)(Kt.a,{fontSize:"small"})}),Object(n.jsx)(P.a,{variant:"inherit",children:"Change Password"})]}),Object(n.jsx)($.a,{variant:"inset"}),Object(n.jsxs)(X.a,{onClick:this.handleLogout,children:[Object(n.jsx)(me.a,{children:Object(n.jsx)(Gt.a,{fontSize:"small"})}),Object(n.jsx)(P.a,{variant:"inherit",children:"Logout"})]})]})]})}),Object(n.jsxs)(ft.a,{variant:"permanent",classes:{paper:Object(bt.a)(e.drawerPaper,!this.state.barOpen&&e.drawerPaperClose)},open:this.state.barOpen,children:[Object(n.jsx)("div",{className:e.toolbarIcon,children:Object(n.jsx)(xt.a,{onClick:this.handleDrawer,children:Object(n.jsx)(yt.a,{})})}),Object(n.jsx)($.a,{}),Object(n.jsx)(vt.a,{children:Object(n.jsx)(Ut,{type:this.props.type})})]}),Object(n.jsx)(re,{open:this.state.symptomsDialog,close:this.handleDialogClose,loading:this.handleLoading,symptom:this.state.symptomList,disease:this.getDisease}),Object(n.jsx)(oe,{open:this.state.diseaseDialog,close:this.handleDialogClose,diseaseList:this.state.diseaseList}),Object(n.jsx)(Vt,{open:this.state.changePasswordDialog,close:this.handleDialogClose}),Object(n.jsx)(H,{open:this.state.loading})]})}}]),a}(r.Component),Qt=Object(V.a)((function(e){return{appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,minHeight:"100%",height:"100vh",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(Ne.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(7)}),toolbarIcon:Object(ie.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),toolbar:{flexWrap:"wrap"},menuButton:{},menuButtonHidden:{display:"none"},title:{flexGrow:1}}}),{withTheme:!0})(Zt),Xt=function(e){Object(j.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).handleDialogClose=function(){e.props.close(!1,"error")},e}return Object(m.a)(a,[{key:"render",value:function(){return Object(n.jsxs)(A.a,{open:this.props.open,onClose:this.handleDialogClose,"aria-describedby":"alert-dialog-description",children:[Object(n.jsxs)(L.a,{children:[Object(n.jsx)(_.a,{id:"form-dialog-title",children:this.props.title}),Object(n.jsx)(M.a,{id:"alert-dialog-description",children:this.props.error})]}),Object(n.jsx)(T.a,{children:Object(n.jsx)(f.a,{onClick:this.handleDialogClose,color:"primary",children:"OK"})})]})}}]),a}(r.Component),ea=B()((function(e){return{root:{display:"flex"},content:{flexGrow:1,overflow:"auto"},appBarSpacer:e.mixins.toolbar,container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1)},form:{width:"100%",maxWidth:"500px",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}}))((function(e){var t=e.classes,a=Object(r.useState)(null),i=Object(qe.a)(a,2),s=i[0],c=i[1],o=Object(r.useState)({value:"",hasError:!1,error:""}),l=Object(qe.a)(o,2),u=l[0],h=l[1],m=Object(r.useState)(),j=Object(qe.a)(m,2),b=j[0],O=j[1],w=Object(r.useState)({value:"",hasError:!1,error:""}),y=Object(qe.a)(w,2),S=y[0],D=y[1],E=Object(r.useState)({value:"",hasError:!1,error:""}),F=Object(qe.a)(E,2),N=F[0],A=F[1],T=Object(r.useState)(),L=Object(qe.a)(T,2),M=L[0],_=L[1],W=Object(r.useState)({title:"",body:""}),U=Object(qe.a)(W,2),q=U[0],B=U[1],R=Object(r.useState)(!1),G=Object(qe.a)(R,2),V=G[0],Y=G[1],K=Object(r.useState)(!1),$=Object(qe.a)(K,2),J=$[0],Z=$[1],Q=Object(r.useState)({}),ee=Object(qe.a)(Q,2),te=ee[0],ae=ee[1];Object(r.useEffect)((function(){Object(d.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Z(!0);case 3:return e.next=5,ht.get();case 5:return t=e.sent,e.next=8,O(t.gender);case 8:return e.next=10,_(t.avatar);case 10:return u.value=t.name,e.next=13,h(Object(ie.a)({},u));case 13:return S.value=t.email,e.next=16,D(Object(ie.a)({},S));case 16:return N.value=t.phone,e.next=19,A(Object(ie.a)({},N));case 19:return e.next=21,ae(t);case 21:return e.prev=21,e.next=24,Z(!1);case 24:return e.finish(21);case 25:case"end":return e.stop()}}),e,null,[[0,,21,25]])})))()}),[]);var ne=function(){var e=Object(d.a)(p.a.mark((function e(t){var a,n,r,i,s,c,o;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=!1,n="",e.prev=1,e.next=4,Z(!0);case 4:if(r={avatar:M,name:u.value,gender:b,email:S.value,phone:N.value},i=Object.keys(te).reduce((function(e,t){return te[t]!==r[t]&&(e[t]=r[t]),e}),{}),!Object.keys(i).length){e.next=29;break}if(s=!1,c=!1,!i.hasOwnProperty("email")){e.next=12;break}return e.next=11,ke(i.email);case 11:s=e.sent;case 12:if(!i.hasOwnProperty("phone")){e.next=16;break}return e.next=15,Ie(i.phone);case 15:c=e.sent;case 16:if(u.hasError?(a=!0,n="The given name is invalid. Name must not contain numbers and special characters."):S.hasError?(a=!0,n="The given email is invalid. Please input the valid email"):N.hasError?(a=!0,n="Phone number is invalid. Phone number must contain 10 numbers."):s?(a=!0,n="This email is registered. Please change email or recover password."):c&&(a=!0,n="This phone number is registered. Please use another phone number"),!a){e.next=22;break}q.title="Error!",q.body=n,e.next=27;break;case 22:return e.next=24,ht.update(i);case 24:0===(o=e.sent)&&(q.title="Success",q.body="Account Info successfully saved",ae(r)),-1===o&&(q.title="Failed",q.body="Account Info failed to save");case 27:e.next=31;break;case 29:q.title="Hey",q.body="Don't you notice that nothing have changed?";case 31:return e.prev=31,e.next=34,Z(!1);case 34:return e.next=36,B(Object(ie.a)({},q));case 36:return e.next=38,Y(!0);case 38:return e.finish(31);case 39:case"end":return e.stop()}}),e,null,[[1,,31,39]])})));return function(t){return e.apply(this,arguments)}}(),re=function(){var e=Object(d.a)(p.a.mark((function e(t,a){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"error"===a&&Y(t);case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),se=function(){var e=Object(d.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=I("name",t.target.value),u.value=t.target.value,u.hasError=a.name,u.error=a.name?"Are you a daughter of Elon Musk?":"",e.next=6,h(Object(ie.a)({},u));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ce=function(){var e=Object(d.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O(t.target.value);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),oe=function(){var e=Object(d.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=I("email",t.target.value),S.value=t.target.value,S.hasError=a.email,S.error=a.email?"Invalid email address":"",e.next=6,D(Object(ie.a)({},S));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),le=function(){var e=Object(d.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=I("phone",t.target.value),N.value=t.target.value,N.hasError=a.phone,N.error=a.phone?"Must have 10 numbers":"",e.next=6,A(Object(ie.a)({},N));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ue=function(){var e=Object(d.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z();case 2:return t=e.sent,e.next=5,c(t);case 5:if(!t){e.next=7;break}return e.abrupt("return",Promise.resolve());case 7:return e.abrupt("return",Promise.reject());case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.jsxs)(jt,{authorize:ue,children:[Object(n.jsxs)("div",{className:t.root,children:[Object(n.jsx)(v.a,{}),Object(n.jsx)(Qt,{type:s?s.role:""}),Object(n.jsxs)("div",{className:t.content,children:[Object(n.jsx)("div",{className:t.appBarSpacer}),Object(n.jsx)(ye.a,{maxWidth:"lg",className:t.container,children:Object(n.jsx)(C.a,{container:!0,spacing:3,children:Object(n.jsx)(C.a,{item:!0,xs:12,children:Object(n.jsxs)(k.a,{className:t.paper,children:[Object(n.jsx)(P.a,{component:"h1",variant:"h5",gutterBottom:!0,children:"Account Info"}),Object(n.jsx)(x.a,{src:M}),Object(n.jsxs)("form",{className:t.form,children:[Object(n.jsxs)(C.a,{container:!0,spacing:2,children:[Object(n.jsx)(C.a,{item:!0,xs:12,sm:9,children:Object(n.jsx)(g.a,{autoComplete:"name",name:"Name",variant:"outlined",required:!0,fullWidth:!0,id:"Name",label:"Name",autoFocus:!0,value:u.value,error:u.hasError,helperText:u.error,onChange:se})}),Object(n.jsx)(C.a,{item:!0,xs:12,sm:3,children:Object(n.jsxs)(g.a,{required:!0,fullWidth:!0,autoFocus:!0,select:!0,autoComplete:"Gender",name:"Gender",variant:"outlined",id:"Gender",label:"Sex",value:b||"",onChange:ce,children:[Object(n.jsx)(X.a,{value:"male",children:"M"},"M"),Object(n.jsx)(X.a,{value:"female",children:"F"},"F")]})}),Object(n.jsx)(C.a,{item:!0,xs:12,sm:6,children:Object(n.jsx)(g.a,{variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",value:S.value,error:S.hasError,helperText:S.error,onChange:oe})}),Object(n.jsx)(C.a,{item:!0,xs:12,sm:6,children:Object(n.jsx)(g.a,{variant:"outlined",required:!0,fullWidth:!0,id:"phone",label:"Phone Number",name:"phone",autoComplete:"phone",value:N.value,error:N.hasError,helperText:N.error,onChange:le})})]}),Object(n.jsx)(f.a,{className:t.submit,fullWidth:!0,variant:"contained",color:"primary",onClick:ne,children:"Save"})]})]})})})})]})]}),Object(n.jsx)(Xt,{open:V,close:re,title:q.title,error:q.body}),Object(n.jsx)(H,{open:J})]})})),ta=Object(n.jsx)(ae.a,{variant:"outlined",size:"small",label:"Upcoming",color:"primary"}),aa=Object(n.jsx)(ae.a,{variant:"outlined",size:"small",label:"Completed",color:"secondary"}),na=a(170),ra=a.n(na),ia=function(e){Object(j.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).handleDialogClose=function(){e.props.close(!1,"userInfo")},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this.props.classes;return Object(n.jsxs)(A.a,{open:this.props.open,onClose:this.handleDialogClose,"aria-describedby":"alert-dialog-description",children:[Object(n.jsxs)(L.a,{children:[Object(n.jsx)(_.a,{id:"form-dialog-title",children:Object(n.jsx)(C.a,{container:!0,direction:"column",alignItems:"center",justify:"center",children:Object(n.jsx)(x.a,{className:e.avatar,src:this.props.data.avatar})})}),Object(n.jsx)(M.a,{id:"alert-dialog-description",children:Object(n.jsxs)(C.a,{container:!0,spacing:2,children:[Object(n.jsx)(C.a,{item:!0,xs:12,sm:9,children:Object(n.jsx)(g.a,{fullWidth:!0,autoFocus:!0,autoComplete:"name",name:"Name",variant:"outlined",id:"Name",label:"Name",value:this.props.data.name,InputProps:{readOnly:!0}})}),Object(n.jsx)(C.a,{item:!0,xs:12,sm:3,children:Object(n.jsx)(g.a,{fullWidth:!0,autoFocus:!0,autoComplete:"Gender",name:"Gender",variant:"outlined",id:"Gender",label:"Sex",value:this.props.data.gender,InputProps:{readOnly:!0}})}),Object(n.jsx)(C.a,{item:!0,xs:12,sm:6,children:Object(n.jsx)(g.a,{fullWidth:!0,autoFocus:!0,variant:"outlined",id:"email",label:"Email Address",name:"email",autoComplete:"email",value:this.props.data.email,InputProps:{readOnly:!0}})}),Object(n.jsx)(C.a,{item:!0,xs:12,sm:6,children:Object(n.jsx)(g.a,{fullWidth:!0,autoFocus:!0,variant:"outlined",id:"phone",label:"Phone Number",name:"phone",autoComplete:"phone",value:this.props.data.phone,InputProps:{readOnly:!0}})}),"patient"===this.props.user&&Object(n.jsx)(C.a,{item:!0,xs:12,sm:6,children:Object(n.jsx)(g.a,{fullWidth:!0,autoFocus:!0,autoComplete:"dob",name:"DOB",variant:"outlined",id:"DOB",label:"Date of Birth",value:this.props.data.dob.toLocaleDateString("en-GB"),InputProps:{readOnly:!0}})}),"patient"===this.props.user&&Object(n.jsx)(C.a,{item:!0,xs:12,sm:6,children:Object(n.jsx)(g.a,{fullWidth:!0,autoFocus:!0,autoComplete:"ssn",name:"SSN",variant:"outlined",id:"SSN",label:"Social Security No.",value:this.props.data.ssn,InputProps:{readOnly:!0}})}),"practitioner"===this.props.user&&Object(n.jsx)(C.a,{item:!0,xs:12,sm:12,children:Object(n.jsx)(g.a,{fullWidth:!0,autoFocus:!0,autoComplete:"specialty",name:"Specialty",variant:"outlined",id:"specialty",label:"Specialty",value:this.props.data.specialty,InputProps:{readOnly:!0}})}),"practitioner"===this.props.user&&Object(n.jsx)(C.a,{item:!0,xs:12,sm:12,children:Object(n.jsx)(g.a,{fullWidth:!0,autoFocus:!0,autoComplete:"experience",name:"Years of Experience",variant:"outlined",id:"experience",label:"Years of Experience",value:this.props.data.experience,InputProps:{readOnly:!0}})})]})})]}),Object(n.jsx)(T.a,{children:Object(n.jsx)(f.a,{onClick:this.handleDialogClose,color:"primary",children:"Got it!"})})]})}}]),a}(r.Component),sa=B()((function(e){return{avatar:{width:e.spacing(10),height:e.spacing(10)}}}))(ia),ca=function(){var e=Object(d.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={appointmentID:t},e.prev=1,e.next=4,F.a.post("".concat("","/admin/appointments/delete"),a,{withCredentials:!0});case 4:e.sent,e.next=11;break;case 7:if(e.prev=7,e.t0=e.catch(1),500!==e.t0.response.status){e.next=11;break}return e.abrupt("return",null);case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),oa=function(){var e=Object(d.a)(p.a.mark((function e(t,a){var n,r,i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={practitionerID:t,day:a.getDate(),month:a.getMonth()+1,year:a.getFullYear()},e.prev=1,e.next=4,F.a.post("".concat("","/patient/appointments/getAvailableTime"),n,{withCredentials:!0});case 4:return r=e.sent,i=r.data.availableTime.map((function(e){return"".concat(e,":00").padStart(5,"0")})),e.abrupt("return",i);case 9:if(e.prev=9,e.t0=e.catch(1),console.log(e.t0),500!==e.t0.response.status){e.next=14;break}return e.abrupt("return",null);case 14:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,a){return e.apply(this,arguments)}}(),la=function(){var e=Object(d.a)(p.a.mark((function e(t,a,n){var r,i,s,c,o;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.getDate(),i=a.getMonth(),s=a.getFullYear(),c=n.split(":"),o={appointmentID:t,at:new Date(Date.UTC(s,i,r,c[0],c[1]))},console.log("edit appointment",o),e.prev=6,e.next=9,F.a.post("".concat("","/admin/appointments/update"),o,{withCredentials:!0});case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(6),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[6,11]])})));return function(t,a,n){return e.apply(this,arguments)}}(),ua=function(){var e=Object(d.a)(p.a.mark((function e(t){var a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={medical_serviceID:t},e.prev=1,e.next=4,F.a.post("".concat("","/patient/appointments/findPractitioner"),a,{withCredentials:!0});case 4:return n=e.sent,e.abrupt("return",n.data);case 8:if(e.prev=8,e.t0=e.catch(1),500!==e.t0.response.status){e.next=12;break}return e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),pa=function(){var e=Object(d.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={appointmentID:t.id,log:t.log,prescription:t.prescription,nextAppointmentPeriod:t.nextAppointmentPeriod,nextAppointmentService:t.nextAppointmentServiceID,status:"done"},console.log("checkin appointment",a),e.prev=2,e.next=5,F.a.post("".concat("","/practitioner/appointments/update"),a,{withCredentials:!0});case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(t){return e.apply(this,arguments)}}(),da=function(){var e=Object(d.a)(p.a.mark((function e(t){var a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={serviceID:t},e.prev=1,e.next=4,F.a.post("".concat("","/patient/appointments/findRoom"),a,{withCredentials:!0});case 4:return n=e.sent,e.abrupt("return",n.data[0].id);case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),ha=function(e){Object(j.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={medicalServiceList:[e.props.appointment.medicalService],medicalServiceID:e.props.appointment.medicalService.id,practitionerList:[e.props.appointment.practitioner],practitionerID:e.props.appointment.practitioner.id,date:new Date(e.props.appointment.date[2],e.props.appointment.date[1]-1,e.props.appointment.date[0],0,0,0),timeList:[e.props.appointment.time],time:e.props.appointment.time,log:e.props.appointment.log,room:e.props.appointment.room,prescription:e.props.appointment.prescription,nextAppointment:{period:e.props.appointment.next_appointment_period,service:e.props.appointment.next_appointment_service,serviceID:e.props.appointment.next_appointment_service_id},diseaseInfoDialog:!1,userInfoDialog:!1,userInfo:null,loading:!1},e.handleDialogClose=Object(d.a)(p.a.mark((function t(){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({medicalServiceID:e.props.appointment.medical_serviceID,practitionerList:[],practitioner:null});case 2:e.props.close(!1,"editAppointment");case 3:case"end":return t.stop()}}),t)}))),e.handleSubDialogClose=function(){var t=Object(d.a)(p.a.mark((function t(a,n){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("diseaseInfo"!==n){t.next=5;break}return t.next=3,e.setState({diseaseInfoDialog:a});case 3:t.next=8;break;case 5:if("userInfo"!==n){t.next=8;break}return t.next=8,e.setState({userInfoDialog:a});case 8:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),e.handleSave=Object(d.a)(p.a.mark((function t(){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,la(e.props.appointment.id,e.state.date,e.state.time);case 2:return t.next=4,e.setState({date:new Date(e.props.appointment.date[2],e.props.appointment.date[1]-1,e.props.appointment.date[0],0,0,0),timeList:[e.props.appointment.time],time:e.props.appointment.time,diseaseInfoDialog:!1,practitionerInfoDialog:!1,loading:!1});case 4:return t.next=6,e.handleDialogClose();case 6:case"end":return t.stop()}}),t)}))),e.handleDelete=Object(d.a)(p.a.mark((function t(){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ca(e.props.appointment.id);case 2:return t.next=4,e.handleDialogClose();case 4:case"end":return t.stop()}}),t)}))),e.handleCheckin=Object(d.a)(p.a.mark((function t(){var a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(e.state),a={id:e.props.appointment.id,log:e.state.log,prescription:e.state.prescription,nextAppointmentPeriod:e.state.nextAppointment.period,nextAppointmentServiceID:e.state.nextAppointment.serviceID},t.next=4,pa(a);case 4:return t.next=6,e.handleDialogClose();case 6:case"end":return t.stop()}}),t)}))),e.handleMedicalServiceChange=function(){var t=Object(d.a)(p.a.mark((function t(a){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({medicalServiceID:a.target.value});case 2:return t.prev=2,t.next=5,e.setState({loading:!0});case 5:return t.t0=e,t.next=8,ua(e.state.medicalServiceID);case 8:return t.t1=t.sent,t.next=11,da(e.state.medicalServiceID);case 11:return t.t2=t.sent,t.t3={practitionerList:t.t1,room:t.t2},t.next=15,t.t0.setState.call(t.t0,t.t3);case 15:return t.prev=15,t.next=18,e.setState({loading:!1});case 18:return t.finish(15);case 19:case"end":return t.stop()}}),t,null,[[2,,15,19]])})));return function(e){return t.apply(this,arguments)}}(),e.handlePractitionerChange=function(){var t=Object(d.a)(p.a.mark((function t(a){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({practitionerID:a.target.value,date:new Date});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handleDateChange=function(){var t=Object(d.a)(p.a.mark((function t(a){var n;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e.daysFromToday(a)<3)){t.next=4;break}alert("The chosen day is too close to today (< 3 days)"),t.next=18;break;case 4:return t.next=6,e.setState({date:a});case 6:return t.prev=6,t.next=9,e.setState({loading:!0});case 9:return t.next=11,oa(e.state.practitionerID,e.state.date);case 11:return n=t.sent,t.next=14,e.setState({timeList:n});case 14:return t.prev=14,t.next=17,e.setState({loading:!1});case 17:return t.finish(14);case 18:case"end":return t.stop()}}),t,null,[[6,,14,18]])})));return function(e){return t.apply(this,arguments)}}(),e.handleTimeChange=function(){var t=Object(d.a)(p.a.mark((function t(a){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({time:a.target.value});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handleLogChange=function(){var t=Object(d.a)(p.a.mark((function t(a){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({log:a.target.value});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handlePrescriptionChange=function(){var t=Object(d.a)(p.a.mark((function t(a){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({prescription:a.target.value});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handleNextAppointmentPeriodChange=function(){var t=Object(d.a)(p.a.mark((function t(a){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({nextAppointment:{period:a.target.value,serviceID:e.state.nextAppointment.serviceID}});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handleNextAppointmentServiceChange=function(){var t=Object(d.a)(p.a.mark((function t(a){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({nextAppointment:{period:e.state.nextAppointment.period,serviceID:a.target.value}});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handleUserInfoClick=function(){var t=Object(d.a)(p.a.mark((function t(a){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({userInfoDialog:!0,userInfo:a});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=Object(d.a)(p.a.mark((function e(){var t,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.setState({loading:!0});case 3:return console.log("loading time"),e.next=6,oa(this.state.practitionerID,this.state.date);case 6:if(e.t0=e.sent,e.t0){e.next=9;break}e.t0=[];case 9:return t=e.t0,e.next=12,ua(this.state.medicalServiceID);case 12:if(e.t1=e.sent,e.t1){e.next=15;break}e.t1=[];case 15:return a=e.t1,console.log("loaded time"),e.t2=this,e.t3=t.concat(this.state.time).sort(),e.t4=a.concat(this.state.practitionerList),e.next=22,He();case 22:return e.t5=e.sent,e.t6={timeList:e.t3,practitionerList:e.t4,medicalServiceList:e.t5},e.next=26,e.t2.setState.call(e.t2,e.t6);case 26:console.log("finish set state",this.state.medicalServiceList);case 27:return e.prev=27,e.next=30,this.setState({loading:!1});case 30:return e.finish(27);case 31:case"end":return e.stop()}}),e,this,[[0,,27,31]])})));return function(){return e.apply(this,arguments)}}()},{key:"daysFromToday",value:function(e){return(e.getTime()-(new Date).getTime())/864e5}},{key:"render",value:function(){var e=this;return Object(n.jsxs)(i.a.Fragment,{children:[Object(n.jsxs)(A.a,{open:this.props.open,onClose:this.handleDialogClose,"aria-labelledby":"form-dialog-title",children:[Object(n.jsx)(_.a,{id:"form-dialog-title",children:"Appointment Information"}),Object(n.jsx)(L.a,{children:Object(n.jsxs)(C.a,{container:!0,spacing:2,children:[Object(n.jsx)(C.a,{item:!0,xs:12,children:Object(n.jsx)(M.a,{id:"alert-dialog-description",children:"To edit information of this appointment, please enter or choose new information below. There are some read only information you can not change."})}),"admin"===this.props.user?Object(n.jsx)(C.a,{item:!0,xs:6,children:Object(n.jsx)(g.a,{autoFocus:!0,fullWidth:!0,select:!0,variant:"outlined",id:"medical_service",label:"Medical Service",value:this.state.medicalServiceID,InputProps:{readOnly:this.daysFromToday(this.state.date)<3},onChange:this.handleMedicalServiceChange,children:this.state.medicalServiceList.map((function(e){return Object(n.jsxs)(X.a,{value:e.id,children:[e.name.charAt(0).toUpperCase()+e.name.slice(1)," - ",e.price]},e.id)}))})}):Object(n.jsx)(C.a,{item:!0,xs:6,children:Object(n.jsx)(g.a,{autoFocus:!0,fullWidth:!0,variant:"outlined",id:"medical_service",label:"Medical Service",value:this.props.appointment.medicalService.name,InputProps:{readOnly:!0}})}),Object(n.jsx)(C.a,{item:!0,xs:6,children:Object(n.jsx)(g.a,{autoFocus:!0,fullWidth:!0,variant:"outlined",id:"room",label:"Room",value:this.state.room,InputProps:{readOnly:!0}})}),"practitioner"!==this.props.user&&("admin"===this.props.user?Object(n.jsx)(C.a,{item:!0,xs:6,children:Object(n.jsx)(g.a,{autoFocus:!0,fullWidth:!0,select:!0,variant:"outlined",id:"practitioner",label:"Practitioner",value:this.state.practitionerID,InputProps:{readOnly:this.daysFromToday(this.state.date)<3},onChange:this.handlePractitionerChange,children:this.state.practitionerList.map((function(e){return Object(n.jsx)(X.a,{value:e.id,children:e.name},e.id)}))})}):Object(n.jsx)(C.a,{item:!0,xs:12,children:Object(n.jsx)(g.a,{autoFocus:!0,fullWidth:!0,variant:"outlined",id:"practitioner",label:"Practitioner",value:this.props.appointment.practitioner.name,InputProps:{readOnly:!0,endAdornment:Object(n.jsx)(xt.a,{"aria-label":"information",children:Object(n.jsx)(ra.a,{onClick:function(){return e.handleUserInfoClick("practitioner")}})})}})})),"patient"!==this.props.user&&Object(n.jsx)(C.a,{item:!0,xs:6,children:Object(n.jsx)(g.a,{autoFocus:!0,fullWidth:!0,variant:"outlined",id:"patient",label:"Patient",value:this.props.appointment.patient.name,InputProps:{readOnly:!0,endAdornment:Object(n.jsx)(xt.a,{"aria-label":"information",children:Object(n.jsx)(ra.a,{onClick:function(){return e.handleUserInfoClick("patient")}})})}})}),Object(n.jsx)(C.a,{item:!0,xs:6,children:Object(n.jsx)(De.a,{utils:Se.a,children:Object(n.jsx)(Pe.a,{fullWidth:!0,autoFocus:!0,disablePast:"done"!==this.props.appointment.status,readOnly:"done"===this.props.appointment.status||this.daysFromToday(this.state.date)<3,error:"done"===this.props.appointment.status&&!1,helperText:null,variant:"dialog",inputVariant:"outlined",label:"Date of appointment",format:"dd/MM/yyyy",value:this.state.date,onChange:this.handleDateChange})})}),Object(n.jsxs)(C.a,{item:!0,xs:6,children:["done"===this.props.appointment.status?Object(n.jsx)(g.a,{autoFocus:!0,fullWidth:!0,variant:"outlined",id:"time",label:"Time",value:this.state.time,InputProps:{readOnly:this.daysFromToday(this.state.date)<3},onChange:this.handleTimeChange}):Object(n.jsx)(g.a,{autoFocus:!0,fullWidth:!0,select:!0,variant:"outlined",InputProps:{readOnly:this.daysFromToday(this.state.date)<3},id:"time",label:"Time",value:this.state.time,onChange:this.handleTimeChange,children:this.state.timeList.map((function(e){return Object(n.jsx)(X.a,{value:e,children:e},e)}))})," "]}),("done"===this.props.appointment.status||"practitioner"===this.props.user)&&Object(n.jsxs)(i.a.Fragment,{children:[Object(n.jsx)(C.a,{item:!0,xs:12,children:Object(n.jsx)(M.a,{id:"alert-dialog-description",children:"Appointment note and prescription from practitioner"})}),Object(n.jsx)(C.a,{item:!0,xs:12,children:Object(n.jsx)(g.a,{autoFocus:!0,fullWidth:!0,multiline:!0,rowsMax:4,variant:"outlined",id:"log",label:"Log",value:this.state.log,InputProps:{readOnly:"done"===this.props.appointment.status},onChange:this.handleLogChange})}),Object(n.jsx)(C.a,{item:!0,xs:12,children:Object(n.jsx)(g.a,{autoFocus:!0,fullWidth:!0,multiline:!0,rowsMax:4,variant:"outlined",id:"prescription",label:"Prescription",value:this.state.prescription,InputProps:{readOnly:"done"===this.props.appointment.status},onChange:this.handlePrescriptionChange})}),Object(n.jsx)(C.a,{item:!0,xs:12,children:Object(n.jsx)(M.a,{id:"alert-dialog-description",children:"Next appointment information"})}),Object(n.jsx)(C.a,{item:!0,xs:3,children:Object(n.jsx)(g.a,{autoFocus:!0,fullWidth:!0,variant:"outlined",id:"next_appointment_period",label:"Period",value:this.state.nextAppointment.period,InputProps:{readOnly:"done"===this.props.appointment.status},onChange:this.handleNextAppointmentPeriodChange})}),Object(n.jsx)(C.a,{item:!0,xs:9,children:"done"===this.props.appointment.status?Object(n.jsx)(g.a,{autoFocus:!0,fullWidth:!0,variant:"outlined",id:"medical_service",label:"Medical Service",value:this.state.nextAppointment.service,InputProps:{readOnly:!0}}):Object(n.jsx)(g.a,{autoFocus:!0,fullWidth:!0,select:!0,variant:"outlined",id:"next_appointment_service",label:"Service",value:this.state.nextAppointment.serviceID,onChange:this.handleNextAppointmentServiceChange,children:this.state.medicalServiceList.map((function(e){return Object(n.jsxs)(X.a,{value:e.id,children:[e.name.charAt(0).toUpperCase()+e.name.slice(1)," - ",e.price]},e.id)}))})})]})]})}),Object(n.jsx)(T.a,{children:"done"===this.props.appointment.status?Object(n.jsx)(f.a,{onClick:this.handleDialogClose,color:"primary",align:"right",children:"Got It!"}):Object(n.jsxs)(i.a.Fragment,{children:[Object(n.jsx)(f.a,{onClick:this.handleDelete,color:"primary",align:"left",children:"Delete"}),"practitioner"===this.props.user&&Object(n.jsx)(f.a,{onClick:this.handleCheckin,color:"primary",align:"right",children:"Release"}),Object(n.jsx)(f.a,{onClick:this.handleSave,color:"primary",align:"right",children:"Save"})]})})]}),Object(n.jsx)(sa,{open:this.state.userInfoDialog,close:this.handleSubDialogClose,data:"patient"===this.state.userInfo?this.props.appointment.patient:this.props.appointment.practitioner,user:this.state.userInfo}),Object(n.jsx)(H,{open:this.state.loading})]})}}]),a}(r.Component),ma=function(){var e=Object(d.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F.a.post("".concat("","/admin/patients/all"),{withCredentials:!0});case 3:return t=e.sent,e.abrupt("return",t.data);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),ja=function(){var e=Object(d.a)(p.a.mark((function e(t){var a,n,r,i,s,c,o;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.date.getDate(),n=t.date.getMonth(),r=t.date.getFullYear(),i=t.time.split(":"),s={serviceID:t.medicalServiceID,practitionerID:t.practitionerID,patientID:t.patientID,at:new Date(Date.UTC(r,n,a,i[0],i[1])),roomID:null,last_appointment:null},e.prev=5,e.next=8,F.a.post("".concat("","/patient/appointments/findRoom"),s,{withCredentials:!0});case 8:return o=e.sent,s.roomID=o.data[0].id,e.next=12,F.a.post("".concat("","/patient/appointments/create"),s,{withCredentials:!0});case 12:c=e.sent,console.log(c),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),console.log(e.t0);case 19:case"end":return e.stop()}}),e,null,[[5,16]])})));return function(t){return e.apply(this,arguments)}}(),ba=function(e){Object(j.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={medicalService:[],medicalServiceID:null,patientList:[],patient:null,practitionerList:[],practitioner:null,dateList:[],date:new Date,timeList:[],time:null},e.handleDialogClose=Object(d.a)(p.a.mark((function t(){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({medicalServiceID:null,practitionerList:[],dateList:[],date:new Date,timeList:[],time:null});case 2:e.props.close(!1,"newAppointment");case 3:case"end":return t.stop()}}),t)}))),e.handleSave=Object(d.a)(p.a.mark((function t(){var a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a={medicalServiceID:e.state.medicalServiceID,practitionerID:e.state.practitioner,patientID:e.state.patient,date:e.state.date,time:e.state.time},t.prev=1,t.next=4,e.props.loading(!0);case 4:return t.next=6,ja(a);case 6:return t.prev=6,t.next=9,e.props.loading(!1);case 9:return t.finish(6);case 10:return t.next=12,e.handleDialogClose();case 12:case"end":return t.stop()}}),t,null,[[1,,6,10]])}))),e.handlePatientChange=function(){var t=Object(d.a)(p.a.mark((function t(a){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({patient:a.target.value});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handleMedicalServiceChange=function(){var t=Object(d.a)(p.a.mark((function t(a){var n;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({medicalServiceID:a.target.value,practitioner:null});case 2:return t.prev=2,t.next=5,e.props.loading(!0);case 5:return t.next=7,ua(e.state.medicalServiceID);case 7:return n=t.sent,t.next=10,e.setState({practitionerList:n});case 10:return t.prev=10,t.next=13,e.props.loading(!1);case 13:return t.finish(10);case 14:case"end":return t.stop()}}),t,null,[[2,,10,14]])})));return function(e){return t.apply(this,arguments)}}(),e.handlePractitionerChange=function(){var t=Object(d.a)(p.a.mark((function t(a){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({practitioner:a.target.value,date:new Date});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handleDateChange=function(){var t=Object(d.a)(p.a.mark((function t(a){var n;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({date:a});case 2:return t.prev=2,t.next=5,e.props.loading(!0);case 5:return t.next=7,oa(e.state.practitioner,e.state.date);case 7:return n=t.sent,t.next=10,e.setState({timeList:n});case 10:return t.prev=10,t.next=13,e.props.loading(!1);case 13:return t.finish(10);case 14:case"end":return t.stop()}}),t,null,[[2,,10,14]])})));return function(e){return t.apply(this,arguments)}}(),e.handleTimeChange=function(){var t=Object(d.a)(p.a.mark((function t(a){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({time:a.target.value});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=Object(d.a)(p.a.mark((function e(){var t,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.setState({loading:!0});case 3:return e.next=5,z();case 5:if(!(t=e.sent)){e.next=21;break}if("patient"===t.role){e.next=13;break}return e.next=10,ma();case 10:return a=e.sent,e.next=13,this.setState({patientList:a});case 13:if("patient"!==t.role){e.next=18;break}return e.next=16,this.setState({patient:t.patientID});case 16:e.next=21;break;case 18:if("practitioner"!==t.role){e.next=21;break}return e.next=21,this.setState({practitioner:t.practitionerID});case 21:return e.t0=this,e.next=24,He();case 24:return e.t1=e.sent,e.t2={medicalService:e.t1},e.next=28,e.t0.setState.call(e.t0,e.t2);case 28:return e.prev=28,e.next=31,this.setState({loading:!1});case 31:return e.finish(28);case 32:case"end":return e.stop()}}),e,this,[[0,,28,32]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(n.jsxs)(A.a,{open:this.props.open,onClose:this.handleDialogClose,"aria-labelledby":"form-dialog-title",children:[Object(n.jsx)(_.a,{id:"form-dialog-title",children:"Make new appointment"}),Object(n.jsx)(L.a,{children:Object(n.jsxs)(C.a,{container:!0,spacing:2,children:[Object(n.jsx)(C.a,{item:!0,xs:12,children:Object(n.jsx)(M.a,{id:"alert-dialog-description",children:"To make new appointment, please enter your information here."})}),Object(n.jsx)(C.a,{item:!0,xs:"admin"===this.props.user?12:6,children:Object(n.jsx)(g.a,{autoFocus:!0,fullWidth:!0,select:!0,variant:"outlined",id:"medical_service",label:"Medical Service",value:this.state.medicalServiceID,onChange:this.handleMedicalServiceChange,children:this.state.medicalService.map((function(e){return Object(n.jsxs)(X.a,{value:e.id,children:[e.name.charAt(0).toUpperCase()+e.name.slice(1)," - ",e.price]},e.id)}))})}),"patient"!==this.props.user&&Object(n.jsx)(C.a,{item:!0,xs:6,children:Object(n.jsx)(g.a,{autoFocus:!0,fullWidth:!0,select:!0,variant:"outlined",id:"patient",label:"Patient",value:this.state.patient,onChange:this.handlePatientChange,children:this.state.patientList.map((function(e){return Object(n.jsx)(X.a,{value:e.id,children:e.name},e.id)}))})}),"practitioner"!==this.props.user&&Object(n.jsx)(C.a,{item:!0,xs:6,children:Object(n.jsx)(g.a,{autoFocus:!0,fullWidth:!0,select:!0,variant:"outlined",id:"practitioner",label:"Practitioner",value:this.state.practitioner,onChange:this.handlePractitionerChange,children:this.state.practitionerList.map((function(e){return Object(n.jsx)(X.a,{value:e.id,children:e.name},e.id)}))})}),Object(n.jsx)(C.a,{item:!0,xs:6,children:Object(n.jsx)(De.a,{utils:Se.a,children:Object(n.jsx)(Pe.a,{disabled:!this.state.medicalServiceID||!this.state.practitioner,disablePast:!0,fullWidth:!0,autoFocus:!0,variant:"dialog",inputVariant:"outlined",label:"Date of appointment",format:"dd/MM/yyyy",value:this.state.date,onChange:this.handleDateChange})})}),Object(n.jsx)(C.a,{item:!0,xs:6,children:Object(n.jsx)(g.a,{autoFocus:!0,fullWidth:!0,select:!0,variant:"outlined",id:"time",label:"Time",value:this.state.time,onChange:this.handleTimeChange,children:this.state.timeList.map((function(e){return Object(n.jsx)(X.a,{value:e,children:e},e)}))})})]})}),Object(n.jsx)(T.a,{children:Object(n.jsx)(f.a,{onClick:this.handleSave,color:"primary",align:"right",children:"Save"})})]})}}]),a}(r.Component),xa=function(){var e=Object(d.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F.a.post("".concat("","/disease/all"),{withCredentials:!0});case 3:return t=e.sent,e.abrupt("return",t.data);case 7:if(e.prev=7,e.t0=e.catch(0),500!==e.t0.response.status){e.next=11;break}return e.abrupt("return",null);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),fa=a(312),va=a.n(fa),ga=[{name:"Bank"}],Oa=function(e){Object(j.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={payment:null},e.handleDialogClose=function(){e.props.close(!1,"payment")},e.handlePaymentChange=function(){var t=Object(d.a)(p.a.mark((function t(a){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({payment:a.target.value});case 2:console.log(e.state.payment);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handlePay=function(){var t=Object(d.a)(p.a.mark((function t(a){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.handleDialogClose();case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(m.a)(a,[{key:"render",value:function(){return Object(n.jsxs)(A.a,{open:this.props.open,onClose:this.handleDialogClose,"aria-labelledby":"form-dialog-title",children:[Object(n.jsxs)(L.a,{children:[Object(n.jsx)(_.a,{id:"form-dialog-title",children:"Payment"}),Object(n.jsxs)(C.a,{container:!0,spacing:2,children:[Object(n.jsx)(C.a,{item:!0,xs:12,children:Object(n.jsxs)(M.a,{id:"alert-dialog-description",children:["You are about to pay $",this.props.price,", please choose payment method below."]})}),Object(n.jsx)(C.a,{item:!0,xs:12,children:Object(n.jsx)(g.a,{autoFocus:!0,fullWidth:!0,select:!0,variant:"outlined",id:"payment",label:"Payment Method",value:this.state.payment,onChange:this.handlePaymentChange,children:ga.map((function(e){return Object(n.jsx)(X.a,{value:e.name,children:e.name},e.name)}))})}),"Bank"===this.state.payment&&Object(n.jsxs)(i.a.Fragment,{children:[Object(n.jsx)(C.a,{item:!0,xs:6,children:Object(n.jsx)(g.a,{required:!0,fullWidth:!0,autoFocus:!0,name:"Name",variant:"outlined",id:"Name",label:"Name on Card"})}),Object(n.jsx)(C.a,{item:!0,xs:6,children:Object(n.jsx)(g.a,{required:!0,fullWidth:!0,name:"Account",variant:"outlined",id:"Account",label:"Account number",autoFocus:!0})}),Object(n.jsx)(C.a,{item:!0,xs:6,children:Object(n.jsx)(g.a,{required:!0,fullWidth:!0,autoFocus:!0,name:"Valid thru",variant:"outlined",id:"Valid",label:"Valid thru"})}),Object(n.jsx)(C.a,{item:!0,xs:6,children:Object(n.jsx)(g.a,{required:!0,fullWidth:!0,name:"CVV",variant:"outlined",id:"CVV",label:"CVV",autoFocus:!0})})]})]})]}),Object(n.jsxs)(T.a,{children:[Object(n.jsx)(f.a,{onClick:this.handlePay,color:"primary",align:"right",children:"Pay"}),Object(n.jsx)(f.a,{onClick:this.handle,color:"primary",align:"right",children:"Cancel"})]})]})}}]),a}(r.Component),wa=[{id:"practitioner_name",label:"Practitioner",compareFn:function(e,t,a){var n=e.practitioner_name.toUpperCase()>t.practitioner_name.toUpperCase()?1:-1;return"asc"===a?n:-n}},{id:"patient_name",label:"Patient",compareFn:function(e,t,a){var n=e.patient_name.toUpperCase()>t.patient_name.toUpperCase()?1:-1;return"asc"===a?n:-n}},{id:"medical_service",label:"Medical Service",align:"right",compareFn:function(e,t,a){var n=e.medical_service.toUpperCase()>t.medical_service.toUpperCase()?1:-1;return"asc"===a?n:-n}},{id:"room_id",label:"Room",align:"center",compareFn:function(e,t,a){var n=e.room_id-t.room_id;return"asc"===a?n:-n}},{id:"start",label:"Time",align:"right",compareFn:function(e,t,a){var n=e.start>t.start?1:-1;return"asc"===a?n:-n}},{id:"date",label:"Date",align:"right",compareFn:function(e,t,a){var n=e.date>t.date?1:-1;return"asc"===a?n:-n}},{id:"status",label:"Status",align:"right",compareFn:function(e,t,a){var n=e.status.toUpperCase()>t.status.toUpperCase()?1:-1;return"asc"===a?n:-n}}],ya=[{id:"practitioner_name",label:"Practitioner",compareFn:function(e,t,a){var n=e.practitioner_name.toUpperCase()>t.practitioner_name.toUpperCase()?1:-1;return"asc"===a?n:-n}},{id:"medical_service",label:"Medical Service",align:"right",compareFn:function(e,t,a){var n=e.medical_service.toUpperCase()>t.medical_service.toUpperCase()?1:-1;return"asc"===a?n:-n}},{id:"room_id",label:"Room",align:"center",compareFn:function(e,t,a){var n=e.room_id-t.room_id;return"asc"===a?n:-n}},{id:"start",label:"Time",align:"right",compareFn:function(e,t,a){var n=e.start>t.start?1:-1;return"asc"===a?n:-n}},{id:"date",label:"Date",align:"right",compareFn:function(e,t,a){var n=e.date>t.date?1:-1;return"asc"===a?n:-n}},{id:"status",label:"Status",align:"right",compareFn:function(e,t,a){var n=e.status.toUpperCase()>t.status.toUpperCase()?1:-1;return"asc"===a?n:-n}}],ka=[{id:"patient_name",label:"Patient",compareFn:function(e,t,a){var n=e.patient_name.toUpperCase()>t.patient_name.toUpperCase()?1:-1;return"asc"===a?n:-n}},{id:"medical_service",label:"Medical Service",align:"right",compareFn:function(e,t,a){var n=e.medical_service.toUpperCase()>t.medical_service.toUpperCase()?1:-1;return"asc"===a?n:-n}},{id:"room_id",label:"Room",align:"center",compareFn:function(e,t,a){var n=e.room_id-t.room_id;return"asc"===a?n:-n}},{id:"start",label:"Time",align:"right",compareFn:function(e,t,a){var n=e.start>t.start?1:-1;return"asc"===a?n:-n}},{id:"date",label:"Date",align:"right",compareFn:function(e,t,a){var n=e.date>t.date?1:-1;return"asc"===a?n:-n}},{id:"status",label:"Status",align:"right",compareFn:function(e,t,a){var n=e.status.toUpperCase()>t.status.toUpperCase()?1:-1;return"asc"===a?n:-n}}],Ca=function(e){Object(j.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={editAppointmentDialog:!1,yesNoDialog:!1,newAppointmentDialog:!1,symptomsDialog:!1,paymentDialog:!1,price:null,appointment:[],symptomList:[],diseaseKnown:!1,diseasePredicted:[],diseaseList:[],loading:!1,columns:[],user:null,appointmentDetail:{id:null,medicalService:{id:null,name:null,price:null},practitioner:{id:null,avatar:null,email:null,gender:null,name:null,phone:null,specialty:null,experience:null},patient:{id:null,avatar:null,dob:new Date,email:null,gender:null,name:null,phone:null,ssn:null},room:null,time:null,date:new Date,status:null},sortColumns:[]},e.sortTools={sort:e.sort.bind(Object(Ae.a)(e)),updateCriteria:e.updateSortColumns.bind(Object(Ae.a)(e))},e.handleRowClick=function(){var t=Object(d.a)(p.a.mark((function t(a,n){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(n),t.next=3,e.setState({appointmentDetail:{id:n.appointment_id,medicalService:{id:n.service_id,name:n.medical_service,price:n.service_price},room:n.room_id,practitioner:{id:n.practitioner_id,avatar:n.practitioner_avatar,email:n.practitioner_email,gender:n.practitioner_gender,name:n.practitioner_name,phone:n.practitioner_phone,specialty:n.practitioner_specialty,experience:n.practitioner_experience},patient:{id:n.patient_id,avatar:n.patient_avatar,dob:new Date(n.patient_dob),email:n.patient_email,gender:n.patient_gender,name:n.patient_name,phone:n.patient_phone,ssn:n.patient_ssn},time:n.start,date:n.date.split("/").map(Number),log:n.log,prescription:n.prescription,next_appointment_service:n.next_service,next_appointment_service_id:n.next_service_id,next_appointment_period:n.next_appointment_period,status:n.status}});case 3:e.setState({editAppointmentDialog:!0});case 4:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),e.handleNewClick=Object(d.a)(p.a.mark((function t(){var a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.setState({loading:!0});case 3:return t.next=5,xa();case 5:a=t.sent;case 6:return t.prev=6,t.next=9,e.setState({loading:!1});case 9:return t.finish(6);case 10:return t.next=12,e.setState({newAppointmentDialog:!0,diseaseList:a});case 12:case"end":return t.stop()}}),t,null,[[0,,6,10]])}))),e.handleDialogClose=function(){var t=Object(d.a)(p.a.mark((function t(a,n){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("newAppointment"!==n){t.next=8;break}return t.next=3,e.setState({newAppointmentDialog:a});case 3:if("patient"!==e.state.user){t.next=6;break}return t.next=6,e.setState({paymentDialog:!0});case 6:t.next=25;break;case 8:if("symptoms"!==n){t.next=13;break}return t.next=11,e.setState({symptomsDialog:a});case 11:t.next=25;break;case 13:if("editAppointment"!==n){t.next=20;break}return t.next=16,e.setState({editAppointmentDialog:a});case 16:return t.next=18,e.getAllAppointment();case 18:t.next=25;break;case 20:if("payment"!==n){t.next=25;break}return t.next=23,e.setState({paymentDialog:a});case 23:return t.next=25,e.getAllAppointment();case 25:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),e.handleLoading=function(){var t=Object(d.a)(p.a.mark((function t(a){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({loading:a});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.getAllAppointment=Object(d.a)(p.a.mark((function t(){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({loading:!0});case 2:return t.t0=e,t.next=5,Je();case 5:return t.t1=t.sent,t.t2={appointment:t.t1,loading:!1},t.next=9,t.t0.setState.call(t.t0,t.t2);case 9:return t.next=11,e.setState({loading:!1});case 11:case"end":return t.stop()}}),t)}))),e.getPrice=function(){var t=Object(d.a)(p.a.mark((function t(a){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({loading:!0});case 2:return t.next=4,e.setState({price:a});case 4:return t.next=6,e.setState({loading:!1});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=Object(d.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),e.next=3,z();case 3:if(!(t=e.sent)){e.next=20;break}if("admin"!==t.role){e.next=10;break}return e.next=8,this.setState({columns:wa});case 8:e.next=18;break;case 10:if("practitioner"!==t.role){e.next=15;break}return e.next=13,this.setState({columns:ka});case 13:e.next=18;break;case 15:if("patient"!==t.role){e.next=18;break}return e.next=18,this.setState({columns:ya});case 18:return e.next=20,this.setState({user:t.role});case 20:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"sort",value:function(){var e=Object(d.a)(p.a.mark((function e(){var t,a=this;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state.appointment,this.state.sortColumns.forEach((function(e){t.sort((function(t,n){return a.state.columns.find((function(t){return t.id===e.key})).compareFn(t,n,e.dir)}))})),e.next=4,this.setState({medicalServiceList:t});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateSortColumns",value:function(){var e=Object(d.a)(p.a.mark((function e(t,a){var n,r,i=arguments;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>2&&void 0!==i[2]?i[2]:"",r=(r=this.state.sortColumns).filter((function(e){return e.key!==a})),"add"===t&&r.splice(1,0,{key:a,dir:n}),r.length||r.push({key:"date",dir:"dsc"}),e.next=7,this.setState({sortColumns:r});case 7:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"updateRowHandle",value:function(){var e=Object(d.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setState({appointment:t});case 2:return e.next=4,this.sort();case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return Object(n.jsxs)(i.a.Fragment,{children:[Object(n.jsx)($e,{columns:this.state.columns.filter((function(e){return!["status"].includes(e.id)})),updateRowHandle:this.updateRowHandle.bind(this),defaultRows:Je,loadingHandle:this.handleLoading.bind(this),title:"Upcoming Appointment"}),Object(n.jsx)(_e.a,{children:Object(n.jsxs)(Te.a,{size:"medium",stickyHeader:!0,children:[Object(n.jsx)(We.a,{children:Object(n.jsx)(Ue.a,{children:this.state.columns.map((function(t){return Object(n.jsx)(Me.a,{align:t.align,children:"Status"===t.label&&"practitioner"!==e.state.user?Object(n.jsx)(f.a,{variant:"contained",color:"primary",align:"right",onClick:e.handleNewClick,startIcon:Object(n.jsx)(va.a,{}),children:"New"}):Object(n.jsx)(Re,{sortTools:e.sortTools,columnID:t.id,children:t.label})},t.id)}))})}),Object(n.jsx)(Le.a,{children:this.state.appointment.map((function(t){return Object(n.jsx)(Ue.a,{hover:!0,onClick:function(a){return e.handleRowClick(a,t)},children:e.state.columns.map((function(e){return Object(n.jsx)(Me.a,{align:e.align,children:"status"===e.id?"booked"===t[e.id]?ta:aa:t[e.id]},e.id)}))},t.id)}))})]})}),Object(n.jsx)(ba,{open:this.state.newAppointmentDialog,close:this.handleDialogClose,price:this.getPrice,loading:this.handleLoading,disease:this.state.diseaseList,user:this.state.user}),this.state.appointmentDetail.id&&Object(n.jsx)(ha,{open:this.state.editAppointmentDialog,close:this.handleDialogClose,appointment:this.state.appointmentDetail,user:this.state.user},this.state.appointmentDetail.id),Object(n.jsx)(Oa,{open:this.state.paymentDialog,close:this.handleDialogClose,price:this.state.price}),Object(n.jsx)(H,{open:this.state.loading})]})}}]),a}(r.Component),Sa=a(59),Da=a(48);function Pa(e,t){return{time:e,Patients:t}}var Ia=[Pa("00:00",350),Pa("03:00",400),Pa("06:00",550),Pa("09:00",1050),Pa("12:00",1150),Pa("15:00",2350),Pa("18:00",1850),Pa("21:00",850),Pa("24:00",void 0)];function Ea(){var e=Object(Sa.a)();return Object(n.jsxs)(i.a.Fragment,{children:[Object(n.jsx)(P.a,{component:"h2",variant:"h6",color:"primary",gutterBottom:!0,children:"Patients"}),Object(n.jsx)(Da.d,{children:Object(n.jsxs)(Da.c,{data:Ia,margin:{top:16,right:16,bottom:0,left:24},children:[Object(n.jsx)(Da.f,{dataKey:"time",stroke:e.palette.text.secondary}),Object(n.jsx)(Da.g,{stroke:e.palette.text.secondary,children:Object(n.jsx)(Da.a,{angle:270,position:"left",style:{textAnchor:"middle",fill:e.palette.text.primary},children:"Patients"})}),Object(n.jsx)(Da.e,{}),Object(n.jsx)(Da.b,{type:"monotone",dataKey:"Patients",stroke:e.palette.primary.main})]})})]})}var Fa=function(e){Object(j.a)(a,e);var t=Object(b.a)(a);function a(){return Object(h.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){return Object(n.jsxs)(i.a.Fragment,{children:[Object(n.jsx)(P.a,{component:"h2",variant:"h6",color:"primary",gutterBottom:!0,children:"Appointments"}),Object(n.jsx)(P.a,{component:"p",variant:"h3",children:"1285"}),Object(n.jsx)(P.a,{color:"textSecondary",children:"was made."})]})}}]),a}(r.Component),Na=function(){var e=Object(d.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F.a.post("".concat("","/admin/appointments/byHour"));case 3:return t=e.sent,e.abrupt("return",t.data);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();function Aa(e,t){return{time:e,Practitioners:t}}Aa("00:00",15),Aa("03:00",15),Aa("06:00",50),Aa("09:00",180),Aa("12:00",200),Aa("15:00",170),Aa("18:00",80),Aa("21:00",40),Aa("24:00",void 0);var Ta=function(e){Object(j.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={data:[]},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=Object(d.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Na();case 2:(t=e.sent).forEach((function(e){e.time="".concat(e.time,":00")})),this.setState({data:t}),console.log(this.state.data);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(n.jsxs)(i.a.Fragment,{children:[Object(n.jsx)(P.a,{component:"h2",variant:"h6",color:"primary",gutterBottom:!0,children:"Number of Appointments per Hour"}),Object(n.jsx)(Da.d,{children:Object(n.jsxs)(Da.c,{data:this.state.data,margin:{top:16,right:16,bottom:0,left:24},children:[Object(n.jsx)(Da.f,{dataKey:"time",color:"secondary"}),Object(n.jsx)(Da.g,{color:"secondary",children:Object(n.jsx)(Da.a,{angle:270,position:"left",style:{textAnchor:"middle",color:"primary"},children:"Appointments"})}),Object(n.jsx)(Da.e,{}),Object(n.jsx)(Da.b,{type:"monotone",dataKey:"number",color:"secondary"})]})})]})}}]),a}(r.Component),La=function(){var e=Object(d.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F.a.post("https://covid-api.mmediagroup.fr/v1/history?country=Vietnam&status=Confirmed");case 3:return t=e.sent,e.abrupt("return",t);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),Ma=(r.Component,function(e){Object(j.a)(a,e);var t=Object(b.a)(a);function a(){return Object(h.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){var e=this.props.classes,t=Object(bt.a)(e.paper,e.fixedHeight);return Object(n.jsx)("main",{className:e.content,children:Object(n.jsx)(ye.a,{maxWidth:"lg",className:e.container,children:Object(n.jsxs)(C.a,{container:!0,spacing:3,children:[Object(n.jsx)(C.a,{item:!0,xs:12,md:8,lg:9,children:Object(n.jsx)(k.a,{className:t,children:Object(n.jsx)(Ta,{})})}),Object(n.jsx)(C.a,{item:!0,xs:12,md:4,lg:3,children:Object(n.jsx)(k.a,{className:t,children:Object(n.jsx)(Fa,{})})}),Object(n.jsx)(C.a,{item:!0,xs:12,children:Object(n.jsx)(k.a,{className:t,children:Object(n.jsx)(Ea,{})})})]})})})}}]),a}(r.Component)),_a=B()((function(e){return{root:{display:"flex"},content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:260}}}))(Ma),Wa=function(){var e=Object(d.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={practitionerID:t},e.prev=1,e.next=4,F.a.post("".concat("","/admin/practitioners/account/delete"),a,{withCredentials:!0});case 4:e.next=10;break;case 6:if(e.prev=6,e.t0=e.catch(1),500!==e.t0.response.status){e.next=10;break}return e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}(),Ua=function(e){Object(j.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={loading:!1},e.handleDialogClose=function(){e.props.close(!1,"editPractitioner")},e.handleSave=function(){e.handleDialogClose()},e.handleDelete=Object(d.a)(p.a.mark((function t(){var a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.setState({loading:!0});case 3:return t.next=5,Wa(e.props.id);case 5:a=t.sent,console.log(a);case 7:return t.prev=7,t.next=10,e.setState({loading:!1});case 10:return t.finish(7);case 11:e.handleDialogClose();case 12:case"end":return t.stop()}}),t,null,[[0,,7,11]])}))),e}return Object(m.a)(a,[{key:"render",value:function(){var e=this.props.classes;return Object(n.jsxs)(i.a.Fragment,{children:[Object(n.jsxs)(A.a,{open:this.props.open,onClose:this.handleDialogClose,"aria-labelledby":"form-dialog-title",children:[Object(n.jsx)(_.a,{id:"form-dialog-title",children:"Practitioner Information"}),Object(n.jsx)(L.a,{children:Object(n.jsxs)(C.a,{container:!0,spacing:2,children:[Object(n.jsx)(C.a,{item:!0,xs:12,children:Object(n.jsx)(M.a,{id:"alert-dialog-description",children:"To edit information of this practitioner, please enter new information below. There are some read only information you can not change."})}),Object(n.jsx)(C.a,{container:!0,direction:"column",alignItems:"center",justify:"center",children:Object(n.jsx)(x.a,{className:e.avatar,src:this.props.avatar})}),Object(n.jsx)(C.a,{item:!0,xs:12,sm:9,children:Object(n.jsx)(g.a,{autoComplete:"name",name:"Name",variant:"outlined",required:!0,fullWidth:!0,id:"Name",label:"Name",autoFocus:!0,value:this.props.name,InputProps:{readOnly:!0}})}),Object(n.jsx)(C.a,{item:!0,xs:12,sm:3,children:Object(n.jsx)(g.a,{required:!0,fullWidth:!0,autoFocus:!0,autoComplete:"Gender",name:"Gender",variant:"outlined",id:"Gender",label:"Sex",value:this.props.sex,InputProps:{readOnly:!0}})}),Object(n.jsx)(C.a,{item:!0,xs:12,sm:6,children:Object(n.jsx)(g.a,{variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",value:this.props.email,InputProps:{readOnly:!0}})}),Object(n.jsx)(C.a,{item:!0,xs:12,sm:6,children:Object(n.jsx)(g.a,{variant:"outlined",required:!0,fullWidth:!0,id:"phone",label:"Phone Number",name:"phone",autoComplete:"phone",value:this.props.phone,InputProps:{readOnly:!0}})}),Object(n.jsx)(C.a,{item:!0,xs:12,sm:6,children:Object(n.jsx)(g.a,{autoComplete:"specialty",name:"Specialty",variant:"outlined",required:!0,fullWidth:!0,id:"specialty",label:"Specialty",autoFocus:!0,value:this.props.specialty,InputProps:{readOnly:!0}})}),Object(n.jsx)(C.a,{item:!0,xs:12,sm:6,children:Object(n.jsx)(g.a,{fullWidth:!0,autoFocus:!0,autoComplete:"experience",name:"Years of Experience",variant:"outlined",id:"experience",label:"Years of Experience",value:this.props.experience,InputProps:{readOnly:!0}})})]})}),Object(n.jsxs)(T.a,{children:[Object(n.jsx)(f.a,{onClick:this.handleDelete,color:"primary",align:"left",children:"Delete"}),Object(n.jsx)(f.a,{onClick:this.handleSave,color:"primary",align:"right",children:"Save"})]})]}),Object(n.jsx)(H,{open:this.state.loading})]})}}]),a}(r.Component),Ha=B()((function(e){return{avatar:{width:e.spacing(10),height:e.spacing(10),marginBottom:"1rem"}}}))(Ua),qa=function(){var e=Object(d.a)(p.a.mark((function e(t){var a,n,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={name:t.name,email:t.email,phone:t.phone,gender:t.gender,password:"",id:"",specialtyID:t.specialty},e.prev=1,n=t.email.split("@"),e.next=5,F.a.post("".concat("","/admin/practitioners/create"),a,{withCredentials:!0});case 5:return r=e.sent,a.id=r.data[0].id,a.password=n[0],e.next=10,F.a.post("".concat("","/admin/practitioners/account/create"),a,{withCredentials:!0});case 10:e.next=16;break;case 12:if(e.prev=12,e.t0=e.catch(1),500!==e.t0.response.status){e.next=16;break}return e.abrupt("return",null);case 16:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}(),Ba=function(e){Object(j.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={name:{value:"",hasError:!1,error:""},sex:{value:""},email:{value:"",hasError:!1,error:"",exist:!1},phone:{value:"",hasError:!1,error:""},specialty:{value:""},errorDialog:!1,errorMessage:""},e.handleDialogClose=Object(d.a)(p.a.mark((function t(){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({name:{value:"",hasError:!1,error:""},sex:{value:""},email:{value:"",hasError:!1,error:"",exist:!1},phone:{value:"",hasError:!1,error:"",exist:!1},specialty:{value:""},errorDialog:!1,errorMessage:""});case 2:e.props.close(!1,"newPractitioner");case 3:case"end":return t.stop()}}),t)}))),e.handleSave=Object(d.a)(p.a.mark((function t(){var a,n,r,i;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.props.loading(!0);case 3:return a=e.state.email,n=e.state.phone,t.next=7,ke(e.state.email.value);case 7:return a.exist=t.sent,t.next=10,Ie(e.state.phone.value);case 10:return n.exist=t.sent,t.next=13,e.setState({email:Object(ie.a)({},a),phone:Object(ie.a)({},n)});case 13:if(!(r=e.getError()).error){t.next=19;break}return t.next=17,e.props.error(r);case 17:t.next=24;break;case 19:return i={name:e.state.name.value,email:e.state.email.value,phone:e.state.phone.value,gender:e.state.sex.value,password:"",id:"",specialty:e.state.specialty.value},t.next=22,qa(i);case 22:return t.next=24,e.handleDialogClose();case 24:return t.prev=24,t.next=27,e.props.loading(!1);case 27:return t.finish(24);case 28:case"end":return t.stop()}}),t,null,[[0,,24,28]])}))),e.handleNameChange=function(){var t=Object(d.a)(p.a.mark((function t(a){var n;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=I("name",a.target.value),t.next=3,e.setState({name:{value:a.target.value,hasError:n.name,error:n.name?"Name must not contain number":""}});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handleGenderChange=function(){var t=Object(d.a)(p.a.mark((function t(a){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({sex:{value:a.target.value}});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handleDOBChange=function(){var t=Object(d.a)(p.a.mark((function t(a){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({dob:{value:a}});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handleEmailChange=function(){var t=Object(d.a)(p.a.mark((function t(a){var n;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=I("email",a.target.value),t.next=3,e.setState({email:{value:a.target.value,hasError:n.email,error:n.email?"Email invalid":""}});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handlePhoneChange=function(){var t=Object(d.a)(p.a.mark((function t(a){var n;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=I("phone",a.target.value),t.next=3,e.setState({phone:{value:a.target.value,hasError:n.phone,error:n.phone?"Must have only 10 numbers":""}});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handleSpecialtyChange=function(){var t=Object(d.a)(p.a.mark((function t(a){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({specialty:{value:a.target.value}});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.getError=function(){var t={error:!1,message:""};return e.state.name.hasError?(t.error=!0,t.message="The given name is invalid. Name must not contain numbers and special characters."):e.state.email.hasError?(t.error=!0,t.message="The given email is invalid. Please input the valid email"):e.state.email.exist?(t.error=!0,t.message="This email is registered. Please change email or recover password."):e.state.phone.hasError?(t.error=!0,t.message="Phone number is invalid. Phone number must contain 10 numbers."):""===e.state.name.value?(t.error=!0,t.message="Name is required"):""===e.state.email.value?(t.error=!0,t.message="Email is required"):""===e.state.phone.value?(t.error=!0,t.message="Phone is required"):e.state.phone.exist?(t.error=!0,t.message="This phone number is registered. Please use another phone number"):""===e.state.sex.value?(t.error=!0,t.message="Sex is required"):""===e.state.specialty.value&&(t.error=!0,t.message="Speciality is required"),t},e}return Object(m.a)(a,[{key:"render",value:function(){return Object(n.jsx)(i.a.Fragment,{children:Object(n.jsxs)(A.a,{open:this.props.open,onClose:this.handleDialogClose,"aria-labelledby":"form-dialog-title",children:[Object(n.jsx)(_.a,{id:"form-dialog-title",children:"Add new practitioner"}),Object(n.jsx)(L.a,{children:Object(n.jsxs)(C.a,{container:!0,spacing:2,children:[Object(n.jsx)(C.a,{item:!0,xs:12,children:Object(n.jsx)(M.a,{id:"alert-dialog-description",children:"To add new practitioner, please enter new information below. Password will be automatically generated based on social security number."})}),Object(n.jsx)(C.a,{item:!0,xs:12,sm:9,children:Object(n.jsx)(g.a,{required:!0,fullWidth:!0,autoFocus:!0,autoComplete:"name",name:"Name",variant:"outlined",id:"Name",label:"Name",value:this.state.name.value,error:this.state.name.hasError,helperText:this.state.name.error,onChange:this.handleNameChange})}),Object(n.jsx)(C.a,{item:!0,xs:12,sm:3,children:Object(n.jsxs)(g.a,{required:!0,fullWidth:!0,autoFocus:!0,select:!0,autoComplete:"Gender",name:"Gender",variant:"outlined",id:"Gender",label:"Sex",value:this.state.sex.value,onChange:this.handleGenderChange,children:[Object(n.jsx)(X.a,{value:"male",children:"M"},"M"),Object(n.jsx)(X.a,{value:"female",children:"F"},"F")]})}),Object(n.jsx)(C.a,{item:!0,xs:12,sm:6,children:Object(n.jsx)(g.a,{variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",value:this.state.email.value,error:this.state.email.hasError,helperText:this.state.email.error,onChange:this.handleEmailChange})}),Object(n.jsx)(C.a,{item:!0,xs:12,sm:6,children:Object(n.jsx)(g.a,{variant:"outlined",required:!0,fullWidth:!0,id:"phone",label:"Phone Number",name:"phone",autoComplete:"phone",value:this.state.phone.value,error:this.state.phone.hasError,helperText:this.state.phone.error,onChange:this.handlePhoneChange})}),Object(n.jsx)(C.a,{item:!0,xs:12,sm:12,children:Object(n.jsxs)(g.a,{required:!0,fullWidth:!0,select:!0,autoComplete:"specialty",name:"Specialty",variant:"outlined",id:"specialty",label:"Specialty",value:this.state.specialty.value,onChange:this.handleSpecialtyChange,children:[" ",this.props.specialty.map((function(e){return Object(n.jsx)(X.a,{value:e.id,children:e.name.charAt(0).toUpperCase()+e.name.slice(1)},e.id)}))]})})]})}),Object(n.jsx)(T.a,{children:Object(n.jsx)(f.a,{onClick:this.handleSave,color:"primary",align:"right",children:"Save"})})]})})}}]),a}(r.Component),Ra=function(){var e=Object(d.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F.a.post("".concat("","/admin/practitioners/all"),{withCredentials:!0});case 3:return t=e.sent,e.abrupt("return",t.data);case 7:if(e.prev=7,e.t0=e.catch(0),500!==e.t0.response.status){e.next=11;break}return e.abrupt("return",null);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),Ga=function(){var e=Object(d.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F.a.post("".concat("","/admin/departments/all"),{withCredentials:!0});case 3:return t=e.sent,console.log(t.data),e.abrupt("return",t.data);case 8:if(e.prev=8,e.t0=e.catch(0),500!==e.t0.response.status){e.next=12;break}return e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),za=[{id:"avatar",label:"Avatar"},{id:"id",label:"ID",align:"center",compareFn:function(e,t,a){var n=e.id-t.id;return"asc"===a?n:-n}},{id:"name",label:"Name",compareFn:function(e,t,a){var n=e.name.toUpperCase()>t.name.toUpperCase()?1:-1;return"asc"===a?n:-n}},{id:"gender",label:"Sex",align:"right",compareFn:function(e,t,a){var n=e.gender.toUpperCase()>t.gender.toUpperCase()?1:-1;return"asc"===a?n:-n}},{id:"email",label:"Email",align:"right",compareFn:function(e,t,a){var n=e.email.toUpperCase()>t.email.toUpperCase()?1:-1;return"asc"===a?n:-n}},{id:"phone",label:"Phone",align:"right",compareFn:function(e,t,a){var n=e.phone.toUpperCase()>t.phone.toUpperCase()?1:-1;return"asc"===a?n:-n}},{id:"specialty",label:"Specialty",align:"right",compareFn:function(e,t,a){var n=e.specialty.toUpperCase()>t.specialty.toUpperCase()?1:-1;return"asc"===a?n:-n}},{id:"experience",label:"Experience",align:"right",compareFn:function(e,t,a){var n=e.experience>t.experience?1:-1;return"asc"===a?n:-n}}],Va=[{id:"avatar",label:"Avatar",align:"center"},{id:"id",label:"ID",align:"center",compareFn:function(e,t,a){var n=e.id-t.id;return"asc"===a?n:-n}},{id:"name",label:"Name",compareFn:function(e,t,a){var n=e.name.toUpperCase()>t.name.toUpperCase()?1:-1;return"asc"===a?n:-n}},{id:"gender",label:"Sex",align:"right",compareFn:function(e,t,a){var n=e.gender.toUpperCase()>t.gender.toUpperCase()?1:-1;return"asc"===a?n:-n}},{id:"specialty",label:"Specialty",align:"right",compareFn:function(e,t,a){var n=e.specialty.toUpperCase()>t.specialty.toUpperCase()?1:-1;return"asc"===a?n:-n}},{id:"experience",label:"Experience",align:"right",compareFn:function(e,t,a){var n=e.experience>t.experience?1:-1;return"asc"===a?n:-n}}],Ya={id:null,name:null,avatar:null,sex:null,email:null,phone:null,speciality:null,experience:null},Ka=function(e){Object(j.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={practitionerList:[],specialtyList:[],columns:[],user:null,loading:!1,editPractitionerDialog:!1,newPractitionerDialog:!1,errorDialog:!1,sortColumns:[]},e.handleDialogClose=function(){var t=Object(d.a)(p.a.mark((function t(a,n){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.setState({loading:!0}),"editPractitioner"!==n){t.next=7;break}return t.next=4,e.setState({editPractitionerDialog:a});case 4:e.getAllPractitioner().then(),t.next=16;break;case 7:if("newPractitioner"!==n){t.next=13;break}return t.next=10,e.setState({newPractitionerDialog:a});case 10:e.getAllPractitioner().then(),t.next=16;break;case 13:if("error"!==n){t.next=16;break}return t.next=16,e.setState({errorDialog:a});case 16:e.setState({loading:!1});case 17:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),e.handleLoading=function(){var t=Object(d.a)(p.a.mark((function t(a){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({loading:a});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handleRowClick=function(){var t=Object(d.a)(p.a.mark((function t(a,n){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(Ya={id:n.id,avatar:n.avatar,name:n.name,sex:n.gender,email:n.email,phone:n.phone,specialty:n.specialty,experience:n.experience},"admin"!==e.state.user){t.next=4;break}return t.next=4,e.setState({editPractitionerDialog:!0});case 4:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),e.handleNewClick=Object(d.a)(p.a.mark((function t(){var a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.setState({loading:!0});case 3:return t.next=5,Ga();case 5:a=t.sent;case 6:return t.prev=6,t.next=9,e.setState({loading:!1});case 9:return t.finish(6);case 10:return t.next=12,e.setState({newPractitionerDialog:!0,specialtyList:a});case 12:case"end":return t.stop()}}),t,null,[[0,,6,10]])}))),e.getError=function(){var t=Object(d.a)(p.a.mark((function t(a){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({errorDialog:a.error,errorMessage:a.message});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.getAllPractitioner=Object(d.a)(p.a.mark((function t(){var a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ra();case 2:a=t.sent,e.setState({practitionerList:a});case 4:case"end":return t.stop()}}),t)}))),e.sortTools={sort:e.sort.bind(Object(Ae.a)(e)),updateCriteria:e.updateSortColumns.bind(Object(Ae.a)(e))},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=Object(d.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.setState({loading:!0}),e.next=4,z();case 4:if(!(t=e.sent)){e.next=16;break}if("admin"!==t.role){e.next=11;break}return e.next=9,this.setState({columns:za});case 9:e.next=14;break;case 11:if("patient"!==t.role){e.next=14;break}return e.next=14,this.setState({columns:Va});case 14:return e.next=16,this.setState({user:t.role});case 16:return e.prev=16,this.setState({loading:!1}),e.finish(16);case 19:case"end":return e.stop()}}),e,this,[[0,,16,19]])})));return function(){return e.apply(this,arguments)}}()},{key:"sort",value:function(){var e=Object(d.a)(p.a.mark((function e(){var t,a=this;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state.practitionerList,this.state.sortColumns.forEach((function(e){t.sort((function(t,n){return a.state.columns.find((function(t){return t.id===e.key})).compareFn(t,n,e.dir)}))})),e.next=4,this.setState({medicalServiceList:t});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateSortColumns",value:function(){var e=Object(d.a)(p.a.mark((function e(t,a){var n,r,i=arguments;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>2&&void 0!==i[2]?i[2]:"",r=(r=this.state.sortColumns).filter((function(e){return e.key!==a})),"add"===t&&r.splice(1,0,{key:a,dir:n}),r.length||r.push({key:"id",dir:"asc"}),e.next=7,this.setState({sortColumns:r});case 7:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"updateRowHandle",value:function(){var e=Object(d.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setState({practitionerList:t});case 2:return e.next=4,this.sort();case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props.classes;return Object(n.jsxs)(i.a.Fragment,{children:[Object(n.jsx)($e,{columns:this.state.columns.filter((function(e){return!["avatar"].includes(e.id)})),updateRowHandle:this.updateRowHandle.bind(this),defaultRows:Ra,loadingHandle:this.handleLoading.bind(this),title:"Practitioners"}),Object(n.jsx)(_e.a,{children:Object(n.jsxs)(Te.a,{size:"medium",stickyHeader:!0,children:[Object(n.jsx)(We.a,{children:Object(n.jsx)(Ue.a,{children:this.state.columns.map((function(t){return Object(n.jsx)(Me.a,{align:t.align,children:"avatar"===t.id?"admin"===e.state.user?Object(n.jsx)(f.a,{variant:"contained",color:"primary",onClick:e.handleNewClick,startIcon:Object(n.jsx)(It.a,{}),children:"New"}):t.label:Object(n.jsx)(Re,{sortTools:e.sortTools,columnID:t.id,children:t.label})},t.id)}))})}),Object(n.jsx)(Le.a,{children:this.state.practitionerList.map((function(a){return Object(n.jsx)(Ue.a,{hover:!0,onClick:function(t){return e.handleRowClick(t,a)},children:e.state.columns.map((function(e){return Object(n.jsx)(Me.a,{align:e.align,children:"avatar"===e.id?Object(n.jsx)(x.a,{className:t.avatar,src:a.avatar}):"experience"===e.id?"".concat(a[e.id]," years"):a[e.id]},e.id)}))},a.id)}))})]})}),Object(n.jsx)(Ha,Object(ie.a)({open:this.state.editPractitionerDialog,close:this.handleDialogClose,loading:this.handleLoading},Ya)),Object(n.jsx)(Ba,{open:this.state.newPractitionerDialog,close:this.handleDialogClose,loading:this.handleLoading,error:this.getError,specialty:this.state.specialtyList}),Object(n.jsx)(W,{open:this.state.errorDialog,close:this.handleDialogClose,error:this.state.errorMessage}),Object(n.jsx)(H,{open:this.state.loading})]})}}]),a}(r.Component),$a=B()((function(e){return{avatar:{margin:"0 auto"}}}))(Ka),Ja=function(e){Object(j.a)(a,e);var t=Object(b.a)(a);function a(){return Object(h.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"isPatient",value:function(){var e=Object(d.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z();case 2:if(!(t=e.sent)||"patient"!==t.role){e.next=5;break}return e.abrupt("return",Promise.resolve());case 5:return e.abrupt("return",Promise.reject());case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.classes;return Object(n.jsx)(jt,{authorize:this.isPatient,children:Object(n.jsxs)("div",{className:e.root,children:[Object(n.jsx)(v.a,{}),Object(n.jsx)(Qt,{type:"patient"}),Object(n.jsxs)("div",{className:e.content,children:[Object(n.jsx)("div",{className:e.appBarSpacer}),Object(n.jsx)(ye.a,{maxWidth:"lg",className:e.container,children:Object(n.jsx)(C.a,{container:!0,spacing:3,children:Object(n.jsx)(C.a,{item:!0,xs:12,children:Object(n.jsxs)(k.a,{className:e.paper,children:[Object(n.jsx)(l.b,{exact:!0,path:"/patient",component:_a}),Object(n.jsx)(l.b,{exact:!0,path:"/patient/dashboard",component:_a}),Object(n.jsx)(l.b,{exact:!0,path:"/patient/appointment",component:Ca}),Object(n.jsx)(l.b,{exact:!0,path:"/patient/practitioner",component:$a}),Object(n.jsx)(l.b,{exact:!0,path:"/patient/medicalService",component:Qe})]})})})})]})]})})}}]),a}(r.Component),Za=Object(V.a)((function(e){return{root:{display:"flex"},content:{flexGrow:1,overflow:"auto"},appBarSpacer:e.mixins.toolbar,container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column",height:640}}}),{withTheme:!0})(Ja),Qa=function(e){Object(j.a)(a,e);var t=Object(b.a)(a);function a(){return Object(h.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"isPractitioner",value:function(){var e=Object(d.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z();case 2:if(t=e.sent,console.log(t),!t||"practitioner"!==t.role){e.next=6;break}return e.abrupt("return",Promise.resolve());case 6:return e.abrupt("return",Promise.reject());case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.classes;return Object(n.jsx)(jt,{authorize:this.isPractitioner,children:Object(n.jsxs)("div",{className:e.root,children:[Object(n.jsx)(v.a,{}),Object(n.jsx)(Qt,{type:"practitioner"}),Object(n.jsxs)("div",{className:e.content,children:[Object(n.jsx)("div",{className:e.appBarSpacer}),Object(n.jsx)(ye.a,{maxWidth:"lg",className:e.container,children:Object(n.jsx)(C.a,{container:!0,spacing:3,children:Object(n.jsx)(C.a,{item:!0,xs:12,children:Object(n.jsxs)(k.a,{className:e.paper,children:[Object(n.jsx)(l.b,{exact:!0,path:"/practitioner",component:_a}),Object(n.jsx)(l.b,{exact:!0,path:"/practitioner/dashboard",component:_a}),Object(n.jsx)(l.b,{exact:!0,path:"/practitioner/appointment",component:Ca}),Object(n.jsx)(l.b,{exact:!0,path:"/practitioner/medicalService",component:Qe})]})})})})]})]})})}}]),a}(r.Component),Xa=B()((function(e){return{root:{display:"flex"},content:{flexGrow:1,overflow:"auto"},appBarSpacer:e.mixins.toolbar,container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column",height:640}}}),{withTheme:!0})(Qa),en=function(){var e=Object(d.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={patientID:t},e.prev=1,e.next=4,F.a.post("".concat("","/admin/patients/account/delete"),a,{withCredentials:!0});case 4:e.next=10;break;case 6:if(e.prev=6,e.t0=e.catch(1),500!==e.t0.response.status){e.next=10;break}return e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}(),tn=function(e){Object(j.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).handleDialogClose=function(){e.props.close(!1,"editPatient")},e.handleSave=function(){e.handleDialogClose()},e.handleDelete=Object(d.a)(p.a.mark((function t(){var a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.setState({loading:!0});case 3:return t.next=5,en(e.props.id);case 5:a=t.sent,console.log(a);case 7:return t.prev=7,t.next=10,e.setState({loading:!1});case 10:return t.finish(7);case 11:e.handleDialogClose();case 12:case"end":return t.stop()}}),t,null,[[0,,7,11]])}))),e}return Object(m.a)(a,[{key:"render",value:function(){var e=this.props.classes;return Object(n.jsx)(i.a.Fragment,{children:Object(n.jsxs)(A.a,{open:this.props.open,onClose:this.handleDialogClose,"aria-labelledby":"form-dialog-title",children:[Object(n.jsx)(_.a,{id:"form-dialog-title",children:"Patient Information"}),Object(n.jsx)(L.a,{children:Object(n.jsxs)(C.a,{container:!0,spacing:2,children:[Object(n.jsx)(C.a,{item:!0,xs:12,children:Object(n.jsx)(M.a,{id:"alert-dialog-description",children:"To edit information of this patient, please enter new information below. There are some read only information you can not change."})}),Object(n.jsx)(C.a,{container:!0,direction:"column",alignItems:"center",justify:"center",children:Object(n.jsx)(x.a,{className:e.avatar,src:this.props.avatar,children:this.props.name.charAt(0)})}),Object(n.jsx)(C.a,{item:!0,xs:12,sm:9,children:Object(n.jsx)(g.a,{required:!0,fullWidth:!0,autoFocus:!0,autoComplete:"name",name:"Name",variant:"outlined",id:"Name",label:"Name",value:this.props.name,InputProps:{readOnly:!0}})}),Object(n.jsx)(C.a,{item:!0,xs:12,sm:3,children:Object(n.jsx)(g.a,{required:!0,fullWidth:!0,autoFocus:!0,autoComplete:"Gender",name:"Gender",variant:"outlined",id:"Gender",label:"Sex",value:this.props.sex,InputProps:{readOnly:!0}})}),Object(n.jsx)(C.a,{item:!0,xs:12,sm:6,children:Object(n.jsx)(g.a,{required:!0,fullWidth:!0,autoFocus:!0,variant:"outlined",id:"email",label:"Email Address",name:"email",autoComplete:"email",value:this.props.email,InputProps:{readOnly:!0}})}),Object(n.jsx)(C.a,{item:!0,xs:12,sm:6,children:Object(n.jsx)(g.a,{required:!0,fullWidth:!0,autoFocus:!0,variant:"outlined",id:"phone",label:"Phone Number",name:"phone",autoComplete:"phone",value:this.props.phone,InputProps:{readOnly:!0}})}),Object(n.jsx)(C.a,{item:!0,xs:12,sm:6,children:Object(n.jsx)(g.a,{required:!0,fullWidth:!0,autoFocus:!0,autoComplete:"dob",name:"DOB",variant:"outlined",id:"DOB",label:"Date of Birth",value:this.props.dob,InputProps:{readOnly:!0}})}),Object(n.jsx)(C.a,{item:!0,xs:12,sm:6,children:Object(n.jsx)(g.a,{required:!0,fullWidth:!0,autoFocus:!0,autoComplete:"ssn",name:"SSN",variant:"outlined",id:"SSN",label:"Social Security No.",value:this.props.ssn,InputProps:{readOnly:!0}})})]})}),Object(n.jsxs)(T.a,{children:[Object(n.jsx)(f.a,{onClick:this.handleDelete,color:"primary",align:"left",children:"Delete"}),Object(n.jsx)(f.a,{onClick:this.handleSave,color:"primary",align:"right",children:"Save"})]})]})})}}]),a}(r.Component),an=B()((function(e){return{avatar:{width:e.spacing(10),height:e.spacing(10),marginBottom:"1rem"}}}))(tn),nn=[{id:"id",label:"ID",align:"center",compareFn:function(e,t,a){var n=e.id-t.id;return"asc"===a?n:-n}},{id:"name",label:"Name",compareFn:function(e,t,a){var n=e.name.toUpperCase()>t.name.toUpperCase()?1:-1;return"asc"===a?n:-n}},{id:"gender",label:"Sex",align:"right",compareFn:function(e,t,a){var n=e.gender.toUpperCase()>t.gender.toUpperCase()?1:-1;return"asc"===a?n:-n}},{id:"email",label:"Email",align:"right",compareFn:function(e,t,a){var n=e.email.toUpperCase()>t.email.toUpperCase()?1:-1;return"asc"===a?n:-n}},{id:"phone",label:"Phone",align:"right",compareFn:function(e,t,a){var n=e.phone.toUpperCase()>t.phone.toUpperCase()?1:-1;return"asc"===a?n:-n}},{id:"ssn",label:"Social Security No.",align:"right",compareFn:function(e,t,a){var n=e.ssn.toUpperCase()>t.ssn.toUpperCase()?1:-1;return"asc"===a?n:-n}},{id:"dob",label:"Date of Birth",align:"right",compareFn:function(e,t,a){var n=e.dob>t.dob?1:-1;return"asc"===a?n:-n}}],rn={id:"",avatar:"",name:"",sex:"",email:"",phone:"",dob:"",ssn:""},sn=function(e){Object(j.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={patient:[],loading:!1,editPatientDialog:!1,newPractitionerDialog:!1,errorDialog:!1,sortColumns:[]},e.handleDialogClose=function(){var t=Object(d.a)(p.a.mark((function t(a,n){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("editPatient"!==n){t.next=6;break}return t.next=3,e.setState({editPatientDialog:a});case 3:e.getAllPatient().then().catch(),t.next=14;break;case 6:if("newPractitioner"!==n){t.next=11;break}return t.next=9,e.setState({newPractitionerDialog:a});case 9:t.next=14;break;case 11:if("error"!==n){t.next=14;break}return t.next=14,e.setState({errorDialog:a});case 14:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),e.handleLoading=function(){var t=Object(d.a)(p.a.mark((function t(a){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({loading:a});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handleRowClick=function(t,a){rn={id:a.id,avatar:a.avatar,name:a.name,sex:a.gender,email:a.email,phone:a.phone,dob:a.dob,ssn:a.ssn},e.setState({editPatientDialog:!0})},e.handleNewClick=Object(d.a)(p.a.mark((function t(){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({newPractitionerDialog:!0});case 2:case"end":return t.stop()}}),t)}))),e.getError=function(){var t=Object(d.a)(p.a.mark((function t(a){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({errorDialog:a.error,errorMessage:a.message});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.getAllPatient=Object(d.a)(p.a.mark((function t(){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:ma().then((function(t){e.setState({patient:t,loading:!1})}));case 1:case"end":return t.stop()}}),t)}))),e.sortTools={sort:e.sort.bind(Object(Ae.a)(e)),updateCriteria:e.updateSortColumns.bind(Object(Ae.a)(e))},e.handleLoading=function(){var t=Object(d.a)(p.a.mark((function t(a){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({loading:a});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(m.a)(a,[{key:"sort",value:function(){var e=Object(d.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state.patient,console.log(this.state.sortColumns),this.state.sortColumns.forEach((function(e){t.sort((function(t,a){return nn.find((function(t){return t.id===e.key})).compareFn(t,a,e.dir)}))})),e.next=5,this.setState({medicalServiceList:t});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateSortColumns",value:function(){var e=Object(d.a)(p.a.mark((function e(t,a){var n,r,i=arguments;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>2&&void 0!==i[2]?i[2]:"",r=(r=this.state.sortColumns).filter((function(e){return e.key!==a})),"add"===t&&r.splice(1,0,{key:a,dir:n}),r.length||r.push({key:"id",dir:"asc"}),e.next=7,this.setState({sortColumns:r});case 7:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"updateRowHandle",value:function(){var e=Object(d.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setState({patient:t});case 2:return e.next=4,this.sort();case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return Object(n.jsxs)(i.a.Fragment,{children:[Object(n.jsx)($e,{columns:nn,updateRowHandle:this.updateRowHandle.bind(this),defaultRows:ma,loadingHandle:this.handleLoading.bind(this),title:"Patients"}),Object(n.jsx)(_e.a,{children:Object(n.jsxs)(Te.a,{size:"medium",stickyHeader:!0,children:[Object(n.jsx)(We.a,{children:Object(n.jsxs)(Ue.a,{children:[Object(n.jsx)(Me.a,{children:"Avatar"}),nn.map((function(t){return Object(n.jsx)(Me.a,{align:t.align,children:Object(n.jsx)(Re,{sortTools:e.sortTools,columnID:t.id,children:t.label})},t.id)}))]})}),Object(n.jsx)(Le.a,{children:this.state.patient.map((function(t){return Object(n.jsxs)(Ue.a,{hover:!0,onClick:function(a){return e.handleRowClick(a,t)},children:[Object(n.jsx)(Me.a,{children:Object(n.jsx)(x.a,{src:t.avatar})}),nn.map((function(e){return Object(n.jsx)(Me.a,{align:e.align,children:t[e.id]},e.id)}))]},t.id)}))})]})}),Object(n.jsx)(an,Object(ie.a)({open:this.state.editPatientDialog,close:this.handleDialogClose,loading:this.handleLoading},rn)),Object(n.jsx)(W,{open:this.state.errorDialog,close:this.handleDialogClose,error:this.state.errorMessage}),Object(n.jsx)(H,{open:this.state.loading})]})}}]),a}(r.Component),cn=function(e){Object(j.a)(a,e);var t=Object(b.a)(a);function a(){return Object(h.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"isAdmin",value:function(){var e=Object(d.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z();case 2:if(!(t=e.sent)||"admin"!==t.role){e.next=5;break}return e.abrupt("return",Promise.resolve());case 5:return e.abrupt("return",Promise.reject());case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.classes;return Object(n.jsx)(jt,{authorize:this.isAdmin,children:Object(n.jsxs)("div",{className:e.root,children:[Object(n.jsx)(v.a,{}),Object(n.jsx)(Qt,{type:"admin"}),Object(n.jsxs)("div",{className:e.content,children:[Object(n.jsx)("div",{className:e.appBarSpacer}),Object(n.jsx)(ye.a,{maxWidth:"lg",className:e.container,children:Object(n.jsx)(C.a,{container:!0,spacing:3,children:Object(n.jsx)(C.a,{item:!0,xs:12,children:Object(n.jsxs)(k.a,{className:e.paper,children:[Object(n.jsx)(l.b,{exact:!0,path:"/admin",component:_a}),Object(n.jsx)(l.b,{exact:!0,path:"/admin/dashboard",component:_a}),Object(n.jsx)(l.b,{exact:!0,path:"/admin/appointment",component:Ca}),Object(n.jsx)(l.b,{exact:!0,path:"/admin/practitioner",component:$a}),Object(n.jsx)(l.b,{exact:!0,path:"/admin/patient",component:sn}),Object(n.jsx)(l.b,{exact:!0,path:"/admin/medicalService",component:Qe})]})})})})]})]})})}}]),a}(r.Component),on=Object(V.a)((function(e){return{root:{display:"flex"},content:{flexGrow:1,overflow:"auto"},appBarSpacer:e.mixins.toolbar,container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column",height:640}}}),{withTheme:!0})(cn);a(593);var ln=function(){return Object(n.jsx)(o.a,{children:Object(n.jsxs)(l.d,{children:[Object(n.jsx)(l.b,{path:"/register",component:Fe}),Object(n.jsx)(l.b,{path:"/forgetPassword",component:it}),Object(n.jsx)(l.b,{path:"/patient",component:Za}),Object(n.jsx)(l.b,{path:"/practitioner",component:Xa}),Object(n.jsx)(l.b,{path:"/admin",component:on}),Object(n.jsx)(l.b,{path:"/login",component:we}),Object(n.jsx)(l.b,{path:"/account",component:ea}),Object(n.jsx)(l.b,{path:"/resetPassword",component:dt}),Object(n.jsx)(l.b,{exact:!0,path:"/",component:et}),Object(n.jsx)(l.b,{render:function(e){return Object(n.jsx)(mt,{code:404,mess:"Not Found"})}})]})})};c.a.render(Object(n.jsx)(i.a.StrictMode,{children:Object(n.jsx)(ln,{})}),document.getElementById("root"))}},[[594,1,2]]]);