(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{350:function(e,t,a){},570:function(e,t,a){},571:function(e,t,a){"use strict";a.r(t);var n=a(2),r=a(0),i=a.n(r),s=a(25),o=a.n(s),c=(a(350),a(27)),l=a(30),u=a(4),p=a.n(u),d=a(7),h=a(11),m=a(12),j=a(14),b=a(13),x=a(631),g=a(609),f=a(611),v=a(628),O=a(613),y=a(630),w=a(603),k=a(302),D=a(602),C=a(79),S=a.n(C),P=a(84),N=a(284),A=a.n(N),I=a(50),E=a.n(I),L=E()({root:{backgroundColor:"#2b252d",color:"#fffbfb",whiteSpace:"nowrap",fontWeight:"bold",flex:0},item:{padding:"1rem 10rem"}})((function(e){var t=[Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(D.a,{item:!0,style:{marginRight:"1rem"},children:"Fork me on"}),Object(n.jsx)(D.a,{item:!0,children:Object(n.jsx)(w.a,{target:"_blank",color:"inherit",href:"https://github.com/tidunguyen/hms-PERN",children:Object(n.jsx)(A.a,{})})})]}),Object(n.jsx)(n.Fragment,{children:"Copyright \xa9 2020"}),"International University - VNUHCM"],a=e.classes;return Object(n.jsx)(D.a,{component:"footer",container:!0,justify:"space-evenly",alignItems:"center",xs:12,className:a.root,children:t.map((function(e){return Object(n.jsx)(D.a,{item:!0,container:!0,className:a.item,alignItems:"center",xs:4,wrap:"nowrap",justify:"center",children:e})}))})})),T=function(e,t){var a={name:{pattern:/^[ A-Za-z\xC0-\xC2\xC8-\xCA\xCC\xCD\xD2-\xD4\xD9\xDA\xDD\xE0-\xE3\xE8-\xEA\xEC\xED\xF2-\xF5\xF9\xFA\xFD]+$/,status:!1},email:{pattern:/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/,status:!1},phone:{pattern:/^\d{10}$/,status:!1},ssn:{pattern:/^\d{5}$/,status:!1}},n={name:!1,email:!1,phone:!1,ssn:!1};switch(e){case"name":n.name=null===a.name.pattern.exec(t);break;case"email":n.email=null===a.email.pattern.exec(t);break;case"phone":n.phone=null===a.phone.pattern.exec(t);break;case"ssn":n.ssn=null===a.ssn.pattern.exec(t)}return n},F=a(19),M=a.n(F),W=function(){var e=Object(d.a)(p.a.mark((function e(t,a){var n,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={email:t,password:a},e.prev=1,e.next=4,M.a.post("".concat("","/login"),n,{withCredentials:!0});case 4:return r=e.sent,e.abrupt("return",r.data);case 8:if(e.prev=8,e.t0=e.catch(1),401!==e.t0.response.status){e.next=12;break}return e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,a){return e.apply(this,arguments)}}(),q=a(604),B=a(608),H=a(605),G=a(607),R=a(606),_=function(e){Object(j.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).handleDialogClose=function(){e.props.close(!1,"error")},e}return Object(m.a)(a,[{key:"render",value:function(){return Object(n.jsxs)(q.a,{open:this.props.open,onClose:this.handleDialogClose,"aria-describedby":"alert-dialog-description",children:[Object(n.jsxs)(H.a,{children:[Object(n.jsx)(R.a,{id:"form-dialog-title",children:"Error"}),Object(n.jsx)(G.a,{id:"alert-dialog-description",children:this.props.error})]}),Object(n.jsx)(B.a,{children:Object(n.jsx)(g.a,{onClick:this.handleDialogClose,color:"primary",children:"Got it!"})})]})}}]),a}(r.Component),z=a(610),K=function(e){Object(j.a)(a,e);var t=Object(b.a)(a);function a(){return Object(h.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){return Object(n.jsx)(q.a,{open:this.props.open,"aria-describedby":"alert-dialog-description",PaperProps:{style:{backgroundColor:"transparent",boxShadow:"none"}},children:Object(n.jsx)(H.a,{children:Object(n.jsx)(z.a,{size:60,style:{color:"white"}})})})}}]),a}(r.Component),U=a(634),Y=E()({root:{flex:1}})((function(e){var t=e.classes,a=e.children;return Object(n.jsx)(U.a,{component:"main",className:t.root,children:a})})),$=function(e){var t=document.cookie.match("(^|;)\\s*"+e+"\\s*=\\s*([^;]+)");return t?t.pop():""};function J(e){document.cookie=e+"=; expires = Thu, 01 Jan 1970 00:00:00 GMT;"}var V=function(){var e=Object(d.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!$("connect.sid")){e.next=13;break}return e.prev=2,e.next=5,M.a.post("".concat("","/isLogin"),{},{withCredentials:!0});case 5:return t=e.sent,console.log(t.data),e.abrupt("return",t.data);case 10:e.prev=10,e.t0=e.catch(2),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(){return e.apply(this,arguments)}}(),Z=function(e){Object(j.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={email:{value:"",hasError:!1},password:{value:""},rememberMe:!0,errorDialog:!1,errorMessage:"",loginStatus:!1,loading:!1},e.handleEmailInput=function(t){var a=T("email",t.target.value);e.setState({email:{value:t.target.value,hasError:a.email,error:a.email?"Invalid email address":""}})},e.handlePasswordInput=function(t){e.setState({password:{value:t.target.value}})},e.handleRememberMe=function(t){e.setState({rememberMe:t.target.checked})},e.handleSubmit=function(){var t=Object(d.a)(p.a.mark((function t(a){var n,r,i,s;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),n=e.state,r=n.email,n.password,i=n.rememberMe,r.hasError&&e.setState({errorDialog:!0,errorMessage:"Invalid email address"}),r.hasError){t.next=18;break}return i&&""!==r.value?localStorage.email=r.value:localStorage.removeItem("email"),t.prev=5,t.next=8,e.setState({loading:!0});case 8:return t.next=10,W(e.state.email.value,e.state.password.value);case 10:return t.next=12,V();case 12:(s=t.sent)?e.props.history.push("/".concat(s.role)):e.setState({errorDialog:!0,errorMessage:"Email address/Password is incorrect. Please try again."});case 14:return t.prev=14,t.next=17,e.setState({loading:!1});case 17:return t.finish(14);case 18:case"end":return t.stop()}}),t,null,[[5,,14,18]])})));return function(e){return t.apply(this,arguments)}}(),e.getOpenStateOfErrorDialog=function(t){e.setState({errorDialog:t})},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=Object(d.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.setState({loading:!0}),e.next=4,V();case 4:(t=e.sent)&&this.props.history.push("/".concat(t.role));case 6:return e.prev=6,this.setState({loading:!1}),e.finish(6);case 9:localStorage.email&&""!==localStorage.email&&this.setState({email:{value:localStorage.email}});case 10:case"end":return e.stop()}}),e,this,[[0,,6,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.classes;return Object(n.jsxs)(i.a.Fragment,{children:[Object(n.jsxs)(D.a,{container:!0,className:e.root,children:[Object(n.jsx)(f.a,{}),Object(n.jsx)(D.a,{item:!0,xs:!1,sm:4,md:7,className:e.image}),Object(n.jsx)(D.a,{item:!0,xs:12,sm:8,md:5,component:k.a,elevation:6,square:!0,children:Object(n.jsxs)("div",{className:e.paper,children:[Object(n.jsx)(x.a,{className:e.avatar,children:Object(n.jsx)(S.a,{})}),Object(n.jsx)(P.a,{component:"h1",variant:"h5",children:" Login "}),Object(n.jsxs)("form",{className:e.form,onSubmit:this.handleSubmit,children:[Object(n.jsxs)(D.a,{container:!0,spacing:2,children:[Object(n.jsx)(D.a,{item:!0,xs:12,children:Object(n.jsx)(v.a,{variant:"outlined",margin:"normal",id:"email",label:"Email Address",name:"email",autoComplete:"email",required:!0,fullWidth:!0,value:this.state.email.value,error:this.state.email.hasError,onChange:this.handleEmailInput})}),Object(n.jsx)(D.a,{item:!0,xs:12,children:Object(n.jsx)(v.a,{variant:"outlined",margin:"normal",id:"password",label:"Password",name:"password",type:"password",autoComplete:"current-password",required:!0,fullWidth:!0,value:this.state.password.value,onChange:this.handlePasswordInput})})]}),Object(n.jsx)(O.a,{control:Object(n.jsx)(y.a,{color:"primary",checked:this.state.rememberMe}),label:"Remember me",onChange:this.handleRememberMe}),Object(n.jsx)(g.a,{fullWidth:!0,variant:"contained",color:"primary",type:"submit",className:e.submit,children:"Login"}),Object(n.jsxs)(D.a,{container:!0,children:[Object(n.jsx)(D.a,{item:!0,xs:!0,children:Object(n.jsx)(w.a,{component:c.b,to:"/forgetPassword",children:Object(n.jsx)(P.a,{variant:"body2",align:"left",children:"Forgot password"})})}),Object(n.jsx)(D.a,{item:!0,xs:!0,children:Object(n.jsx)(w.a,{component:c.b,to:"/register",children:Object(n.jsx)(P.a,{variant:"body2",align:"right",children:"Don't have an account?"})})})]})]})]})})]}),Object(n.jsx)(_,{open:this.state.errorDialog,close:this.getOpenStateOfErrorDialog,error:this.state.errorMessage}),Object(n.jsx)(K,{open:this.state.loading})]})}}]),a}(r.Component),Q=E()((function(e){return{root:{height:"100%"},image:{backgroundImage:"url(https://images.unsplash.com/photo-1551076805-e1869033e561?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=2980&q=80)",backgroundRepeat:"no-repeat",backgroundColor:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[900],backgroundSize:"cover",backgroundPosition:"center"},paper:{margin:e.spacing(8,4),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}),{withTheme:!0})(Z),X=a(8),ee=a(615),te=function(){var e=Object(d.a)(p.a.mark((function e(t){var a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={email:t},e.prev=1,e.next=4,M.a.post("".concat("","/checkEmailExist"),a);case 4:return n=e.sent,e.abrupt("return",n.data.emailStatus);case 8:if(e.prev=8,e.t0=e.catch(1),500!==e.t0.response.status){e.next=12;break}return e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),ae=function(){var e=Object(d.a)(p.a.mark((function e(t,a,n,r,i,s,o){var c,l,u;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c={name:t,email:a,password:n,phone:r,gender:i,dob:s,ssn:o,patientID:""},e.prev=1,e.next=4,M.a.post("".concat("","/patient/create"),c);case 4:return u=e.sent,c.patientID=u.data[0].id,console.log(c.patientID),e.next=9,M.a.post("".concat("","/register"),c);case 9:return l=e.sent,console.log(l),e.abrupt("return",l.data.registerStatus);case 14:e.prev=14,e.t0=e.catch(1),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(t,a,n,r,i,s,o){return e.apply(this,arguments)}}(),ne=a(616),re=a(117),ie=a(39),se=a(629),oe=function(e){Object(j.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={name:{value:"",hasError:!1,error:""},gender:{value:""},email:{value:"",hasError:!1,exist:!1,error:""},phone:{value:"",hasError:!1,exist:!1,error:""},SSN:{value:"",hasError:!1,error:""},DOB:{value:new Date},password:{value:""},confirmedPassword:{value:"",hasError:!1,error:""},registerStatus:!1,errorDialog:!1,errorMessage:"",loading:!1},e.handleNameInput=function(t){var a=T("name",t.target.value);e.setState({name:{value:t.target.value,hasError:a.name,error:a.name?"Are you a daughter of Elon Musk?":""}})},e.handleGenderInput=function(t){e.setState({gender:{value:t.target.value}})},e.handleEmailInput=function(t){var a=T("email",t.target.value);e.setState({email:{value:t.target.value,hasError:a.email,error:a.email?"Invalid email address":""}})},e.handlePhoneInput=function(t){var a=T("phone",t.target.value);e.setState({phone:{value:t.target.value,hasError:a.phone,error:a.phone?"Must have 10 numbers":""}})},e.handleSSNInput=function(){var t=Object(d.a)(p.a.mark((function t(a){var n;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=T("ssn",a.target.value),t.next=3,e.setState({SSN:{value:a.target.value,hasError:n.ssn,error:n.ssn?"5 numbers and no character":""}});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handleDOBInput=function(){var t=Object(d.a)(p.a.mark((function t(a){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({DOB:{value:a}});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handlePasswordInput=function(t){e.setState({password:{value:t.target.value}})},e.handleConfirmedPasswordInput=function(t){var a=t.target.value===e.state.password.value;e.setState({confirmedPassword:{value:t.target.value,hasError:!a,error:a?"":"Password doesn't match."}})},e.handleDialogClose=function(){var t=Object(d.a)(p.a.mark((function t(a,n){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("error"!==n){t.next=3;break}return t.next=3,e.setState({errorDialog:a});case 3:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),e.handleSubmit=Object(d.a)(p.a.mark((function t(){var a,n;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a={dialogMessage:"",dialogError:!1},n=e.state.email,t.prev=2,t.next=5,e.setState({loading:!0});case 5:return t.next=7,te(e.state.email.value);case 7:return n.exist=t.sent,t.next=10,e.setState({email:n});case 10:return t.prev=10,t.next=13,e.setState({loading:!1});case 13:return t.finish(10);case 14:return e.state.name.hasError?(a.dialogHasError=!0,a.dialogMessage="The given name is invalid. Name must not contain numbers and special characters."):e.state.email.hasError?(a.dialogHasError=!0,a.dialogMessage="The given email is invalid. Please input the valid email"):e.state.email.exist?(a.dialogHasError=!0,a.dialogMessage="This email is registered. Please change email or recover password."):e.state.phone.hasError?(a.dialogHasError=!0,a.dialogMessage="Phone number is invalid. Phone number must contain 10 numbers."):e.state.SSN.hasError?(a.dialogHasError=!0,a.dialogMessage="The social security number is wrong. Please try again."):e.state.confirmedPassword.hasError&&(a.dialogHasError=!0,a.dialogMessage="Please confirm the password again. Confirmed password should be the same with password."),t.next=17,e.setState({errorDialog:a.dialogHasError,errorMessage:a.dialogMessage});case 17:if(a.dialogHasError){t.next=29;break}return t.prev=18,t.t0=e,t.next=22,ae(e.state.name.value,e.state.email.value,e.state.password.value,e.state.phone.value,e.state.gender.value,e.state.DOB.value,e.state.SSN.value);case 22:t.t1=t.sent,t.t2={loading:!0,registerStatus:t.t1},t.t0.setState.call(t.t0,t.t2);case 25:return t.prev=25,t.next=28,e.setState({loading:!1});case 28:return t.finish(25);case 29:case"end":return t.stop()}}),t,null,[[2,,10,14],[18,,25,29]])}))),e}return Object(m.a)(a,[{key:"render",value:function(){var e=this.props.classes;return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)(Y,{children:[Object(n.jsxs)(ee.a,{maxWidth:"xs",children:[Object(n.jsx)(f.a,{}),Object(n.jsxs)("div",{className:e.paper,children:[Object(n.jsx)(x.a,{className:e.avatar,children:Object(n.jsx)(S.a,{})}),Object(n.jsx)(P.a,{component:"h1",variant:"h5",gutterBottom:!0,children:"Sign up"}),this.state.registerStatus?Object(n.jsxs)(P.a,{component:"p",variant:"body1",align:"center",children:["Register Successful ",Object(n.jsx)("br",{}),"Click ",Object(n.jsx)("span",{children:" "}),Object(n.jsx)(w.a,{component:c.b,to:"/login",children:"here"}),Object(n.jsx)("span",{children:" "})," to login"]}):Object(n.jsxs)("form",{className:e.form,children:[Object(n.jsxs)(D.a,{container:!0,spacing:2,children:[Object(n.jsx)(D.a,{item:!0,xs:12,sm:9,children:Object(n.jsx)(v.a,{autoComplete:"name",name:"Name",variant:"outlined",required:!0,fullWidth:!0,id:"Name",label:"Name",autoFocus:!0,value:this.state.name.value,error:this.state.name.hasError,helperText:this.state.name.error,onChange:this.handleNameInput})}),Object(n.jsx)(D.a,{item:!0,xs:12,sm:3,children:Object(n.jsxs)(v.a,{required:!0,fullWidth:!0,autoFocus:!0,select:!0,autoComplete:"Gender",name:"Gender",variant:"outlined",id:"Gender",label:"Sex",value:this.state.gender.value,onChange:this.handleGenderInput,children:[Object(n.jsx)(ne.a,{value:"male",children:"M"},"M"),Object(n.jsx)(ne.a,{value:"female",children:"F"},"F")]})}),Object(n.jsx)(D.a,{item:!0,xs:12,sm:6,children:Object(n.jsx)(v.a,{autoComplete:"ssn",name:"SSN",variant:"outlined",required:!0,fullWidth:!0,id:"SSN",label:"SSN",autoFocus:!0,value:this.state.SSN.value,error:this.state.SSN.hasError,helperText:this.state.SSN.error,onChange:this.handleSSNInput})}),Object(n.jsx)(D.a,{item:!0,xs:12,sm:6,children:Object(n.jsx)(ie.a,{utils:re.a,children:Object(n.jsx)(se.a,{disableFuture:!0,variant:"inline",inputVariant:"outlined",label:"Date of Birth",format:"dd/MM/yyyy",openTo:"year",views:["year","month","date"],value:this.state.DOB.value,InputAdornmentProps:{position:"end"},onChange:this.handleDOBInput})})}),Object(n.jsx)(D.a,{item:!0,xs:12,sm:6,children:Object(n.jsx)(v.a,{variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",value:this.state.email.value,error:this.state.email.hasError,helperText:this.state.email.error,onChange:this.handleEmailInput})}),Object(n.jsx)(D.a,{item:!0,xs:12,sm:6,children:Object(n.jsx)(v.a,{variant:"outlined",required:!0,fullWidth:!0,id:"phone",label:"Phone Number",name:"phone",autoComplete:"phone",value:this.state.phone.value,error:this.state.phone.hasError,helperText:this.state.phone.error,onChange:this.handlePhoneInput})}),Object(n.jsx)(D.a,{item:!0,xs:12,children:Object(n.jsx)(v.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",value:this.state.password.value,error:this.state.password.hasError,helperText:this.state.password.error,onChange:this.handlePasswordInput})}),Object(n.jsx)(D.a,{item:!0,xs:12,children:Object(n.jsx)(v.a,{variant:"outlined",required:!0,fullWidth:!0,name:"confirmedPassword",label:"Confirmed Password Again",type:"password",id:"ConfirmedPassword",autoComplete:"current-password",value:this.state.confirmedPassword.value,error:this.state.confirmedPassword.hasError,helperText:this.state.confirmedPassword.error,onChange:this.handleConfirmedPasswordInput})})]}),Object(n.jsx)(g.a,{className:e.submit,fullWidth:!0,variant:"contained",color:"primary",onClick:this.handleSubmit,children:"Sign Up"}),Object(n.jsx)(D.a,{container:!0,justify:"flex-end",children:Object(n.jsx)(D.a,{item:!0,children:Object(n.jsx)(w.a,{component:c.b,to:"/login",children:Object(n.jsx)(P.a,{variant:"body2",align:"right",children:"Already have an account? Sign in"})})})})]})]})]}),Object(n.jsx)(_,{open:this.state.errorDialog,close:this.handleDialogClose,error:this.state.errorMessage}),Object(n.jsx)(K,{open:this.state.loading})]}),Object(n.jsx)(L,{})]})}}]),a}(r.Component),ce=Object(X.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}}),{withTheme:!0})(oe),le=a(60),ue=a(618),pe=a(617),de=function(e){Object(j.a)(a,e);var t=Object(b.a)(a);function a(){return Object(h.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=Object(d.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null!==sessionStorage.getItem("redirect")&&(this.props.history.push(sessionStorage.redirect),sessionStorage.removeItem("redirect"));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.classes;return Object(n.jsxs)(i.a.Fragment,{children:[Object(n.jsx)(f.a,{}),Object(n.jsx)(ue.a,{position:"static",color:"primary",elevation:0,className:e.appBar,children:Object(n.jsxs)(pe.a,{className:e.toolbar,children:[Object(n.jsx)(P.a,{variant:"h6",color:"inherit",noWrap:!0,className:e.toolbarTitle,children:"IU Hospital"}),Object(n.jsx)(g.a,{component:c.b,to:"/login",color:"inherit",className:e.link,children:"Login"}),Object(n.jsx)(g.a,{component:c.b,to:"/register",color:"inherit",className:e.link,children:"Register"})]})}),Object(n.jsxs)(ee.a,{maxWidth:"sm",component:"main",className:e.heroContent,children:[Object(n.jsx)(P.a,{component:"h1",variant:"h3",align:"center",color:"textPrimary",gutterBottom:!0,children:"Treatment in the best hospital of Vietnam"}),Object(n.jsx)(P.a,{component:"p",variant:"h6",align:"center",color:"textSecondary",children:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Asperiores aspernatur assumenda beatae cum dicta dignissimos doloremque doloribus eum exercitationem facilis fuga mollitia neque numquam odio officiis pariatur placeat provident quo rem, rerum sint tempore, veniam vitae. Alias corporis enim iure officia omnis optio perferendis perspiciatis, reiciendis velit veniam. Atque ipsam iusto necessitatibus omnis quasi similique veniam voluptatem. Atque doloribus ducimus est nam omnis quae quo ut? Animi deleniti ex expedita hic laboriosam modi officia, optio repellat reprehenderit sapiente. Atque consequatur cum dolore doloremque ducimus eius nemo obcaecati, quaerat soluta voluptatum?"})]}),Object(n.jsx)(ee.a,{maxWidth:"xs",component:"main",children:Object(n.jsxs)(D.a,{container:!0,children:[Object(n.jsx)(D.a,{item:!0,xs:!0,children:Object(n.jsx)(w.a,{component:c.b,to:"/login",children:Object(n.jsx)(P.a,{variant:"body1",align:"center",children:"Book now!"})})}),Object(n.jsx)(D.a,{item:!0,xs:!0,children:Object(n.jsx)(w.a,{component:c.b,to:"/register",children:Object(n.jsx)(P.a,{variant:"body1",align:"center",children:"I'm new here!"})})})]})})]})}}]),a}(r.Component),he=Object(X.a)((function(e){return{"@global":{ul:{margin:0,padding:0,listStyle:"none"}},appBar:{borderBottom:"1px solid ".concat(e.palette.divider)},toolbar:{flexWrap:"wrap"},toolbarTitle:{flexGrow:1},link:{margin:e.spacing(1,1.5)},heroContent:{padding:e.spacing(8,0,6)},cardHeader:{backgroundColor:"light"===e.palette.type?e.palette.grey[200]:e.palette.grey[700]},cardPricing:{display:"flex",justifyContent:"center",alignItems:"baseline",marginBottom:e.spacing(2)},footer:Object(le.a)({borderTop:"1px solid ".concat(e.palette.divider),marginTop:e.spacing(8),paddingTop:e.spacing(3),paddingBottom:e.spacing(3)},e.breakpoints.up("sm"),{paddingTop:e.spacing(6),paddingBottom:e.spacing(6)})}}),{withTheme:!0})(de),me=function(){var e=Object(d.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,M.a.post("".concat("","/forgetPassword"),{email:t});case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),500!==e.t0.response.status){e.next=9;break}return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}(),je=function(){var e=Object(d.a)(p.a.mark((function e(t,a){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,M.a.post("".concat("","/resetPassword"),{email:t,password:a});case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),500!==e.t0.response.status){e.next=9;break}return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t,a){return e.apply(this,arguments)}}(),be=function(){var e=Object(d.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(d.a)(p.a.mark((function e(a,n){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,M.a.post("".concat("","/verify-jwt"),{jwtToken:t});case 3:r=e.sent,a(r.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),n(e.t0.response.data.error);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,a){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),xe=function(e){Object(j.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={email:{value:"",hasError:!1,error:""},errorDialog:!1,errorMessage:"",done:!1,loading:!1},e.handleEmailInput=function(t){var a=T("email",e.state.email.value);e.setState({email:{value:t?t.target.value:e.state.email.value,hasError:a.email,error:a.email?"Invalid email address":""}})},e.handleDialogClose=function(){var t=Object(d.a)(p.a.mark((function t(a,n){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("error"!==n){t.next=3;break}return t.next=3,e.setState({errorDialog:a,errorMessage:""});case 3:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),e.handleSubmit=function(){var t=Object(d.a)(p.a.mark((function t(a){var n;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),n={dialogMessage:"",dialogHasError:!1},e.state.email.hasError&&(n.dialogHasError=!0,n.dialogMessage="The given email is invalid. Please input the valid email"),e.setState({errorDialog:{open:n.dialogHasError,error:n.dialogMessage}}),n.dialogHasError){t.next=20;break}return e.setState({done:!0}),t.prev=6,t.next=9,me(e.state.email.value);case 9:return t.next=11,e.setState({loading:!0});case 11:t.next=16;break;case 13:t.prev=13,t.t0=t.catch(6),console.log(t.t0);case 16:return t.prev=16,t.next=19,e.setState({loading:!1});case 19:return t.finish(16);case 20:case"end":return t.stop()}}),t,null,[[6,13,16,20]])})));return function(e){return t.apply(this,arguments)}}(),e.backToForm=function(t){t.preventDefault(),e.setState({done:!1})},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this.props.classes;return Object(n.jsxs)(i.a.Fragment,{children:[Object(n.jsxs)(ee.a,{maxWidth:"xs",children:[Object(n.jsx)(f.a,{}),Object(n.jsxs)("div",{className:e.paper,children:[Object(n.jsx)(x.a,{className:e.avatar,children:Object(n.jsx)(S.a,{})}),Object(n.jsx)(P.a,{component:"h1",variant:"h5",gutterBottom:!0,children:"Password Recovery"}),this.state.done?Object(n.jsxs)(P.a,{component:"p",variant:"body1",align:"justify",children:["You should soonly receive an email containing a link to reset password. If you have not received an email, it may not be a registered one. Click ",Object(n.jsx)("span",{children:" "}),Object(n.jsx)(w.a,{href:"",onClick:this.backToForm,children:"here"}),Object(n.jsx)("span",{children:" "})," to enter another one."]}):Object(n.jsxs)("div",{children:[Object(n.jsx)(P.a,{component:"p",variant:"subtitle2",children:"Enter your email address to receive reset password link"}),Object(n.jsxs)("form",{className:e.form,onSubmit:this.handleSubmit,children:[Object(n.jsx)(D.a,{container:!0,spacing:2,children:Object(n.jsx)(D.a,{item:!0,xs:12,children:Object(n.jsx)(v.a,{variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",value:this.state.email.value,error:this.state.email.hasError,helperText:this.state.email.error,onChange:this.handleEmailInput})})}),Object(n.jsx)(g.a,{className:e.submit,fullWidth:!0,variant:"contained",color:"primary",type:"submit",children:"Submit"})]})]})]})]}),Object(n.jsx)(K,{open:this.state.loading}),Object(n.jsx)(_,{open:this.state.errorDialog,close:this.handleDialogClose,error:this.state.errorMessage})]})}}]),a}(r.Component),ge=Object(X.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}}),{withTheme:!0})(xe),fe=function(e){Object(j.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(h.a)(this,a);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))).state={button:{open:!1,error:""},password:{value:"",reenter:{hasError:!1,error:""}},mess:"",email:"",messOnly:!1,loading:!1},e.handleReenterPassword=function(t){var a=e.state.password;t.target.value!==a.value?a.reenter={hasError:!0,error:"Reentered password does not match"}:a.reenter={hasError:!1,error:""},e.setState({password:a})},e.handleEnterPassword=function(t){var a=e.state.password;a.value=t.target.value,e.setState({password:a})},e.handleDialogClose=function(){e.setState({button:{open:!1,error:""}})},e.handleSubmit=function(){var t=Object(d.a)(p.a.mark((function t(a){var r;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),r={dialogMessage:"",dialogHasError:!1},e.state.password.reenter.hasError&&(r.dialogHasError=!0,r.dialogMessage=e.state.password.reenter.error),e.setState({button:{open:r.dialogHasError,error:r.dialogMessage}}),r.dialogHasError){t.next=20;break}return t.prev=5,t.next=8,e.setState({loading:!0});case 8:return t.next=10,je(e.state.email,e.state.password.value);case 10:e.setState({messOnly:!0,mess:Object(n.jsxs)(n.Fragment,{children:["You have successfully changed your password. ",Object(n.jsx)("br",{}),Object(n.jsxs)(P.a,{component:"p",variant:"body1",align:"center",children:["Click ",Object(n.jsx)("span",{children:" "}),Object(n.jsx)(c.b,{to:"/login",children:"here"}),Object(n.jsx)("span",{children:" "})," to login"]})]})}),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(5),console.log(t.t0);case 16:return t.prev=16,t.next=19,e.setState({loading:!1});case 19:return t.finish(16);case 20:case"end":return t.stop()}}),t,null,[[5,13,16,20]])})));return function(e){return t.apply(this,arguments)}}(),e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=Object(d.a)(p.a.mark((function e(){var t,a,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((t=new URLSearchParams(window.location.search)).has("token")){e.next=5;break}this.props.history.push("/"),e.next=20;break;case 5:return e.prev=5,this.setState({loading:!0}),e.next=9,be(t.get("token"));case 9:a=e.sent,this.setState({email:a.email,mess:"Enter new password"}),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(5),r="Token Has Expired"===e.t0?Object(n.jsxs)(n.Fragment,{children:["It seems like your token has expired after 10 minutes. Please go back to ",Object(n.jsx)("span",{children:" "}),Object(n.jsx)(c.b,{to:"/forgetPassword",children:"forget password page"}),Object(n.jsx)("span",{children:" "})," to request a new email with a valid token."]}):"Error: ".concat(e.t0),this.setState({mess:r,messOnly:!0});case 17:return e.prev=17,this.setState({loading:!1}),e.finish(17);case 20:case"end":return e.stop()}}),e,this,[[5,13,17,20]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.classes;return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(Y,{children:Object(n.jsxs)(ee.a,{maxWidth:"xs",children:[Object(n.jsx)(f.a,{}),Object(n.jsxs)("div",{className:e.paper,children:[Object(n.jsx)(x.a,{className:e.avatar,children:Object(n.jsx)(S.a,{})}),Object(n.jsx)(P.a,{component:"h1",variant:"h5",gutterBottom:!0,children:"Password Recovery"}),this.state.messOnly?Object(n.jsx)(P.a,{component:"p",variant:"body1",align:"justify",children:this.state.mess}):Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(P.a,{component:"p",variant:"subtitle2",children:this.state.mess}),Object(n.jsxs)("form",{className:e.form,onSubmit:this.handleSubmit,children:[Object(n.jsx)(D.a,{container:!0,spacing:2,children:Object(n.jsx)(D.a,{item:!0,xs:12,children:Object(n.jsx)(v.a,{variant:"outlined",required:!0,fullWidth:!0,label:"New Password",type:"password",value:this.state.password.value,onChange:this.handleEnterPassword})})}),Object(n.jsx)(D.a,{container:!0,spacing:2,children:Object(n.jsx)(D.a,{item:!0,xs:12,children:Object(n.jsx)(v.a,{variant:"outlined",required:!0,fullWidth:!0,label:"Reenter New Password",type:"password",onChange:this.handleReenterPassword,error:this.state.password.reenter.hasError,helperText:this.state.password.reenter.error})})}),Object(n.jsx)(g.a,{className:e.submit,fullWidth:!0,variant:"contained",color:"primary",type:"submit",children:"Submit"}),Object(n.jsxs)(q.a,{open:this.state.button.open,onClose:this.handleDialogClose,"aria-describedby":"alert-dialog-description",children:[Object(n.jsx)(H.a,{children:Object(n.jsx)(G.a,{id:"alert-dialog-description",children:this.state.button.error})}),Object(n.jsx)(B.a,{children:Object(n.jsx)(g.a,{onClick:this.handleDialogClose,color:"primary",children:"Got it!"})})]})]})]})]}),Object(n.jsx)(K,{open:this.state.loading})]})}),Object(n.jsx)(L,{})]})}}]),a}(r.Component),ve=Object(X.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}}),{withTheme:!0})(fe),Oe=a(53),ye=a(620),we=a(624),ke=a(623),De=a(619),Ce=a(621),Se=a(622),Pe=a(635),Ne=Object(n.jsx)(Pe.a,{variant:"outlined",size:"small",label:"Upcoming",color:"primary"}),Ae=Object(n.jsx)(Pe.a,{variant:"outlined",size:"small",label:"Completed",color:"secondary"}),Ie=a(201),Ee=a.n(Ie),Le=a(614),Te=function(e){Object(j.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).handleDialogClose=function(){e.props.close(!1,"diseaseInfo")},e}return Object(m.a)(a,[{key:"render",value:function(){return Object(n.jsxs)(q.a,{open:this.props.open,onClose:this.handleDialogClose,"aria-describedby":"alert-dialog-description",children:[Object(n.jsxs)(H.a,{children:[Object(n.jsx)(R.a,{id:"form-dialog-title",children:this.props.data}),Object(n.jsx)(G.a,{id:"alert-dialog-description",children:this.props.data})]}),Object(n.jsx)(B.a,{children:Object(n.jsx)(g.a,{onClick:this.handleDialogClose,color:"primary",children:"Got it!"})})]})}}]),a}(r.Component),Fe=function(e){Object(j.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).handleDialogClose=function(){e.props.close(!1,"practitionerInfo")},e}return Object(m.a)(a,[{key:"render",value:function(){return Object(n.jsxs)(q.a,{open:this.props.open,onClose:this.handleDialogClose,"aria-describedby":"alert-dialog-description",children:[Object(n.jsxs)(H.a,{children:[Object(n.jsx)(R.a,{id:"form-dialog-title",children:this.props.data}),Object(n.jsx)(G.a,{id:"alert-dialog-description",children:this.props.data})]}),Object(n.jsx)(B.a,{children:Object(n.jsx)(g.a,{onClick:this.handleDialogClose,color:"primary",children:"Got it!"})})]})}}]),a}(r.Component),Me=["Aug 18","Aug 20","Sep 19","Oct 17"],We=["18:00","17:00","7:00","13:00"],qe=function(e){Object(j.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={date:e.props.date,time:e.props.time,diseaseInfoDialog:!1,practitionerInfoDialog:!1},e.handleDialogClose=function(){e.props.close(!1,"editAppointment")},e.handleSubDialogClose=function(){var t=Object(d.a)(p.a.mark((function t(a,n){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("diseaseInfo"!==n){t.next=5;break}return t.next=3,e.setState({diseaseInfoDialog:a});case 3:t.next=8;break;case 5:if("practitionerInfo"!==n){t.next=8;break}return t.next=8,e.setState({practitionerInfoDialog:a});case 8:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),e.handleSave=function(){e.handleDialogClose()},e.handleDelete=function(){e.handleDialogClose()},e.handleDateChange=function(){var t=Object(d.a)(p.a.mark((function t(a){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({date:a.target.value});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handleTimeChange=function(){var t=Object(d.a)(p.a.mark((function t(a){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({time:a.target.value});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handleDiseaseInfoClick=Object(d.a)(p.a.mark((function t(){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({diseaseInfoDialog:!0});case 2:case"end":return t.stop()}}),t)}))),e.handlePractitionerInfoClick=Object(d.a)(p.a.mark((function t(){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({practitionerInfoDialog:!0});case 2:case"end":return t.stop()}}),t)}))),e}return Object(m.a)(a,[{key:"render",value:function(){return Object(n.jsxs)(i.a.Fragment,{children:[Object(n.jsxs)(q.a,{open:this.props.open,onClose:this.handleDialogClose,"aria-labelledby":"form-dialog-title",children:[Object(n.jsx)(R.a,{id:"form-dialog-title",children:"Appointment Information"}),Object(n.jsx)(H.a,{children:Object(n.jsxs)(D.a,{container:!0,children:[Object(n.jsx)(D.a,{item:!0,xs:12,children:Object(n.jsx)(G.a,{id:"alert-dialog-description",children:"To edit information of this appointment, please enter or choose new information below. There are some read only information you can not change."})}),Object(n.jsx)(D.a,{item:!0,xs:12,children:Object(n.jsx)(v.a,{autoFocus:!0,fullWidth:!0,variant:"outlined",margin:"normal",id:"disease",label:"Disease",value:this.props.disease,InputProps:{readOnly:!0,endAdornment:Object(n.jsx)(Le.a,{"aria-label":"information",children:Object(n.jsx)(Ee.a,{onClick:this.handleDiseaseInfoClick})})}})}),Object(n.jsx)(D.a,{item:!0,xs:12,children:Object(n.jsx)(v.a,{autoFocus:!0,fullWidth:!0,variant:"outlined",margin:"normal",id:"practitioner",label:"Practitioner",value:this.props.practitioner,InputProps:{readOnly:!0,endAdornment:Object(n.jsx)(Le.a,{"aria-label":"information",children:Object(n.jsx)(Ee.a,{onClick:this.handlePractitionerInfoClick})})}})}),Object(n.jsx)(D.a,{item:!0,xs:12,children:Object(n.jsx)(v.a,{autoFocus:!0,fullWidth:!0,variant:"outlined",margin:"normal",id:"room",label:"Room",InputProps:{readOnly:!0},value:this.props.room})}),Object(n.jsx)(D.a,{item:!0,xs:12,children:Object(n.jsx)(v.a,{autoFocus:!0,fullWidth:!0,select:!0,variant:"outlined",margin:"normal",id:"date",label:"Date",value:this.state.date,onChange:this.handleDateChange,children:Me.map((function(e){return Object(n.jsx)(ne.a,{value:e,children:e},e)}))})}),Object(n.jsx)(D.a,{item:!0,xs:12,children:Object(n.jsx)(v.a,{autoFocus:!0,fullWidth:!0,select:!0,variant:"outlined",margin:"normal",id:"time",label:"Time",value:this.state.time,onChange:this.handleTimeChange,children:We.map((function(e){return Object(n.jsx)(ne.a,{value:e,children:e},e)}))})})]})}),Object(n.jsxs)(B.a,{children:[Object(n.jsx)(g.a,{onClick:this.handleSave,color:"primary",align:"right",children:"Save"}),Object(n.jsx)(g.a,{onClick:this.handleDelete,color:"primary",align:"left",children:"Delete"})]})]}),Object(n.jsx)(Te,{open:this.state.diseaseInfoDialog,close:this.handleSubDialogClose,data:this.props.disease}),Object(n.jsx)(Fe,{open:this.state.practitionerInfoDialog,close:this.handleSubDialogClose,data:this.props.practitioner})]})}}]),a}(r.Component),Be=function(){var e=Object(d.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,M.a.post("".concat("","/disease/all"),{withCredentials:!0});case 3:return t=e.sent,e.abrupt("return",t.data);case 7:if(e.prev=7,e.t0=e.catch(0),500!==e.t0.response.status){e.next=11;break}return e.abrupt("return",null);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),He=function(){var e=Object(d.a)(p.a.mark((function e(t){var a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={diseaseID:t},e.prev=1,e.next=4,M.a.post("".concat("","/patient/appointments/findPractitioner"),a,{withCredentials:!0});case 4:return n=e.sent,console.log(n.data),e.abrupt("return",n.data);case 9:if(e.prev=9,e.t0=e.catch(1),500!==e.t0.response.status){e.next=13;break}return e.abrupt("return",null);case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),Ge=function(){var e=Object(d.a)(p.a.mark((function e(t,a){var n,r,i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={practitionerID:t,day:a.getDate(),month:a.getMonth()+1},e.prev=1,e.next=4,M.a.post("".concat("","/patient/appointments/getAvailableTime"),n,{withCredentials:!0});case 4:return r=e.sent,i=r.data.availableTime.map((function(e){return"".concat(e,":00")})),e.abrupt("return",i);case 9:if(e.prev=9,e.t0=e.catch(1),500!==e.t0.response.status){e.next=13;break}return e.abrupt("return",null);case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,a){return e.apply(this,arguments)}}(),Re=function(){var e=Object(d.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,M.a.post("".concat("","/admin/patients/all"),{withCredentials:!0});case 3:return t=e.sent,e.abrupt("return",t.data);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),_e=function(){var e=Object(d.a)(p.a.mark((function e(t){var a,n,r,i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={name:t.name,email:t.email,phone:t.phone,gender:t.gender,password:"",id:"",specialtyID:t.specialty},console.log(a),e.prev=2,n=t.email.split("@"),e.next=6,M.a.post("".concat("","/admin/practitioners/create"),a,{withCredentials:!0});case 6:return r=e.sent,a.id=r.data[0].id,a.password=n[0],e.next=11,M.a.post("".concat("","/admin/practitioners/account/create"),a,{withCredentials:!0});case 11:i=e.sent,console.log(i),e.next=19;break;case 15:if(e.prev=15,e.t0=e.catch(2),500!==e.t0.response.status){e.next=19;break}return e.abrupt("return",null);case 19:case"end":return e.stop()}}),e,null,[[2,15]])})));return function(t){return e.apply(this,arguments)}}(),ze=function(){var e=Object(d.a)(p.a.mark((function e(t){var a,n,r,i,s,o,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.date.getDate(),n=t.date.getMonth(),r=t.date.getFullYear(),i=t.time.split(":"),console.log(a,n,r,i),s={diseaseID:t.diseaseID,practitionerID:t.practitionerID,patientID:t.patientID,at:new Date(r,n,a,i[0],i[1]),roomID:null,last_appointment:null},e.prev=6,e.next=9,M.a.post("".concat("","/patient/appointments/findRoom"),s,{withCredentials:!0});case 9:return c=e.sent,s.roomID=c.data[0].id,console.log("data return",s),e.next=14,M.a.post("".concat("","/patient/appointments/create"),s,{withCredentials:!0});case 14:o=e.sent,console.log(o),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(6),console.log(e.t0);case 21:case"end":return e.stop()}}),e,null,[[6,18]])})));return function(t){return e.apply(this,arguments)}}(),Ke=function(e){Object(j.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={disease:"",patientList:[],patient:"",practitionerList:[],practitioner:"",dateList:[],date:new Date,timeList:[],time:"",user:""},e.handleDialogClose=Object(d.a)(p.a.mark((function t(){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({disease:"",patientList:[],patient:"",practitionerList:[],practitioner:"",dateList:[],date:new Date,timeList:[],time:"",user:""});case 2:e.props.close(!1,"newAppointment");case 3:case"end":return t.stop()}}),t)}))),e.handleSave=Object(d.a)(p.a.mark((function t(){var a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a={diseaseID:e.state.disease,practitionerID:e.state.practitioner,patientID:e.state.patient,date:e.state.date,time:e.state.time},t.prev=1,t.next=4,e.props.loading(!0);case 4:return console.log("loading"),t.next=7,ze(a);case 7:t.sent;case 8:return t.prev=8,t.next=11,e.props.loading(!1);case 11:return console.log("loaded"),t.finish(8);case 13:return t.next=15,e.handleDialogClose();case 15:case"end":return t.stop()}}),t,null,[[1,,8,13]])}))),e.handlePatientChange=function(){var t=Object(d.a)(p.a.mark((function t(a){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({patient:a.target.value});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handleDiseaseChange=function(){var t=Object(d.a)(p.a.mark((function t(a){var n;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({disease:a.target.value});case 2:return t.prev=2,t.next=5,e.props.loading(!0);case 5:return console.log("loading"),t.next=8,He(e.state.disease);case 8:return n=t.sent,t.next=11,e.setState({practitionerList:n});case 11:console.log(e.state.practitionerList);case 12:return t.prev=12,t.next=15,e.props.loading(!1);case 15:return console.log("loaded"),t.finish(12);case 17:case"end":return t.stop()}}),t,null,[[2,,12,17]])})));return function(e){return t.apply(this,arguments)}}(),e.handlePractitionerChange=function(){var t=Object(d.a)(p.a.mark((function t(a){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({practitioner:a.target.value});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handleDateChange=function(){var t=Object(d.a)(p.a.mark((function t(a){var n;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({date:a});case 2:return t.prev=2,t.next=5,e.props.loading(!0);case 5:return console.log("loading"),t.next=8,Ge(e.state.practitioner,e.state.date);case 8:return n=t.sent,console.log(n),t.next=12,e.setState({timeList:n});case 12:return t.prev=12,t.next=15,e.props.loading(!1);case 15:return console.log("loaded"),t.finish(12);case 17:case"end":return t.stop()}}),t,null,[[2,,12,17]])})));return function(e){return t.apply(this,arguments)}}(),e.handleTimeChange=function(){var t=Object(d.a)(p.a.mark((function t(a){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({time:a.target.value});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=Object(d.a)(p.a.mark((function e(){var t,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.setState({loading:!0});case 3:return e.next=5,V();case 5:if(!(t=e.sent)){e.next=18;break}return e.next=9,this.setState({user:t.role});case 9:if("admin"!==t.role){e.next=17;break}return e.next=12,Re();case 12:return a=e.sent,e.next=15,this.setState({patientList:a});case 15:e.next=18;break;case 17:"patient"===t.role&&console.log(t.userID);case 18:return e.prev=18,e.next=21,this.setState({loading:!1});case 21:return e.finish(18);case 22:case"end":return e.stop()}}),e,this,[[0,,18,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(n.jsxs)(q.a,{open:this.props.open,onClose:this.handleDialogClose,"aria-labelledby":"form-dialog-title",children:[Object(n.jsx)(R.a,{id:"form-dialog-title",children:"Make new appointment"}),Object(n.jsx)(H.a,{children:Object(n.jsxs)(D.a,{container:!0,spacing:2,children:[Object(n.jsx)(D.a,{item:!0,xs:12,children:Object(n.jsx)(G.a,{id:"alert-dialog-description",children:"To make new appointment, please enter your information here."})}),"admin"===this.state.user&&Object(n.jsx)(D.a,{item:!0,xs:12,children:Object(n.jsx)(v.a,{autoFocus:!0,fullWidth:!0,select:!0,variant:"outlined",id:"disease",label:"Disease",value:this.state.patient,onChange:this.handlePatientChange,children:this.state.patientList.map((function(e){return Object(n.jsx)(ne.a,{value:e.id,children:e.name},e.id)}))})}),Object(n.jsx)(D.a,{item:!0,xs:12,children:Object(n.jsx)(v.a,{autoFocus:!0,fullWidth:!0,select:!0,variant:"outlined",id:"disease",label:"Disease",value:this.state.disease,onChange:this.handleDiseaseChange,children:this.props.disease.map((function(e){return Object(n.jsx)(ne.a,{value:e.id,children:e.name.charAt(0).toUpperCase()+e.name.slice(1)},e.id)}))})}),("admin"===this.state.user||"patient"===this.state.user)&&Object(n.jsx)(D.a,{item:!0,xs:12,children:Object(n.jsx)(v.a,{autoFocus:!0,fullWidth:!0,select:!0,variant:"outlined",id:"practitioner",label:"Practitioner",value:this.state.practitioner,onChange:this.handlePractitionerChange,children:this.state.practitionerList.map((function(e){return Object(n.jsx)(ne.a,{value:e.id,children:e.name},e.id)}))})}),Object(n.jsx)(D.a,{item:!0,xs:12,children:Object(n.jsx)(ie.a,{utils:re.a,children:Object(n.jsx)(se.a,{disablePast:!0,fullWidth:!0,autoFocus:!0,variant:"inline",inputVariant:"outlined",label:"Date of appointment",format:"dd/MM/yyyy",value:this.state.date,onChange:this.handleDateChange})})}),Object(n.jsx)(D.a,{item:!0,xs:12,children:Object(n.jsx)(v.a,{autoFocus:!0,fullWidth:!0,select:!0,variant:"outlined",id:"time",label:"Time",value:this.state.time,onChange:this.handleTimeChange,children:this.state.timeList.map((function(e){return Object(n.jsx)(ne.a,{value:e,children:e},e)}))})})]})}),Object(n.jsx)(B.a,{children:Object(n.jsx)(g.a,{onClick:this.handleSave,color:"primary",align:"right",children:"Save"})})]})}}]),a}(r.Component),Ue=function(e){Object(j.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).handleDialogClose=function(){e.props.close(!1,"yesNo")},e.handleYes=function(){e.props.yesno(!0),e.handleDialogClose()},e.handleNo=function(){e.props.yesno(!1),e.handleDialogClose()},e}return Object(m.a)(a,[{key:"render",value:function(){return Object(n.jsxs)(q.a,{open:this.props.open,onClose:this.handleDialogClose,"aria-labelledby":"form-dialog-title",children:[Object(n.jsx)(H.a,{children:Object(n.jsx)(G.a,{id:"alert-dialog-description",children:this.props.content})}),Object(n.jsxs)(B.a,{children:[Object(n.jsx)(g.a,{onClick:this.handleYes,color:"primary",align:"right",children:"Yes"}),Object(n.jsx)(g.a,{onClick:this.handleNo,color:"primary",align:"right",children:"No"})]})]})}}]),a}(r.Component),Ye=function(){var e=Object(d.a)(p.a.mark((function e(t){var a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={symptoms:t},console.log("disease predict input test at api",a.symptoms),e.prev=2,e.next=5,M.a.post("".concat("","/disease/findDiseases"),a);case 5:if(n=e.sent,console.log("disease returned in api",n.data,n.data.length),0!==n.data.length){e.next=9;break}return e.abrupt("return",[{id:0,name:"No disease found"}]);case 9:return e.abrupt("return",n.data);case 12:if(e.prev=12,e.t0=e.catch(2),console.log("disease error",e.t0.response.status),400!==e.t0.response.status&&500!==e.t0.response.status){e.next=17;break}return e.abrupt("return",[{id:0,name:"No disease found"}]);case 17:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(t){return e.apply(this,arguments)}}(),$e=function(e){Object(j.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={searchInput:"",listOfSymptom:[],checkedListOfSymptom:[],checkedListOfSymptomID:[],filteredListOfSymptom:e.props.symptom},e.handleDialogClose=Object(d.a)(p.a.mark((function t(){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({searchInput:"",listOfSymptom:[],checkedListOfSymptom:[],checkedListOfSymptomID:[]});case 2:e.props.close(!1,"symptoms");case 3:case"end":return t.stop()}}),t)}))),e.handleDiseasePredict=Object(d.a)(p.a.mark((function t(){var a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.props.loading(!0);case 3:return console.log("loading"),console.log("disease predict test",e.state.checkedListOfSymptomID),t.next=7,Ye(e.state.checkedListOfSymptomID);case 7:return a=t.sent,console.log("disease by symptom res",a),t.next=11,e.props.disease(a);case 11:return t.prev=11,t.next=14,e.props.loading(!1);case 14:return console.log("loaded"),t.finish(11);case 16:case"end":return t.stop()}}),t,null,[[0,,11,16]])}))),e.handleSearch=function(){var t=Object(d.a)(p.a.mark((function t(a){var n,r;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.target.value,t.next=3,e.setState({searchInput:n});case 3:return r=e.props.symptom.filter((function(t){return t.name.toLowerCase().includes(e.state.searchInput.toLowerCase())})),t.next=6,e.setState({filteredListOfSymptom:r});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handleChipClick=function(){var t=Object(d.a)(p.a.mark((function t(a){var n,r,i;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.props.symptom.find((function(e){return e.id===a.id})),r=e.state.checkedListOfSymptom,i=e.state.checkedListOfSymptomID,r.includes(n)||(r.push(n),i.push(n.id)),t.next=6,e.setState({checkedListOfSymptom:r,checkedListOfSymptomID:i});case 6:console.log("click",r);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handleChipDelete=function(){var t=Object(d.a)(p.a.mark((function t(a){var n,r,i,s;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.state.checkedListOfSymptom,r=e.state.checkedListOfSymptomID,console.log("delete",n),i=n.find((function(e){return e.id===a.id})),(s=n.indexOf(i))>-1&&(n.splice(s,1),r.splice(s,1)),t.next=8,e.setState({checkedListOfSymptom:n,checkedListOfSymptomID:r});case 8:console.log("delete",n);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handleSave=Object(d.a)(p.a.mark((function t(){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.handleDiseasePredict();case 2:return t.next=4,e.handleDialogClose();case 4:case"end":return t.stop()}}),t)}))),e}return Object(m.a)(a,[{key:"render",value:function(){var e=this,t=this.props.classes;return Object(n.jsxs)(q.a,{fullWidth:!0,open:this.props.open,onClose:this.handleDialogClose,"aria-describedby":"alert-dialog-description",children:[Object(n.jsx)(R.a,{id:"form-dialog-title",children:"Symptom Log"}),Object(n.jsxs)(H.a,{children:[Object(n.jsx)(G.a,{id:"alert-dialog-description",children:"What's your symptoms babe?"}),Object(n.jsxs)(D.a,{container:!0,spacing:3,children:[Object(n.jsx)(D.a,{item:!0,xs:!0,className:t.root,children:this.state.checkedListOfSymptom.map((function(a){return Object(n.jsx)("span",{children:Object(n.jsx)(Pe.a,{clickable:!0,color:"secondary",label:a.name,onDelete:function(){return e.handleChipDelete(a)},onClick:function(){return e.handleChipDelete(a)},className:t.chip})},a.id)}))}),Object(n.jsx)(D.a,{item:!0,xs:12,children:Object(n.jsx)(v.a,{required:!0,fullWidth:!0,autoFocus:!0,name:"Symptom",variant:"outlined",id:"Symptom",label:"Symptom",value:this.state.searchInput,onChange:this.handleSearch})}),Object(n.jsx)(D.a,{item:!0,xs:!0,className:t.root,children:this.state.filteredListOfSymptom.map((function(a){return Object(n.jsx)("span",{children:Object(n.jsx)(Pe.a,{clickable:!0,color:"primary",label:a.name,onClick:function(){return e.handleChipClick(a)},className:t.chip})},a.id)}))})]})]}),Object(n.jsx)(B.a,{children:Object(n.jsx)(g.a,{onClick:this.handleSave,color:"primary",align:"right",children:"Save"})})]})}}]),a}(r.Component),Je=Object(X.a)((function(e){return{root:{display:"flex",justifyContent:"center",flexWrap:"wrap",listStyle:"none",padding:e.spacing(.5),margin:0},chip:{margin:e.spacing(.5)}}}),{withTheme:!0})($e),Ve=function(){var e=Object(d.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,M.a.post("".concat("","/symptom/all"));case 3:return t=e.sent,e.abrupt("return",t.data);case 7:if(e.prev=7,e.t0=e.catch(0),500!==e.t0.response.status){e.next=11;break}return e.abrupt("return",null);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),Ze=function(){var e=Object(d.a)(p.a.mark((function e(){var t,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V();case 2:return t=e.sent,console.log(t.role),e.prev=4,e.next=7,M.a.post("".concat("","/").concat(t.role,"/appointments/all"),{withCredentials:!0});case 7:return a=e.sent,console.log(a.data),e.abrupt("return",a.data);case 12:return e.prev=12,e.t0=e.catch(4),console.log(e.t0),e.abrupt("return",[]);case 16:case"end":return e.stop()}}),e,null,[[4,12]])})));return function(){return e.apply(this,arguments)}}(),Qe=[{id:"practitioner_name",label:"Practitioner"},{id:"medical_service",label:"Medical Service",align:"right"},{id:"start",label:"Time",align:"right"},{id:"date",label:"Date",align:"right"},{id:"status",label:"Status",align:"right"}],Xe={id:"",disease:"",practitioner:"",room:"",time:"",date:"",status:""},et=function(e){Object(j.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={editAppointmentDialog:!1,yesNoDialog:!1,newAppointmentDialog:!1,symptomsDialog:!1,isAppointment:!0,appointment:[],symptomList:[],diseaseKnown:!1,diseasePredicted:[],diseaseList:[],loading:!1,dataLoading:!1},e.handleRowClick=function(t,a){console.log(a),Xe={id:a.id,disease:a.disease,practitioner:a.practitioner_name,room:a.room,time:a.time,date:a.date,status:!1},e.setState({editAppointmentDialog:a.status})},e.handleNewClick=Object(d.a)(p.a.mark((function t(){var a,n;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.setState({loading:!0});case 3:return console.log("loading"),t.next=6,Be();case 6:return a=t.sent,t.next=9,Ve();case 9:n=t.sent,console.log("symptomList",n);case 11:return t.prev=11,t.next=14,e.setState({loading:!1});case 14:return console.log("loaded"),t.finish(11);case 16:return t.next=18,e.setState({yesNoDialog:!0,newAppointmentDialog:!1,symptomsDialog:!1,symptomList:n,diseaseKnown:!1,diseasePredicted:[],diseaseList:a});case 18:case"end":return t.stop()}}),t,null,[[0,,11,16]])}))),e.handleDialogClose=function(){var t=Object(d.a)(p.a.mark((function t(a,n){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("newAppointment"!==n){t.next=5;break}return t.next=3,e.setState({newAppointmentDialog:a});case 3:t.next=18;break;case 5:if("yesNo"!==n){t.next=10;break}return t.next=8,e.setState({yesNoDialog:a});case 8:t.next=18;break;case 10:if("symptoms"!==n){t.next=15;break}return t.next=13,e.setState({symptomsDialog:a});case 13:t.next=18;break;case 15:if("editAppointment"!==n){t.next=18;break}return t.next=18,e.setState({editAppointmentDialog:a});case 18:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),e.handleLoading=function(){var t=Object(d.a)(p.a.mark((function t(a){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({loading:a});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.getAllAppointment=Object(d.a)(p.a.mark((function t(){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:Ze().then((function(t){console.log(t),e.setState({appointment:t,loading:!1})})).catch((function(e){console.log(e)}));case 1:case"end":return t.stop()}}),t)}))),e.getDiseaseKnown=function(){var t=Object(d.a)(p.a.mark((function t(a){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({diseaseKnown:a,symptomsDialog:!a,newAppointmentDialog:a});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.getDisease=function(){var t=Object(d.a)(p.a.mark((function t(a){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({diseasePredicted:a,newAppointmentDialog:!0});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){this.setState({loading:!0}),this.getAllAppointment().then().catch()}},{key:"render",value:function(){var e=this;return Object(n.jsxs)(i.a.Fragment,{children:[Object(n.jsx)(P.a,{component:"h2",variant:"h6",color:"primary",gutterBottom:!0,children:"Upcomming appointment"}),Object(n.jsx)(De.a,{children:Object(n.jsxs)(ye.a,{size:"medium",stickyHeader:!0,children:[Object(n.jsx)(Ce.a,{children:Object(n.jsx)(Se.a,{children:Qe.map((function(t){return Object(n.jsx)(ke.a,{align:t.align,children:"Status"===t.label?Object(n.jsx)(g.a,{variant:"contained",color:"primary",align:"right",onClick:e.handleNewClick,children:"New"}):t.label},t.id)}))})}),Object(n.jsx)(we.a,{children:this.state.appointment.map((function(t){return Object(n.jsx)(Se.a,{hover:!0,onClick:function(a){return e.handleRowClick(a,t)},children:Qe.map((function(e){return Object(n.jsx)(ke.a,{align:e.align,children:"status"===e.id?t[e.id]?Ne:Ae:t[e.id]},e.id)}))},t.appointment_id)}))})]})}),Object(n.jsx)(Ue,{open:this.state.yesNoDialog,close:this.handleDialogClose,yesno:this.getDiseaseKnown,content:"Do you know your disease yet?"}),Object(n.jsx)(Je,{open:this.state.symptomsDialog,close:this.handleDialogClose,loading:this.handleLoading,symptom:this.state.symptomList,disease:this.getDisease}),Object(n.jsx)(Ke,{open:this.state.newAppointmentDialog,close:this.handleDialogClose,loading:this.handleLoading,disease:this.state.diseaseKnown?this.state.diseaseList:this.state.diseasePredicted,appointment:this.getAppointment}),Object(n.jsx)(qe,Object(Oe.a)({open:this.state.editAppointmentDialog,close:this.handleDialogClose},Xe)),Object(n.jsx)(K,{open:this.state.loading})]})}}]),a}(r.Component),tt=a(6),at=a(636),nt=a(627),rt=a(612),it=a(289),st=a.n(it),ot=a(290),ct=a.n(ot),lt=a(576),ut=a(625),pt=a(626),dt=a(288),ht=a.n(dt),mt=a(287),jt=a.n(mt),bt=a(286),xt=a.n(bt),gt=a(285),ft=a.n(gt),vt=[{id:"Dashboard",link:"/admin/dashboard"},{id:"Practitioner",link:"/admin/practitioner"},{id:"Patient",link:"/admin/patient"},{id:"Appointment",link:"/admin/appointment"}],Ot=[{id:"Dashboard",link:"/practitioner/dashboard"},{id:"Appointment",link:"/practitioner/appointment"}],yt=[{id:"Dashboard",link:"/patient/dashboard"},{id:"Appointment",link:"/patient/appointment"}],wt=function(e){Object(j.a)(a,e);var t=Object(b.a)(a);function a(){return Object(h.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){var e="admin"!==this.props.type?"practitioner"!==this.props.type?yt:Ot:vt;return Object(n.jsx)("div",{children:e.map((function(e){return Object(n.jsxs)(lt.a,{button:!0,component:c.b,to:e.link,children:[Object(n.jsx)(ut.a,{children:"Dashboard"!==e.id?"Practitioner"!==e.id?"Patient"!==e.id?Object(n.jsx)(ft.a,{}):Object(n.jsx)(xt.a,{}):Object(n.jsx)(jt.a,{}):Object(n.jsx)(ht.a,{})}),Object(n.jsx)(pt.a,{primary:e.id})]})}))})}}]),a}(r.Component),kt=function(){var e=Object(d.a)(p.a.mark((function e(t,a){var n,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={email:t,password:a},e.prev=1,e.next=4,M.a.post("".concat("","/logout"),n,{withCredentials:!0});case 4:return r=e.sent,e.abrupt("return",r.data);case 8:if(e.prev=8,e.t0=e.catch(1),401!==e.t0.response.status){e.next=12;break}return e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,a){return e.apply(this,arguments)}}(),Dt=function(e){Object(j.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={barOpen:!1,redirect:null,loading:!1},e.handleDrawer=function(){e.setState({barOpen:!e.state.barOpen})},e.handleLogout=Object(d.a)(p.a.mark((function t(){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return J("connect.sid"),t.prev=1,e.setState({loading:!0}),t.next=5,kt();case 5:return t.prev=5,e.setState({loading:!1}),t.finish(5);case 8:e.setState({redirect:"/login"});case 9:case"end":return t.stop()}}),t,null,[[1,,5,8]])}))),e}return Object(m.a)(a,[{key:"render",value:function(){var e=this.props.classes;return this.state.redirect?Object(n.jsx)(l.a,{to:"/"}):Object(n.jsxs)(i.a.Fragment,{children:[Object(n.jsx)(ue.a,{position:"absolute",className:Object(tt.a)(e.appBar,this.state.barOpen&&e.appBarShift),children:Object(n.jsxs)(pe.a,{className:e.toolbar,children:[Object(n.jsx)(Le.a,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:this.handleDrawer,className:Object(tt.a)(e.menuButton,this.state.barOpen&&e.menuButtonHidden),children:Object(n.jsx)(st.a,{})}),Object(n.jsx)(P.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,className:e.title,display:"inline",children:"Dashboard"}),Object(n.jsx)(g.a,{color:"inherit",onClick:this.handleLogout,children:"Log out"})]})}),Object(n.jsxs)(at.a,{variant:"permanent",classes:{paper:Object(tt.a)(e.drawerPaper,!this.state.barOpen&&e.drawerPaperClose)},open:this.state.barOpen,children:[Object(n.jsx)("div",{className:e.toolbarIcon,children:Object(n.jsx)(Le.a,{onClick:this.handleDrawer,children:Object(n.jsx)(ct.a,{})})}),Object(n.jsx)(nt.a,{}),Object(n.jsx)(rt.a,{children:Object(n.jsx)(wt,{type:this.props.type})})]}),Object(n.jsx)(K,{open:this.state.loading})]})}}]),a}(r.Component),Ct=Object(X.a)((function(e){return{appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(le.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)}),toolbarIcon:Object(Oe.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),toolbar:{flexWrap:"wrap"},menuButton:{},menuButtonHidden:{display:"none"},title:{flexGrow:1}}}),{withTheme:!0})(Dt),St=a(51),Pt=a(40);function Nt(e,t){return{time:e,Patients:t}}var At=[Nt("00:00",350),Nt("03:00",400),Nt("06:00",550),Nt("09:00",1050),Nt("12:00",1150),Nt("15:00",2350),Nt("18:00",1850),Nt("21:00",850),Nt("24:00",void 0)];function It(){var e=Object(St.a)();return Object(n.jsxs)(i.a.Fragment,{children:[Object(n.jsx)(P.a,{component:"h2",variant:"h6",color:"primary",gutterBottom:!0,children:"Patients"}),Object(n.jsx)(Pt.d,{children:Object(n.jsxs)(Pt.c,{data:At,margin:{top:16,right:16,bottom:0,left:24},children:[Object(n.jsx)(Pt.f,{dataKey:"time",stroke:e.palette.text.secondary}),Object(n.jsx)(Pt.g,{stroke:e.palette.text.secondary,children:Object(n.jsx)(Pt.a,{angle:270,position:"left",style:{textAnchor:"middle",fill:e.palette.text.primary},children:"Patients"})}),Object(n.jsx)(Pt.e,{}),Object(n.jsx)(Pt.b,{type:"monotone",dataKey:"Patients",stroke:e.palette.primary.main})]})})]})}var Et=function(e){Object(j.a)(a,e);var t=Object(b.a)(a);function a(){return Object(h.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){return Object(n.jsxs)(i.a.Fragment,{children:[Object(n.jsx)(P.a,{component:"h2",variant:"h6",color:"primary",gutterBottom:!0,children:"Appointments"}),Object(n.jsx)(P.a,{component:"p",variant:"h3",children:"1285"}),Object(n.jsx)(P.a,{color:"textSecondary",children:"was made."})]})}}]),a}(r.Component);function Lt(e,t){return{time:e,Practitioners:t}}var Tt=[Lt("00:00",15),Lt("03:00",15),Lt("06:00",50),Lt("09:00",180),Lt("12:00",200),Lt("15:00",170),Lt("18:00",80),Lt("21:00",40),Lt("24:00",void 0)],Ft=function(e){Object(j.a)(a,e);var t=Object(b.a)(a);function a(){return Object(h.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){return Object(n.jsxs)(i.a.Fragment,{children:[Object(n.jsx)(P.a,{component:"h2",variant:"h6",color:"primary",gutterBottom:!0,children:"Practitioners"}),Object(n.jsx)(Pt.d,{children:Object(n.jsxs)(Pt.c,{data:Tt,margin:{top:16,right:16,bottom:0,left:24},children:[Object(n.jsx)(Pt.f,{dataKey:"time",color:"secondary"}),Object(n.jsx)(Pt.g,{color:"secondary",children:Object(n.jsx)(Pt.a,{angle:270,position:"left",style:{textAnchor:"middle",color:"primary"},children:"Practitioners"})}),Object(n.jsx)(Pt.e,{}),Object(n.jsx)(Pt.b,{type:"monotone",dataKey:"Practitioners",color:"secondary"})]})})]})}}]),a}(r.Component),Mt=function(e){Object(j.a)(a,e);var t=Object(b.a)(a);function a(){return Object(h.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){var e=this.props.classes,t=Object(tt.a)(e.paper,e.fixedHeight);return Object(n.jsx)("main",{className:e.content,children:Object(n.jsx)(ee.a,{maxWidth:"lg",className:e.container,children:Object(n.jsxs)(D.a,{container:!0,spacing:3,children:[Object(n.jsx)(D.a,{item:!0,xs:12,md:8,lg:9,children:Object(n.jsx)(k.a,{className:t,children:Object(n.jsx)(Ft,{})})}),Object(n.jsx)(D.a,{item:!0,xs:12,md:4,lg:3,children:Object(n.jsx)(k.a,{className:t,children:Object(n.jsx)(Et,{})})}),Object(n.jsx)(D.a,{item:!0,xs:12,children:Object(n.jsx)(k.a,{className:t,children:Object(n.jsx)(It,{})})})]})})})}}]),a}(r.Component),Wt=E()((function(e){return{root:{display:"flex"},content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:260}}}))(Mt),qt=a(300),Bt=E()({page_404:{margin:"30px auto",background:"#fff"},four_zero_four:{fontSize:"50px",fontFamily:'"Arvo", serif'},four_zero_four_bg:{backgroundImage:"url(https://im4.ezgif.com/tmp/ezgif-4-f89390835a1b.gif)",backgroundRepeat:"no-repeat",height:"400px",backgroundPosition:"center"},link_404:{color:"inherit",textDecoration:"none"},constant_box_404:{margin:"-50px 20px 50px 20px",fontFamily:'"Arvo", serif'}})((function(e){var t=e.classes;return Object(n.jsx)(ee.a,{maxWidth:"sm",children:Object(n.jsxs)(D.a,{container:!0,direction:"column",spacing:2,children:[Object(n.jsxs)(D.a,{item:!0,children:[Object(n.jsx)(P.a,{className:t.four_zero_four_bg}),Object(n.jsxs)(P.a,{component:"h1",variant:"h5",align:"center",children:[e.code," ",Object(n.jsx)("br",{})," ",e.mess]})]}),Object(n.jsx)(D.a,{item:!0,children:Object(n.jsx)(P.a,{align:"center",children:"Hi, I'm Cat the Detective. Don't you dare hack my website!"})}),Object(n.jsx)(g.a,{component:c.b,to:"/",variant:"text",color:"primary",children:"Go Home"})]})})})),Ht=function(e){var t=Object(r.useState)("loading"),a=Object(qt.a)(t,2),i=a[0],s=a[1],o=e.authorize;return Object(r.useEffect)((function(){Object(d.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o();case 3:s("authorized"),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),s("forbidden");case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))()}),[o]),"loading"===i?Object(n.jsx)(K,{open:!0}):"forbidden"===i?Object(n.jsx)(Bt,{code:403,mess:"Forbidden"}):e.children},Gt=function(e){Object(j.a)(a,e);var t=Object(b.a)(a);function a(){return Object(h.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"isPatient",value:function(){var e=Object(d.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V();case 2:if(!(t=e.sent)||"patient"!==t.role){e.next=5;break}return e.abrupt("return",Promise.resolve());case 5:return e.abrupt("return",Promise.reject());case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e,t,a=this.props.classes;return Object(n.jsx)(Ht,{authorize:this.isPatient,children:Object(n.jsxs)("div",{className:a.root,children:[Object(n.jsx)(f.a,{}),Object(n.jsx)(Ct,{type:"patient"}),Object(n.jsxs)("div",{className:a.content,children:[Object(n.jsx)("div",{className:a.appBarSpacer}),Object(n.jsx)(ee.a,{maxWidth:"lg",className:a.container,children:Object(n.jsx)(D.a,{container:!0,spacing:3,children:Object(n.jsx)(D.a,{item:!0,xs:12,children:Object(n.jsxs)(k.a,{className:a.paper,children:[Object(n.jsx)(l.b,(e={exact:!0,path:"/patient"},Object(le.a)(e,"exact",!0),Object(le.a)(e,"component",Wt),e)),Object(n.jsx)(l.b,(t={exact:!0,path:"/patient/dashboard"},Object(le.a)(t,"exact",!0),Object(le.a)(t,"component",Wt),t)),Object(n.jsx)(l.b,{path:"/patient/appointment",exact:!0,component:et})]})})})})]})]})})}}]),a}(r.Component),Rt=Object(X.a)((function(e){return{root:{display:"flex"},content:{flexGrow:1,overflow:"auto"},appBarSpacer:e.mixins.toolbar,container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column",height:640}}}),{withTheme:!0})(Gt),_t=[{id:"patient_name",label:"Patient"},{id:"medical_service",label:"Medical Service",align:"right"},{id:"start",label:"Time",align:"right"},{id:"date",label:"Date",align:"right"},{id:"status",label:"Status",align:"right"}],zt={id:"",disease:"",practitioner:"",room:"",time:"",date:"",status:""},Kt=function(e){Object(j.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={editAppointmentDialog:!1,yesNoDialog:!1,newAppointmentDialog:!1,symptomsDialog:!1,isAppointment:!0,appointment:[],symptomList:[],diseaseKnown:!1,diseasePredicted:[],diseaseList:[],loading:!1,dataLoading:!1},e.handleRowClick=function(t,a){console.log(a),zt={id:a.id,disease:a.disease,practitioner:a.practitioner_name,room:a.room,time:a.time,date:a.date,status:!1},e.setState({editAppointmentDialog:a.status})},e.handleNewClick=Object(d.a)(p.a.mark((function t(){var a,n;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.setState({loading:!0});case 3:return console.log("loading"),t.next=6,Be();case 6:return a=t.sent,t.next=9,Ve();case 9:n=t.sent,console.log("symptomList",n);case 11:return t.prev=11,t.next=14,e.setState({loading:!1});case 14:return console.log("loaded"),t.finish(11);case 16:return t.next=18,e.setState({yesNoDialog:!0,newAppointmentDialog:!1,symptomsDialog:!1,symptomList:n,diseaseKnown:!1,diseasePredicted:[],diseaseList:a});case 18:case"end":return t.stop()}}),t,null,[[0,,11,16]])}))),e.handleDialogClose=function(){var t=Object(d.a)(p.a.mark((function t(a,n){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("newAppointment"!==n){t.next=5;break}return t.next=3,e.setState({newAppointmentDialog:a});case 3:t.next=18;break;case 5:if("yesNo"!==n){t.next=10;break}return t.next=8,e.setState({yesNoDialog:a});case 8:t.next=18;break;case 10:if("symptoms"!==n){t.next=15;break}return t.next=13,e.setState({symptomsDialog:a});case 13:t.next=18;break;case 15:if("editAppointment"!==n){t.next=18;break}return t.next=18,e.setState({editAppointmentDialog:a});case 18:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),e.handleLoading=function(){var t=Object(d.a)(p.a.mark((function t(a){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({loading:a});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.getAllAppointment=Object(d.a)(p.a.mark((function t(){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:Ze().then((function(t){console.log(t),e.setState({appointment:t,loading:!1})})).catch((function(e){console.log(e)}));case 1:case"end":return t.stop()}}),t)}))),e.getDiseaseKnown=function(){var t=Object(d.a)(p.a.mark((function t(a){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({diseaseKnown:a,symptomsDialog:!a,newAppointmentDialog:a});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.getDisease=function(){var t=Object(d.a)(p.a.mark((function t(a){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({diseasePredicted:a,newAppointmentDialog:!0});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){this.setState({loading:!0}),this.getAllAppointment().then().catch()}},{key:"render",value:function(){var e=this;return Object(n.jsxs)(i.a.Fragment,{children:[Object(n.jsx)(P.a,{component:"h2",variant:"h6",color:"primary",gutterBottom:!0,children:"Upcomming appointment"}),Object(n.jsx)(De.a,{children:Object(n.jsxs)(ye.a,{size:"medium",stickyHeader:!0,children:[Object(n.jsx)(Ce.a,{children:Object(n.jsx)(Se.a,{children:_t.map((function(t){return Object(n.jsx)(ke.a,{align:t.align,children:"Status"===t.label?Object(n.jsx)(g.a,{variant:"contained",color:"primary",align:"right",onClick:e.handleNewClick,children:"New"}):t.label},t.id)}))})}),Object(n.jsx)(we.a,{children:this.state.appointment.map((function(t){return Object(n.jsx)(Se.a,{hover:!0,onClick:function(a){return e.handleRowClick(a,t)},children:_t.map((function(e){return Object(n.jsx)(ke.a,{align:e.align,children:"status"===e.id?t[e.id]?Ne:Ae:t[e.id]},e.id)}))},t.appointment_id)}))})]})}),Object(n.jsx)(Ue,{open:this.state.yesNoDialog,close:this.handleDialogClose,yesno:this.getDiseaseKnown,content:"Do you know your disease yet?"}),Object(n.jsx)(Je,{open:this.state.symptomsDialog,close:this.handleDialogClose,loading:this.handleLoading,symptom:this.state.symptomList,disease:this.getDisease}),Object(n.jsx)(Ke,{open:this.state.newAppointmentDialog,close:this.handleDialogClose,loading:this.handleLoading,disease:this.state.diseaseKnown?this.state.diseaseList:this.state.diseasePredicted,appointment:this.getAppointment}),Object(n.jsx)(qe,Object(Oe.a)({open:this.state.editAppointmentDialog,close:this.handleDialogClose},zt)),Object(n.jsx)(K,{open:this.state.loading})]})}}]),a}(r.Component),Ut=function(e){Object(j.a)(a,e);var t=Object(b.a)(a);function a(){return Object(h.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"isPractitioner",value:function(){var e=Object(d.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V();case 2:if(t=e.sent,console.log(t),!t||"practitioner"!==t.role){e.next=6;break}return e.abrupt("return",Promise.resolve());case 6:return e.abrupt("return",Promise.reject());case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.classes;return Object(n.jsx)(Ht,{authorize:this.isPractitioner,children:Object(n.jsxs)("div",{className:e.root,children:[Object(n.jsx)(f.a,{}),Object(n.jsx)(Ct,{type:"practitioner"}),Object(n.jsxs)("div",{className:e.content,children:[Object(n.jsx)("div",{className:e.appBarSpacer}),Object(n.jsx)(ee.a,{maxWidth:"lg",className:e.container,children:Object(n.jsx)(D.a,{container:!0,spacing:3,children:Object(n.jsx)(D.a,{item:!0,xs:12,children:Object(n.jsxs)(k.a,{className:e.paper,children:[Object(n.jsx)(l.b,{exact:!0,path:"/practitioner",component:Wt}),Object(n.jsx)(l.b,{exact:!0,path:"/practitioner/dashboard",component:Wt}),"\\",Object(n.jsx)(l.b,{exact:!0,path:"/practitioner/appointment",component:Kt})]})})})})]})]})})}}]),a}(r.Component),Yt=E()((function(e){return{root:{display:"flex"},content:{flexGrow:1,overflow:"auto"},appBarSpacer:e.mixins.toolbar,container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column",height:640}}}),{withTheme:!0})(Ut),$t=[{id:"practitioner_name",label:"Practitioner"},{id:"patient_name",label:"Patient"},{id:"medical_service",label:"Medical Service",align:"right"},{id:"start",label:"Time",align:"right"},{id:"date",label:"Date",align:"right"},{id:"status",label:"Status",align:"right"}],Jt={id:"",disease:"",practitioner:"",room:"",time:"",date:"",status:""},Vt=function(e){Object(j.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={editAppointmentDialog:!1,yesNoDialog:!1,newAppointmentDialog:!1,symptomsDialog:!1,appointment:[],symptomList:[],diseaseKnown:!1,diseasePredicted:[],diseaseList:[],loading:!1,dataLoading:!1},e.handleRowClick=function(t,a){console.log(a),Jt={id:a.id,disease:a.disease,practitioner:a.practitioner_name,room:a.room,time:a.time,date:a.date,status:!1},e.setState({editAppointmentDialog:a.status})},e.handleNewClick=Object(d.a)(p.a.mark((function t(){var a,n;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.setState({loading:!0});case 3:return console.log("loading"),t.next=6,Be();case 6:return a=t.sent,t.next=9,Ve();case 9:n=t.sent,console.log("symptomList",n);case 11:return t.prev=11,t.next=14,e.setState({loading:!1});case 14:return console.log("loaded"),t.finish(11);case 16:return t.next=18,e.setState({yesNoDialog:!0,newAppointmentDialog:!1,symptomsDialog:!1,symptomList:n,diseaseKnown:!1,diseasePredicted:[],diseaseList:a});case 18:case"end":return t.stop()}}),t,null,[[0,,11,16]])}))),e.handleDialogClose=function(){var t=Object(d.a)(p.a.mark((function t(a,n){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("newAppointment"!==n){t.next=5;break}return t.next=3,e.setState({newAppointmentDialog:a});case 3:t.next=18;break;case 5:if("yesNo"!==n){t.next=10;break}return t.next=8,e.setState({yesNoDialog:a});case 8:t.next=18;break;case 10:if("symptoms"!==n){t.next=15;break}return t.next=13,e.setState({symptomsDialog:a});case 13:t.next=18;break;case 15:if("editAppointment"!==n){t.next=18;break}return t.next=18,e.setState({editAppointmentDialog:a});case 18:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),e.handleLoading=function(){var t=Object(d.a)(p.a.mark((function t(a){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({loading:a});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.getDiseaseKnown=function(){var t=Object(d.a)(p.a.mark((function t(a){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({diseaseKnown:a,symptomsDialog:!a,newAppointmentDialog:a});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.getDisease=function(){var t=Object(d.a)(p.a.mark((function t(a){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({diseasePredicted:a,newAppointmentDialog:!0});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.getAppointment=function(e){},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.setState({loading:!0}),Ze().then((function(t){console.log(t),e.setState({appointment:t,loading:!1})}))}},{key:"render",value:function(){var e=this;return Object(n.jsxs)(i.a.Fragment,{children:[Object(n.jsx)(P.a,{component:"h2",variant:"h6",color:"primary",gutterBottom:!0,children:"Upcomming appointment"}),Object(n.jsx)(De.a,{children:Object(n.jsxs)(ye.a,{size:"medium",stickyHeader:!0,children:[Object(n.jsx)(Ce.a,{children:Object(n.jsx)(Se.a,{children:$t.map((function(t){return Object(n.jsx)(ke.a,{align:t.align,children:"Status"===t.label?Object(n.jsx)(g.a,{variant:"contained",color:"primary",align:"right",onClick:e.handleNewClick,children:"New"}):t.label},t.id)}))})}),Object(n.jsx)(we.a,{children:this.state.appointment.map((function(t){return Object(n.jsx)(Se.a,{hover:!0,onClick:function(a){return e.handleRowClick(a,t)},children:$t.map((function(e){return Object(n.jsx)(ke.a,{align:e.align,children:"status"===e.id?t[e.id]?Ne:Ae:t[e.id]},e.id)}))},t.id)}))})]})}),Object(n.jsx)(Ue,{open:this.state.yesNoDialog,close:this.handleDialogClose,yesno:this.getDiseaseKnown,content:"Do you know your disease yet?"}),Object(n.jsx)(Je,{open:this.state.symptomsDialog,close:this.handleDialogClose,loading:this.handleLoading,symptom:this.state.symptomList,disease:this.getDisease}),Object(n.jsx)(Ke,{open:this.state.newAppointmentDialog,close:this.handleDialogClose,loading:this.handleLoading,disease:this.state.diseaseKnown?this.state.diseaseList:this.state.diseasePredicted,appointment:this.getAppointment}),Object(n.jsx)(qe,Object(Oe.a)({open:this.state.editAppointmentDialog,close:this.handleDialogClose},Jt)),Object(n.jsx)(K,{open:this.state.loading})]})}}]),a}(r.Component),Zt=function(){var e=Object(d.a)(p.a.mark((function e(t){var a,n,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={practitionerID:t},console.log(a),e.prev=2,e.next=5,M.a.post("".concat("","/admin/practitioners/account/delete"),a,{withCredentials:!0});case 5:return n=e.sent,console.log(n.data),e.next=9,M.a.post("".concat("","/admin/practitioners/delete"),a,{withCredentials:!0});case 9:r=e.sent,console.log(r.data),e.next=17;break;case 13:if(e.prev=13,e.t0=e.catch(2),500!==e.t0.response.status){e.next=17;break}return e.abrupt("return",null);case 17:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(t){return e.apply(this,arguments)}}(),Qt=function(e){Object(j.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={loading:!1},e.handleDialogClose=function(){e.props.close(!1,"editPractitioner")},e.handleSave=function(){e.handleDialogClose()},e.handleDelete=Object(d.a)(p.a.mark((function t(){var a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.setState({loading:!0});case 3:return t.next=5,Zt(e.props.id);case 5:a=t.sent,console.log(a);case 7:return t.prev=7,t.next=10,e.setState({loading:!1});case 10:return t.finish(7);case 11:e.handleDialogClose();case 12:case"end":return t.stop()}}),t,null,[[0,,7,11]])}))),e}return Object(m.a)(a,[{key:"render",value:function(){return Object(n.jsxs)(i.a.Fragment,{children:[Object(n.jsxs)(q.a,{open:this.props.open,onClose:this.handleDialogClose,"aria-labelledby":"form-dialog-title",children:[Object(n.jsx)(R.a,{id:"form-dialog-title",children:"Practitioner Information"}),Object(n.jsx)(H.a,{children:Object(n.jsxs)(D.a,{container:!0,spacing:2,children:[Object(n.jsx)(D.a,{item:!0,xs:12,children:Object(n.jsx)(G.a,{id:"alert-dialog-description",children:"To edit information of this practitioner, please enter new information below. There are some read only information you can not change."})}),Object(n.jsx)(D.a,{item:!0,xs:12,sm:9,children:Object(n.jsx)(v.a,{autoComplete:"name",name:"Name",variant:"outlined",required:!0,fullWidth:!0,id:"Name",label:"Name",autoFocus:!0,value:this.props.name,InputProps:{readOnly:!0}})}),Object(n.jsx)(D.a,{item:!0,xs:12,sm:3,children:Object(n.jsx)(v.a,{required:!0,fullWidth:!0,autoFocus:!0,autoComplete:"Gender",name:"Gender",variant:"outlined",id:"Gender",label:"Sex",value:this.props.sex,InputProps:{readOnly:!0}})}),Object(n.jsx)(D.a,{item:!0,xs:12,sm:6,children:Object(n.jsx)(v.a,{variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",value:this.props.email,InputProps:{readOnly:!0}})}),Object(n.jsx)(D.a,{item:!0,xs:12,sm:6,children:Object(n.jsx)(v.a,{variant:"outlined",required:!0,fullWidth:!0,id:"phone",label:"Phone Number",name:"phone",autoComplete:"phone",value:this.props.phone,InputProps:{readOnly:!0}})}),Object(n.jsx)(D.a,{item:!0,xs:12,sm:12,children:Object(n.jsx)(v.a,{autoComplete:"specialty",name:"Specialty",variant:"outlined",required:!0,fullWidth:!0,id:"specialty",label:"Specialty",autoFocus:!0,value:this.props.specialty,InputProps:{readOnly:!0}})})]})}),Object(n.jsxs)(B.a,{children:[Object(n.jsx)(g.a,{onClick:this.handleDelete,color:"primary",align:"left",children:"Delete"}),Object(n.jsx)(g.a,{onClick:this.handleSave,color:"primary",align:"right",children:"Save"})]})]}),Object(n.jsx)(K,{open:this.state.loading})]})}}]),a}(r.Component),Xt=function(e){Object(j.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={name:{value:"",hasError:!1,error:""},sex:{value:""},email:{value:"",hasError:!1,error:"",exist:""},phone:{value:"",hasError:!1,error:""},specialty:{value:""},errorDialog:!1,errorMessage:""},e.handleDialogClose=function(){e.props.close(!1,"newPractitioner")},e.handleSave=Object(d.a)(p.a.mark((function t(){var a,n;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.props.loading(!0);case 3:return t.next=5,te(e.state.email.value);case 5:if(null==t.sent){t.next=9;break}return t.next=9,e.setState({email:{exist:!0}});case 9:return t.prev=9,t.next=12,e.props.loading(!1);case 12:return t.finish(9);case 13:if(!(a=e.getError()).error){t.next=19;break}return t.next=17,e.props.error(a);case 17:t.next=23;break;case 19:return n={name:e.state.name.value,email:e.state.email.value,phone:e.state.phone.value,gender:e.state.sex.value,password:"",id:"",specialty:e.state.specialty.value},t.next=22,_e(n);case 22:e.handleDialogClose();case 23:case"end":return t.stop()}}),t,null,[[0,,9,13]])}))),e.handleNameChange=function(){var t=Object(d.a)(p.a.mark((function t(a){var n;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=T("name",a.target.value),t.next=3,e.setState({name:{value:a.target.value,hasError:n.name,error:n.name?"Name must not contain number":""}});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handleGenderChange=function(){var t=Object(d.a)(p.a.mark((function t(a){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({sex:{value:a.target.value}});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handleDOBChange=function(){var t=Object(d.a)(p.a.mark((function t(a){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({dob:{value:a}});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handleEmailChange=function(){var t=Object(d.a)(p.a.mark((function t(a){var n;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=T("email",a.target.value),t.next=3,e.setState({email:{value:a.target.value,hasError:n.email,error:n.email?"Email invalid":""}});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handlePhoneChange=function(){var t=Object(d.a)(p.a.mark((function t(a){var n;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=T("phone",a.target.value),t.next=3,e.setState({phone:{value:a.target.value,hasError:n.phone,error:n.phone?"Must have only 10 numbers":""}});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handleSpecialtyChange=function(){var t=Object(d.a)(p.a.mark((function t(a){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({specialty:{value:a.target.value}});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.getError=function(){var t={error:!1,message:""};return e.state.name.hasError?(t.error=!0,t.message="The given name is invalid. Name must not contain numbers and special characters."):e.state.email.hasError?(t.error=!0,t.message="The given email is invalid. Please input the valid email"):e.state.email.exist?(t.error=!0,t.message="This email is registered. Please change email or recover password."):e.state.phone.hasError?(t.error=!0,t.message="Phone number is invalid. Phone number must contain 10 numbers."):""===e.state.name.value?(t.error=!0,t.message="Name is required"):""===e.state.email.value?(t.error=!0,t.message="Email is required"):""===e.state.phone.value?(t.error=!0,t.message="Phone is required"):""===e.state.sex.value?(t.error=!0,t.message="Sex is required"):""===e.state.specialty.value&&(t.error=!0,t.message="Speciality is required"),t},e}return Object(m.a)(a,[{key:"render",value:function(){return Object(n.jsx)(i.a.Fragment,{children:Object(n.jsxs)(q.a,{open:this.props.open,onClose:this.handleDialogClose,"aria-labelledby":"form-dialog-title",children:[Object(n.jsx)(R.a,{id:"form-dialog-title",children:"Add new practitioner"}),Object(n.jsx)(H.a,{children:Object(n.jsxs)(D.a,{container:!0,spacing:2,children:[Object(n.jsx)(D.a,{item:!0,xs:12,children:Object(n.jsx)(G.a,{id:"alert-dialog-description",children:"To add new practitioner, please enter new information below. Password will be automatically generated based on social security number."})}),Object(n.jsx)(D.a,{item:!0,xs:12,sm:9,children:Object(n.jsx)(v.a,{required:!0,fullWidth:!0,autoFocus:!0,autoComplete:"name",name:"Name",variant:"outlined",id:"Name",label:"Name",value:this.state.name.value,error:this.state.name.hasError,helperText:this.state.name.error,onChange:this.handleNameChange})}),Object(n.jsx)(D.a,{item:!0,xs:12,sm:3,children:Object(n.jsxs)(v.a,{required:!0,fullWidth:!0,autoFocus:!0,select:!0,autoComplete:"Gender",name:"Gender",variant:"outlined",id:"Gender",label:"Sex",value:this.state.sex.value,onChange:this.handleGenderChange,children:[Object(n.jsx)(ne.a,{value:"male",children:"M"},"M"),Object(n.jsx)(ne.a,{value:"female",children:"F"},"F")]})}),Object(n.jsx)(D.a,{item:!0,xs:12,sm:6,children:Object(n.jsx)(v.a,{variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",value:this.state.email.value,error:this.state.email.hasError,helperText:this.state.email.error,onChange:this.handleEmailChange})}),Object(n.jsx)(D.a,{item:!0,xs:12,sm:6,children:Object(n.jsx)(v.a,{variant:"outlined",required:!0,fullWidth:!0,id:"phone",label:"Phone Number",name:"phone",autoComplete:"phone",value:this.state.phone.value,error:this.state.phone.hasError,helperText:this.state.phone.error,onChange:this.handlePhoneChange})}),Object(n.jsx)(D.a,{item:!0,xs:12,sm:12,children:Object(n.jsxs)(v.a,{required:!0,fullWidth:!0,select:!0,autoComplete:"specialty",name:"Specialty",variant:"outlined",id:"specialty",label:"Specialty",value:this.state.specialty.value,onChange:this.handleSpecialtyChange,children:[" ",this.props.specialty.map((function(e){return Object(n.jsx)(ne.a,{value:e.id,children:e.name.charAt(0).toUpperCase()+e.name.slice(1)},e.id)}))]})})]})}),Object(n.jsx)(B.a,{children:Object(n.jsx)(g.a,{onClick:this.handleSave,color:"primary",align:"right",children:"Save"})})]})})}}]),a}(r.Component),ea=function(){var e=Object(d.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,M.a.post("".concat("","/admin/practitioners/all"),{withCredentials:!0});case 3:return t=e.sent,console.log(t.data),e.abrupt("return",t.data);case 8:if(e.prev=8,e.t0=e.catch(0),500!==e.t0.response.status){e.next=12;break}return e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),ta=function(){var e=Object(d.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,M.a.post("".concat("","/admin/departments/all"),{withCredentials:!0});case 3:return t=e.sent,console.log(t.data),e.abrupt("return",t.data);case 8:if(e.prev=8,e.t0=e.catch(0),500!==e.t0.response.status){e.next=12;break}return e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),aa=[{id:"name",label:"Name"},{id:"gender",label:"Sex",align:"right"},{id:"email",label:"Email",align:"right"},{id:"phone",label:"Phone",align:"right"},{id:"specialty",label:"Specialty",align:"right"}],na={id:"",name:"",sex:"",email:"",phone:"",speciality:""},ra=function(e){Object(j.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={practitioner:[],specialtyList:[],loading:!1,editPractitionerDialog:!1,newPractitionerDialog:!1,errorDialog:!1},e.handleDialogClose=function(){var t=Object(d.a)(p.a.mark((function t(a,n){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("editPractitioner"!==n){t.next=6;break}return t.next=3,e.setState({editPractitionerDialog:a});case 3:e.getAllPractitioner().then(),t.next=15;break;case 6:if("newPractitioner"!==n){t.next=12;break}return t.next=9,e.setState({newPractitionerDialog:a});case 9:e.getAllPractitioner().then(),t.next=15;break;case 12:if("error"!==n){t.next=15;break}return t.next=15,e.setState({errorDialog:a});case 15:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),e.handleLoading=function(){var t=Object(d.a)(p.a.mark((function t(a){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({loading:a});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handleRowClick=function(t,a){na={id:a.id,name:a.name,sex:a.gender,email:a.email,phone:a.phone,specialty:a.specialty},e.setState({editPractitionerDialog:!0})},e.handleNewClick=Object(d.a)(p.a.mark((function t(){var a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.setState({loading:!0});case 3:return t.next=5,ta();case 5:a=t.sent;case 6:return t.prev=6,t.next=9,e.setState({loading:!1});case 9:return t.finish(6);case 10:return t.next=12,e.setState({newPractitionerDialog:!0,specialtyList:a});case 12:case"end":return t.stop()}}),t,null,[[0,,6,10]])}))),e.getError=function(){var t=Object(d.a)(p.a.mark((function t(a){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({errorDialog:a.error,errorMessage:a.message});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.getAllPractitioner=Object(d.a)(p.a.mark((function t(){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:ea().then((function(t){e.setState({practitioner:t,loading:!1})}));case 1:case"end":return t.stop()}}),t)}))),e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){this.setState({loading:!0}),this.getAllPractitioner().then()}},{key:"render",value:function(){var e=this;return Object(n.jsxs)(i.a.Fragment,{children:[Object(n.jsx)(P.a,{component:"h2",variant:"h6",color:"primary",gutterBottom:!0,children:"Practitioners"}),Object(n.jsx)(De.a,{children:Object(n.jsxs)(ye.a,{size:"medium",stickyHeader:!0,children:[Object(n.jsx)(Ce.a,{children:Object(n.jsx)(Se.a,{children:aa.map((function(t){return Object(n.jsx)(ke.a,{align:t.align,children:"Name"===t.label?Object(n.jsx)(g.a,{variant:"contained",color:"primary",align:"right",onClick:e.handleNewClick,children:"New"}):t.label},t.id)}))})}),Object(n.jsx)(we.a,{children:this.state.practitioner.map((function(t){return Object(n.jsx)(Se.a,{hover:!0,onClick:function(a){return e.handleRowClick(a,t)},children:aa.map((function(e){return Object(n.jsx)(ke.a,{align:e.align,children:t[e.id]},e.id)}))},t.id)}))})]})}),Object(n.jsx)(Qt,Object(Oe.a)({open:this.state.editPractitionerDialog,close:this.handleDialogClose,loading:this.handleLoading},na)),Object(n.jsx)(Xt,{open:this.state.newPractitionerDialog,close:this.handleDialogClose,loading:this.handleLoading,error:this.getError,specialty:this.state.specialtyList}),Object(n.jsx)(_,{open:this.state.errorDialog,close:this.handleDialogClose,error:this.state.errorMessage}),Object(n.jsx)(K,{open:this.state.loading})]})}}]),a}(r.Component),ia=function(){var e=Object(d.a)(p.a.mark((function e(t){var a,n,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={patientID:t},console.log(a),e.prev=2,e.next=5,M.a.post("".concat("","/admin/patients/account/delete"),a,{withCredentials:!0});case 5:return n=e.sent,console.log(n.data),e.next=9,M.a.post("".concat("","/admin/patients/delete"),a,{withCredentials:!0});case 9:r=e.sent,console.log(r.data),e.next=17;break;case 13:if(e.prev=13,e.t0=e.catch(2),500!==e.t0.response.status){e.next=17;break}return e.abrupt("return",null);case 17:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(t){return e.apply(this,arguments)}}(),sa=function(e){Object(j.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).handleDialogClose=function(){e.props.close(!1,"editPatient")},e.handleSave=function(){e.handleDialogClose()},e.handleDelete=Object(d.a)(p.a.mark((function t(){var a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.setState({loading:!0});case 3:return t.next=5,ia(e.props.id);case 5:a=t.sent,console.log(a);case 7:return t.prev=7,t.next=10,e.setState({loading:!1});case 10:return t.finish(7);case 11:e.handleDialogClose();case 12:case"end":return t.stop()}}),t,null,[[0,,7,11]])}))),e}return Object(m.a)(a,[{key:"render",value:function(){return Object(n.jsx)(i.a.Fragment,{children:Object(n.jsxs)(q.a,{open:this.props.open,onClose:this.handleDialogClose,"aria-labelledby":"form-dialog-title",children:[Object(n.jsx)(R.a,{id:"form-dialog-title",children:"Patient Information"}),Object(n.jsx)(H.a,{children:Object(n.jsxs)(D.a,{container:!0,spacing:2,children:[Object(n.jsx)(D.a,{item:!0,xs:12,children:Object(n.jsx)(G.a,{id:"alert-dialog-description",children:"To edit information of this patient, please enter new information below. There are some read only information you can not change."})}),Object(n.jsx)(D.a,{item:!0,xs:12,sm:9,children:Object(n.jsx)(v.a,{required:!0,fullWidth:!0,autoFocus:!0,autoComplete:"name",name:"Name",variant:"outlined",id:"Name",label:"Name",value:this.props.name,InputProps:{readOnly:!0}})}),Object(n.jsx)(D.a,{item:!0,xs:12,sm:3,children:Object(n.jsx)(v.a,{required:!0,fullWidth:!0,autoFocus:!0,autoComplete:"Gender",name:"Gender",variant:"outlined",id:"Gender",label:"Sex",value:this.props.sex,InputProps:{readOnly:!0}})}),Object(n.jsx)(D.a,{item:!0,xs:12,sm:6,children:Object(n.jsx)(v.a,{required:!0,fullWidth:!0,autoFocus:!0,variant:"outlined",id:"email",label:"Email Address",name:"email",autoComplete:"email",value:this.props.email,InputProps:{readOnly:!0}})}),Object(n.jsx)(D.a,{item:!0,xs:12,sm:6,children:Object(n.jsx)(v.a,{required:!0,fullWidth:!0,autoFocus:!0,variant:"outlined",id:"phone",label:"Phone Number",name:"phone",autoComplete:"phone",value:this.props.phone,InputProps:{readOnly:!0}})}),Object(n.jsx)(D.a,{item:!0,xs:12,sm:6,children:Object(n.jsx)(v.a,{required:!0,fullWidth:!0,autoFocus:!0,autoComplete:"dob",name:"DOB",variant:"outlined",id:"DOB",label:"Date of Birth",value:this.props.dob,InputProps:{readOnly:!0}})}),Object(n.jsx)(D.a,{item:!0,xs:12,sm:6,children:Object(n.jsx)(v.a,{required:!0,fullWidth:!0,autoFocus:!0,autoComplete:"ssn",name:"SSN",variant:"outlined",id:"SSN",label:"Social Security No.",value:this.props.ssn,InputProps:{readOnly:!0}})})]})}),Object(n.jsxs)(B.a,{children:[Object(n.jsx)(g.a,{onClick:this.handleDelete,color:"primary",align:"left",children:"Delete"}),Object(n.jsx)(g.a,{onClick:this.handleSave,color:"primary",align:"right",children:"Save"})]})]})})}}]),a}(r.Component),oa=[{id:"name",label:"Name"},{id:"gender",label:"Sex",align:"right"},{id:"email",label:"Email",align:"right"},{id:"phone",label:"Phone",align:"right"},{id:"ssn",label:"Social Security No.",align:"right"},{id:"dob",label:"Date of Birth",align:"right"}],ca={id:"",name:"",sex:"",email:"",phone:"",dob:"",ssn:""},la=function(e){Object(j.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={patient:[],loading:!1,editPatientDialog:!1,newPractitionerDialog:!1,errorDialog:!1},e.handleDialogClose=function(){var t=Object(d.a)(p.a.mark((function t(a,n){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("editPatient"!==n){t.next=6;break}return t.next=3,e.setState({editPatientDialog:a});case 3:e.getAllPatient().then().catch(),t.next=14;break;case 6:if("newPractitioner"!==n){t.next=11;break}return t.next=9,e.setState({newPractitionerDialog:a});case 9:t.next=14;break;case 11:if("error"!==n){t.next=14;break}return t.next=14,e.setState({errorDialog:a});case 14:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),e.handleLoading=function(){var t=Object(d.a)(p.a.mark((function t(a){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({loading:a});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handleRowClick=function(t,a){ca={id:a.id,name:a.name,sex:a.gender,email:a.email,phone:a.phone,dob:a.dob,ssn:a.ssn},e.setState({editPatientDialog:!0})},e.handleNewClick=Object(d.a)(p.a.mark((function t(){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({newPractitionerDialog:!0});case 2:case"end":return t.stop()}}),t)}))),e.getError=function(){var t=Object(d.a)(p.a.mark((function t(a){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({errorDialog:a.error,errorMessage:a.message});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.getAllPatient=Object(d.a)(p.a.mark((function t(){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:Re().then((function(t){e.setState({patient:t,loading:!1})}));case 1:case"end":return t.stop()}}),t)}))),e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){this.setState({loading:!0}),this.getAllPatient().then().catch()}},{key:"render",value:function(){var e=this;return Object(n.jsxs)(i.a.Fragment,{children:[Object(n.jsx)(P.a,{component:"h2",variant:"h6",color:"primary",gutterBottom:!0,children:"Patients"}),Object(n.jsx)(De.a,{children:Object(n.jsxs)(ye.a,{size:"medium",stickyHeader:!0,children:[Object(n.jsx)(Ce.a,{children:Object(n.jsx)(Se.a,{children:oa.map((function(e){return Object(n.jsx)(ke.a,{align:e.align,children:e.label},e.id)}))})}),Object(n.jsx)(we.a,{children:this.state.patient.map((function(t){return Object(n.jsx)(Se.a,{hover:!0,onClick:function(a){return e.handleRowClick(a,t)},children:oa.map((function(e){return Object(n.jsx)(ke.a,{align:e.align,children:t[e.id]},e.id)}))},t.id)}))})]})}),Object(n.jsx)(sa,Object(Oe.a)({open:this.state.editPatientDialog,close:this.handleDialogClose,loading:this.handleLoading},ca)),Object(n.jsx)(_,{open:this.state.errorDialog,close:this.handleDialogClose,error:this.state.errorMessage}),Object(n.jsx)(K,{open:this.state.loading})]})}}]),a}(r.Component),ua=function(e){Object(j.a)(a,e);var t=Object(b.a)(a);function a(){return Object(h.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"isAdmin",value:function(){var e=Object(d.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V();case 2:if(!(t=e.sent)||"admin"!==t.role){e.next=5;break}return e.abrupt("return",Promise.resolve());case 5:return e.abrupt("return",Promise.reject());case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.classes;return Object(n.jsx)(Ht,{authorize:this.isAdmin,children:Object(n.jsxs)("div",{className:e.root,children:[Object(n.jsx)(f.a,{}),Object(n.jsx)(Ct,{type:"admin"}),Object(n.jsxs)("div",{className:e.content,children:[Object(n.jsx)("div",{className:e.appBarSpacer}),Object(n.jsx)(ee.a,{maxWidth:"lg",className:e.container,children:Object(n.jsx)(D.a,{container:!0,spacing:3,children:Object(n.jsx)(D.a,{item:!0,xs:12,children:Object(n.jsxs)(k.a,{className:e.paper,children:[Object(n.jsx)(l.b,{path:"/admin",exact:!0,component:Wt}),Object(n.jsx)(l.b,{path:"/admin/dashboard",exact:!0,component:Wt}),Object(n.jsx)(l.b,{path:"/admin/appointment",exact:!0,component:Vt}),Object(n.jsx)(l.b,{path:"/admin/practitioner",exact:!0,component:ra}),Object(n.jsx)(l.b,{path:"/admin/patient",exact:!0,component:la})]})})})})]})]})})}}]),a}(r.Component),pa=Object(X.a)((function(e){return{root:{display:"flex"},content:{flexGrow:1,overflow:"auto"},appBarSpacer:e.mixins.toolbar,container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column",height:640}}}),{withTheme:!0})(ua);a(570);var da=function(){return Object(n.jsx)(c.a,{children:Object(n.jsxs)(l.d,{children:[Object(n.jsx)(l.b,{path:"/register",component:ce}),Object(n.jsx)(l.b,{path:"/forgetPassword",component:ge}),Object(n.jsx)(l.b,{path:"/patient",component:Rt}),Object(n.jsx)(l.b,{path:"/practitioner",component:Yt}),Object(n.jsx)(l.b,{path:"/admin",component:pa}),Object(n.jsx)(l.b,{path:"/login",component:Q}),Object(n.jsx)(l.b,{path:"/resetPassword",component:ve}),Object(n.jsx)(l.b,{exact:!0,path:"/",component:he}),Object(n.jsx)(l.b,{render:function(e){return Object(n.jsx)(Bt,{code:404,mess:"Not Found"})}})]})})};o.a.render(Object(n.jsx)(i.a.StrictMode,{children:Object(n.jsx)(da,{})}),document.getElementById("root"))}},[[571,1,2]]]);